<!--
 - Copyright (C) Internet Systems Consortium, Inc. ("ISC")
 -
 - This Source Code Form is subject to the terms of the Mozilla Public
 - License, v. 2.0. If a copy of the MPL was not distributed with this
 - file, You can obtain one at http://mozilla.org/MPL/2.0/.
 -
 - See the COPYRIGHT file distributed with this work for additional
 - information regarding copyright ownership.
-->

<!-- Converted by db4-upgrade version 1.0 -->
<book xmlns:db="http://docbook.org/ns/docbook" version="5.0">
  <info>
    <title>BIND 9管理员参考手册</title>
    <!-- insert copyright start -->
    <copyright>
      <year>2000</year>
      <year>2001</year>
      <year>2002</year>
      <year>2003</year>
      <year>2004</year>
      <year>2005</year>
      <year>2006</year>
      <year>2007</year>
      <year>2008</year>
      <year>2009</year>
      <year>2010</year>
      <year>2011</year>
      <year>2012</year>
      <year>2013</year>
      <year>2014</year>
      <year>2015</year>
      <year>2016</year>
      <year>2017</year>
      <year>2018</year>
      <year>2019</year>
      <holder>Internet Systems Consortium, Inc. ("ISC")</holder>
    </copyright>
    <!-- insert copyright end -->
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="releaseinfo-utf8.xml"/>
  </info>

  <chapter xml:id="Bv9ARM-gbk.ch01"><info><title>介绍</title></info>

    <para>
      互联网域名系统（<acronym>DNS</acronym>）由以下几个部份组成：
      在互联网中以层次体系方式指定实体名字的语法，用于在名字之间
      授权的规则，和实际完成从名字到互联网地址映射的系统实现。
      <acronym>DNS</acronym>数据是维护在一组分布式层次数据库中。
    </para>

    <section xml:id="doc_scope"><info><title>文档范围</title></info>

      <para>
        伯克利互联网名字域（Berkeley Internet Name Domain，
        <acronym>BIND</acronym>）在一些操作系统上实现了一个名字服务器。
        本文档为系统管理员提供了安装和维护互联网系统集团
        （Internet Systems Consortium，<acronym>ISC</acronym>）
        的<acronym>BIND</acronym>版本9软件包的基本信息。
      </para>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="pkgversion-utf8.xml"/>
    </section>

    <section xml:id="organization"><info><title>本文档的组织</title></info>

      <para>
        在本文档中， <emphasis>第一章</emphasis>介绍<acronym>DNS</acronym>
        和<acronym>BIND</acronym>的基本概念。 <emphasis>第二章</emphasis>
        描述了在不同环境中运行<acronym>BIND</acronym>对资源的要求。 
        <emphasis>第三章</emphasis>中的信息以<emphasis>面向任务</emphasis>
        的方式表述并按功能组织，目标是为<acronym>BIND</acronym>9软件的安装过程
        提供帮助。接下来的<emphasis>第四章</emphasis>也是面向任务的部份，
        它包含更多的系统管理员实现某种选项可能会用到的高级概念。
        <emphasis>第五章</emphasis>的内容按照参考手册组织，以帮助
        正在进行的软件维护。<emphasis>第六章</emphasis>指明安全考虑，
        <emphasis>第七章</emphasis>包含排错帮助。文档主体后面是几个
        <emphasis>附录</emphasis>，其中包含了一些有用的参考信息，例如一个
        <emphasis>参考书目</emphasis>以及与<acronym>BIND</acronym>和域名系统
        相关的历史信息。
      </para>
    </section>
    <section xml:id="conventions"><info><title>本文档中的惯例</title></info>

      <para>
        在本文档中，我们使用以下的排版惯例：
      </para>

      <informaltable>
        <tgroup cols="2">
          <colspec colname="1" colnum="1" colwidth="3.000in"/>
          <colspec colname="2" colnum="2" colwidth="2.625in"/>
          <tbody>
            <row>
              <entry colname="1">
                <para>
                  <emphasis>要描述的内容：</emphasis>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  <emphasis>我们使用的风格：</emphasis>
                </para>
              </entry>
            </row>
            <row>
              <entry colname="1">
                <para>
                  一个路径，文件名，URL，主机名，邮件列表名，或者新的术语或概念
                </para>
              </entry>
              <entry colname="2">
                <para>
                  <filename>Fixed width</filename>
                </para>
              </entry>
            </row>
            <row>
              <entry colname="1">
                <para>
                  用户输入
                </para>
              </entry>
              <entry colname="2">
                <para>
                  <userinput>Fixed Width Bold 固定宽度的黑体</userinput>
                </para>
              </entry>
            </row>
            <row>
              <entry colname="1">
                <para>
                  程序输出
                </para>
              </entry>
              <entry colname="2">
                <para>
                  <computeroutput>Fixed Width 固定宽度</computeroutput>
                </para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <para>
        下列排版惯例用于描述<acronym>BIND</acronym>配置文件：
        <informaltable colsep="0" frame="all" rowsep="0">
                  <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="2Level-table">
                      <colspec colname="1" colnum="1" colsep="0" colwidth="3.000in"/>
            <colspec colname="2" colnum="2" colsep="0" colwidth="2.625in"/>
            <tbody>
              <row rowsep="0">
                <entry colname="1" colsep="1" rowsep="1">
                  <para>
                    <emphasis>要描述的内容：</emphasis>
                  </para>
                </entry>
                <entry colname="2" rowsep="1">
                  <para>
                    <emphasis>我们使用的风格：</emphasis>
                  </para>
                </entry>
              </row>
              <row rowsep="0">
                <entry colname="1" colsep="1" rowsep="1">
                  <para>
                    关键字
                  </para>
                </entry>
                <entry colname="2" rowsep="1">
                  <para>
                    <literal>Fixed Width 固定宽度</literal>
                  </para>
                </entry>
              </row>
              <row rowsep="0">
                <entry colname="1" colsep="1" rowsep="1">
                  <para>
                    变量
                  </para>
                </entry>
                <entry colname="2" rowsep="1">
                  <para>
                    <varname>Fixed Width 固定宽度</varname>
                  </para>
                </entry>
              </row>
              <row rowsep="0">
                <entry colname="1" colsep="1">
                  <para>
                    可选输入
                  </para>
                </entry>
                <entry colname="2">
                  <para>
                    <optional>Text is enclosed in square brackets 文本在方括号之内</optional>
                  </para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </para>
    </section>
    <section><info><title>域名系统（<acronym>DNS</acronym>）</title></info>

      <para>
        本文档的目的是解释<acronym>BIND</acronym>
        （Berkeley Internet Name Domain ）软件包的安装和维护，我们通过回顾
        域名系统（Domain Name System，<acronym>DNS</acronym>）基础及其与
        <acronym>BIND</acronym>的关系来作为开始。
      </para>

      <section xml:id="dns_fundamentals"><info><title>DNS基础</title></info>

        <para>
          域名系统（DNS）是一个层次化的分布式数据库。它存储用于互联网主机名与
          IP 地址相互映射的信息，邮件路由信息，及其它互联网应用所用到的数据。
        </para>

        <para>
          客户端通过调用一个<emphasis>解析器</emphasis>库来在 DNS 中查找信息，
          解析器向一个或多个<emphasis>名字服务器</emphasis>发出请求并解释响应。
          <acronym>BIND</acronym> 9软件分发包中包括一个名字服务器，
	  <command>named</command>，和一个相关工具的集合。
        </para>

        </section>
        <section xml:id="domain_names"><info><title>域和域名</title></info>

        <para>
          存储在 DNS 中的数据以<emphasis>域名</emphasis>来标识，并根据类别或
          行政区被组织成一颗树。树中的每个节点由一个标记表示，被称为一个
          <emphasis>域</emphasis>。节点的域名就是将从这个节点到<emphasis>根
          </emphasis>节点的路径所经过的所有标记串接而成。它被表示成的书面格式
          是从右至左以点分隔的标记串。 一个标记在其父域之内是唯一的。
        </para>

        <para>
          例如，一个名叫<emphasis>Example</emphasis>的公司中的一台主机的域名
          可以是<literal>ourhost.example.com</literal>，这里<literal>com
          </literal>是<literal>ourhost.example.com</literal>所属于的顶级域，
          <literal>example</literal>是<literal>com</literal>下的一个子域，
          而<literal>ourhost</literal>是主机名。
        </para>

        <para>
          为管理考虑，名字空间划分为名叫<emphasis>区</emphasis>的单位，每个区
          以节点开始，向下扩展到树叶或其它区开始的节点。每个区的数据存储在一个
          <emphasis>名字服务器</emphasis>中，名字服务器使用<emphasis>DNS协议
          </emphasis>回答对区的查询。
        </para>

        <para>
          每个域名相关的数据以<emphasis>资源记录</emphasis>（resource records，
          <acronym>RR</acronym>）的形式存储。一些所支持的资源记录类型在
          <xref linkend="types_of_resource_records_and_when_to_use_them"/>
          中描述。
        </para>

        <para>
          关于DNS设计和DNS协议的更详细的信息，请参见<xref linkend="rfcs"/>中
          所列的标准文档。
        </para>
      </section>

      <section xml:id="zones"><info><title>区</title></info>

        <para>
          为正确运行一个名字服务器，理解一个<emphasis>区</emphasis>和一个
          <emphasis>域</emphasis>之间的差别是很重要的。
        </para>

        <para>
          正如前面所说，区是<acronym>DNS</acronym>树的一个授权点。一个区是由
          域树中那些邻接部份组成，名字服务器具有这部份域树的全部信息，并是
          这部份域树的权威。它包含域树中自某个节点之下的所有域名，除那些被授权
          到其它区的之外。一个授权点在父区中以一个或多个<emphasis>NS</emphasis>
          记录表示，它应该与被授权区的根的 NS 记录匹配。
        </para>

        <para>
          例如，考虑<literal>example.com</literal>域，它可以包含这样的名字：
          <literal>host.aaa.example.com</literal>和
          <literal>host.bbb.example.com</literal>，即使
          <literal>example.com</literal>区只包括
          <literal>aaa.example.com</literal>和
          <literal>bbb.example.com</literal>区的授权。
          区可以精确对应到一个单一的域，也可以对应到域的一部份，而其它部份则可
          授权到其它名字服务器。<acronym>DNS</acronym>树中的每个名字都是一个
          <emphasis>域</emphasis>，即使它是<emphasis>终端节点</emphasis>，
          只不过这样就没有<emphasis>子域</emphasis>。每个子域都是一个域，
          除了根之外的所有域同时都是一个子域。术语不太形象，我们建议你阅读
          RFC 1033、1034 和 1035 以获得对这个艰难而微妙问题的完整理解。
        </para>

        <para>
          虽然<acronym>BIND</acronym>被称为一个“域名服务器”，
          但它主要处理的是区。在<filename>named.conf</filename>文件中声明的
          主服务器和辅服务器都是指的区，而不是域。当你询问一些其它站点是否愿意
          充当你的<emphasis>域</emphasis>的辅服务器时，你实际上是想要其对一些区
          来担当辅服务器的服务。
        </para>
      </section>

      <section xml:id="auth_servers"><info><title>权威名字服务器</title></info>

        <para>
          每个区至少由一台<emphasis>权威名字服务器</emphasis>来服务。后者包含了
          这个区的全部数据。为了使DNS能在服务器和网络故障时照常工作，大多数区都
          有两个或更多的权威服务器，并且分布在不同的网络中。
        </para>

        <para>
          权威服务器的应答的数据包中包括“权威回答”（AA）位。
          这在使用像<command>dig</command>
          （<xref linkend="diagnostic_tools"/>）
          这样的工具来调试DNS配置时容易鉴别。
        </para>

        <section xml:id="primary_master"><info><title>主服务器</title></info>

          <para>
            维护有原始区数据的权威服务器被称为<emphasis>主服务器</emphasis>，
            或简称<emphasis>主</emphasis>。典型情况下，它从某个本地文件装载
            区数据，这个本地文件是由手工编辑，或者由某个手工编辑的其它本地文件
            所生成。这个文件叫做<emphasis>区文件</emphasis>或<emphasis>主文件
            </emphasis>。
          </para>

	  <para>
	    在某些情况下，主文件是完全无法由手工编辑而成，只能是以
            <emphasis>动态更新</emphasis>操作的结果来代替。
	  </para>
        </section>

        <section xml:id="slave_server"><info><title>辅服务器</title></info>
          <para>
            其它的权威服务器，<emphasis>辅服务器</emphasis>（slave，也被称为
            secondary）通过一个名叫<emphasis>区传送</emphasis>（zone transfer）
            的复制过程从另一台服务器中取得区的内容。典型情况下，数据直接从
            主服务器传送，但是也可能从另一台辅服务器传送。换句话说，一个辅服务器
            本身也可以充当一个二级辅服务器的主服务器。
          </para>
          <para>
            辅服务器必须定期发出一个刷新请求来决定区内容是否需要更新。
            这是通过请求这个区的SOA记录并检查SERIAL字段是否被更新了来完成
            的；如果已更新，就发起一个新的区传送请求。这些刷新请求的时间
            是由SOA的REFRESH和RETRY字段控制的，但是可以被
            <command>max-refresh-time</command>，
            <command>min-refresh-time</command>，
            <command>max-retry-time</command>和
            <command>min-retry-time</command>选项覆盖。
          </para>
          <para>
            如果区数据不能在SOA的EXPIRE选项（最大到硬编码的24周）所指定的
            时间内更新，辅区将会过期并不再响应请求。
          </para>
        </section>

        <section xml:id="stealth_server"><info><title>隐藏服务器</title></info>

          <para>
            通常区的所有权威服务器都在其上级区中有NS 记录。这些NS 记录组成了
            上级对这个区的<emphasis>授权</emphasis>。权威服务器也在其自己的
            区文件中列出，位置在区的<emphasis>顶级</emphasis>（top level）或
            <emphasis>顶点（apex）</emphasis>。你可以在区的顶级NS 记录中列出在
            上级区中没有NS授权的服务器，但是你不能在上级区中对不在区顶级中出现
            的服务器授权。
          </para>

          <para>
            一个<emphasis>隐藏服务器</emphasis>就是指是一个区的权威服务器但却
            没有出现在区的NS 记录中。隐藏服务器可以用来保存一个区的本地拷贝，以
            加速对区记录的访问，或者在区的所有“官方”服务器都无法访问时仍然
            使区可用。
          </para>

          <para>
            一个主服务器本身是作为一个隐藏服务器配置时，通常被称为一个
            “隐藏主服务器”配置。这种配置的一个用途是主服务器在一个防火墙的
            后面而不能直接同外面的世界通信。
          </para>

        </section>

      </section>

      <section xml:id="cache_servers"><info><title>缓存名字服务器</title></info>

	<!--
	  - Terminology here is inconsistent.  Probably ought to
	  - convert to using "recursive name server" everywhere
	  - with just a note about "caching" terminology.
	  -->

        <para>
          由大多数操作系统所提供的解析器库叫做<emphasis>存根解析器</emphasis>，
          意思是它们没有能够通过直接与权威服务器通信而执行完全的域名解析过程的
          能力。作为代替，它们依赖一个本地名字服务器来为它们执行解析。这样的
          服务器称为<emphasis>递归的</emphasis>名字服务器；它为本地客户端执行
          <emphasis>递归查找</emphasis>。
        </para>

        <para>
          为增强性能，递归服务器缓存它们所执行查找的结果。由于递归过程和缓存是
          密切相联的，术语<emphasis>递归服务器</emphasis>和<emphasis>缓存服务器
          </emphasis>通常是作为同义词使用的。
        </para>

        <para>
          在一个缓存名字服务器的缓存中，一个记录被保留的时间长短是由与每个资源
		  记录相关的生存期（Time To Live, TTL）字段所控制的。
        </para>

        <section xml:id="forwarder"><info><title>转发</title></info>

          <para>
            即使一个缓存名字服务器也可以不需要由其本身来执行递归查找。
            作为代替，它可以将其自身缓存中没有的一些或全部请求
            <emphasis>转发</emphasis>到另一个缓存服务器，后者通常被称为
            一个<emphasis>转发服务器</emphasis>。
          </para>

          <para>
            可以有一个或多个转发服务器，它们轮流被请求，直到名单被遍历
            或者找到答案为止。使用转发服务器的典型情况是，当你不希望一个
            站点的所有服务器都与互联网上的其它服务器直接打交道时。一个
            典型的景象会涉及到一些内部<acronym>DNS</acronym>服务器和一个
            互联网防火墙。不能穿过防火墙的服务器就向能够穿过防火墙的
            服务器转发请求，后者代表内部的服务器向互联网上的
            <acronym>DNS</acronym>发请求。
          </para>
        </section>

        </section>

        <section xml:id="multi_role"><info><title>名字服务器的多个角色</title></info>

        <para>
          <acronym>BIND</acronym>名字服务器可以同时作为一些区的主服务器，
          另一些区的辅服务器以及为一些本地客户端充当缓存（递归）服务器。
        </para>

        <para>
          然而，由于权威名字服务和缓存/递归名字服务的功能在逻辑上是分离的，通常
          将它们分别运行在分离的服务器上更有利些。一个只提供权威名字服务的服务
          器（一个<emphasis>只权威服务器</emphasis>）可以关掉递归功能运行，这样
          增强了可靠性和安全性。一个不为任何区作权威服务器并且只为本地客户端提
          供递归服务的服务器（一个<emphasis>只缓存服务器</emphasis>）不需要全面
          开放给互联网，可以被放在一个防火墙内部。
        </para>

      </section>
    </section>

  </chapter>

  <chapter xml:id="Bv9ARM-gbk.ch02"><info><title><acronym>BIND</acronym>资源要求</title></info>

    <section xml:id="hw_req"><info><title>硬件要求</title></info>

      <para>
        传统上，<acronym>DNS</acronym>对硬件的要求十分适度。对于许多配置，
        从日常服务中淘汰下来的服务器就可以极好地胜任<acronym>DNS</acronym>
        服务器。
      </para>
      <para>
        <acronym>BIND</acronym> 9的DNSSEC特性需要更多的CPU能力，所以更多使用这
        些特性的机构可能需要为其应用考虑更大的系统。<acronym>BIND</acronym> 9是
        完全支持多线程的，可以完整地利用为其需要而配置的多个处理器。
      </para>
    </section>
    <section xml:id="cpu_req"><info><title>CPU要求</title></info>
      <para>
        <acronym>BIND</acronym> 9 的CPU要求范围可以从服务于几个静态区并且没有
        缓存服务的i486级机器变化到企业级的机器，如果你要处理多个动态更新且有
        DNSSEC签名的区，并且可以达到每秒数千个请求。
      </para>
    </section>

    <section xml:id="mem_req"><info><title>内存要求</title></info>
      <para>
        服务器的内存必须足够大，以适合缓存和将区数据从硬盘装载到内存。
        <command>max-cache-size</command>选项可以用于限制缓存所使用的内存数量，
        代价是减少缓存的命中率并带来更大的<acronym>DNS</acronym>流量。
        保持足够的内存以装载所有的区并在内存中缓存数据仍然是最好的实践 - 不幸
        地，对给定配置来决定这个的最好方法是在运行中观察
        名字服务器。经过几周的运行，服务器进程能够达到一个相对稳定的大小，
        这时，缓存中因过期而被丢掉的条目与进入缓存的条目的速度一样。
      </para>
      <!--
        - Add something here about leaving overhead for attacks?
	- How much overhead?  Percentage?
        -->
    </section>

    <section xml:id="intensive_env"><info><title>名字服务器增强环境问题</title></info>
      <para>
        对于名字服务器增强的环境，用到两种可供选择的配置。第一种是客户端和所有
        的二级内部名字服务器请求一个主名字服务器，后者有足够的内存来建立一个
        巨大的缓存。这个方法最大限度减少了外部名字查找所用到的带宽。第二种是
        设置内部的二级服务器来各自独立进行查询。在这个配置中，不需要某台主机
        有像第一种方法那样需要巨大的内存和CPU能力，但是这个方法的缺点是需要
        更多的外部查询，因为所有的名字服务器都不共享它们缓存的数据。
      </para>
    </section>

    <section xml:id="supported_os"><info><title>所支持的操作系统</title></info>

      <para>
        ISC <acronym>BIND</acronym> 9可以在大多数类UNIX操作系统和微软
	Windows Server 2003和2008，以及Windows XP和Vista上编译和运行。
	查看所支持
        系统的最新名单，参见BIND 9源码分发包的顶级目录中的README文件。
      </para>
    </section>
  </chapter>

  <chapter id="Bv9ARM-gbk.ch03"><info><title>名字服务器配置</title></info>
    <para>
      在本章，我们提供一些建议的配置和与之相关的准则。我们建议给某些选项设置
      合理的值。
    </para>

    <section xml:id="sample_configuration"><info><title>样例配置</title></info>

      <section xml:id="cache_only_sample"><info><title>一个只缓存名字服务器</title></info>

        <para>
	  下列配置样例适合用于一个只缓存名字服务器，由一个公司的内部客户端
	  所使用。
          通过使用<command>allow-query</command>选项，所有外来客户端的请求都被
          拒绝。另外一个选择是，使用合适的防火墙规则也可以取得同样的效果。
        </para>

<programlisting>
// Two corporate subnets we wish to allow queries from.
acl corpnets { 192.168.4.0/24; 192.168.7.0/24; };
options {
     // Working directory
     directory "/etc/namedb";

     allow-query { corpnets; };
};
// Provide a reverse mapping for the loopback
// address 127.0.0.1
zone "0.0.127.in-addr.arpa" {
     type master;
     file "localhost.rev";
     notify no;
};
</programlisting>

      </section>

      <section xml:id="auth_only_sample"><info><title>一个只权威名字服务器</title></info>

        <para>
          这个样例配置是给只权威服务器的，在这里服务器作
          “<filename>example.com</filename>”的主服务器和其子域
          “<filename>eng.exmaple.com</filename>”的辅服务器。
        </para>

<programlisting>
options {
     // Working directory
     directory "/etc/namedb";
     // Do not allow access to cache
     allow-query-cache { none; };
     // This is the default
     allow-query { any; };
     // Do not provide recursive service
     recursion no;
};

// Provide a reverse mapping for the loopback
// address 127.0.0.1
zone "0.0.127.in-addr.arpa" {
     type master;
     file "localhost.rev";
     notify no;
};
// We are the master server for example.com
zone "example.com" {
     type master;
     file "example.com.db";
     // IP addresses of slave servers allowed to
     // transfer example.com
     allow-transfer {
          192.168.4.14;
          192.168.5.53;
     };
};
// We are a slave server for eng.example.com
zone "eng.example.com" {
     type slave;
     file "eng.example.com.bk";
     // IP address of eng.example.com master server
     masters { 192.168.4.12; };
};
</programlisting>

      </section>
    </section>

    <section xml:id="load_balancing"><info><title>负载均衡</title></info>
      <!--
        - Add explanation of why load balancing is fragile at best
	- and completely pointless in the general case.
        -->

      <para>
        使用<acronym>DNS</acronym>对一个名字配置多个记录（例如多个A记录）
        可以完成原始形式的负载均衡。
      </para>

      <para>
        例如，如果你有3 台WWW 服务器分别使用10.0.0.1，10.0.0.2和10.0.0.3
        的网络地址，像以下这个记录集就意味着客户端将会分别对每台机器有
        三分之一的连接时间：
      </para>

      <informaltable colsep="0" rowsep="0">
        <tgroup cols="5" colsep="0" rowsep="0" tgroupstyle="2Level-table">
          <colspec colname="1" colnum="1" colsep="0" colwidth="0.875in"/>
          <colspec colname="2" colnum="2" colsep="0" colwidth="0.500in"/>
          <colspec colname="3" colnum="3" colsep="0" colwidth="0.750in"/>
          <colspec colname="4" colnum="4" colsep="0" colwidth="0.750in"/>
          <colspec colname="5" colnum="5" colsep="0" colwidth="2.028in"/>
          <tbody>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  Name
                </para>
              </entry>
              <entry colname="2">
                <para>
                  TTL
                </para>
              </entry>
              <entry colname="3">
                <para>
                  CLASS
                </para>
              </entry>
              <entry colname="4">
                <para>
                  TYPE
                </para>
              </entry>
              <entry colname="5">
                <para>
                  Resource Record (RR) Data
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <literal>www</literal>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  <literal>600</literal>
                </para>
              </entry>
              <entry colname="3">
                <para>
                  <literal>IN</literal>
                </para>
              </entry>
              <entry colname="4">
                <para>
                  <literal>A</literal>
                </para>
              </entry>
              <entry colname="5">
                <para>
                  <literal>10.0.0.1</literal>
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para/>
              </entry>
              <entry colname="2">
                <para>
                  <literal>600</literal>
                </para>
              </entry>
              <entry colname="3">
                <para>
                  <literal>IN</literal>
                </para>
              </entry>
              <entry colname="4">
                <para>
                  <literal>A</literal>
                </para>
              </entry>
              <entry colname="5">
                <para>
                  <literal>10.0.0.2</literal>
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para/>
              </entry>
              <entry colname="2">
                <para>
                  <literal>600</literal>
                </para>
              </entry>
              <entry colname="3">
                <para>
                  <literal>IN</literal>
                </para>
              </entry>
              <entry colname="4">
                <para>
                  <literal>A</literal>
                </para>
              </entry>
              <entry colname="5">
                <para>
                  <literal>10.0.0.3</literal>
                </para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <para>
        当一个解析器请求这些记录时，<acronym>BIND</acronym>将滚动这三个记录，
        以一个不同的顺序响应请求。在上面的例子中，不同的客户端将会随机收到以
        “1，2，3”；“2，3，1”和“3，1，2”的顺序的
        记录。大多数客户端将使用所得到的第一个记录而丢弃其余的。
      </para>
      <para>
        关于将响应排序的更详细的内容，检查<command>options</command>
	语句的<command>rrset-order</command>子语句，参见
        <xref endterm="rrset_ordering_title" linkend="rrset_ordering"/>。
      </para>

    </section>

    <section xml:id="ns_operations"><info><title>名字服务器操作</title></info>

      <section xml:id="tools"><info><title>用于名字服务器后台进程的工具</title></info>
        <para>
          本节描述了几个绝对必要的诊断，管理和监控工具，它们是提供给
          系统管理员进行控制和调试名字服务器的。
        </para>
        <section xml:id="diagnostic_tools"><info><title>诊断工具</title></info>
          <para>
            <command>dig</command>，<command>host</command>和
            <command>nslookup</command>程序都是用于手工向服务器发请求的命令行
            工具。他们在输入风格和输出格式上不相同。
          </para>

          <variablelist>
            <varlistentry>
              <term xml:id="dig"><command>dig</command></term>
              <listitem>
                <para>
                  <command>dig</command>是这些查询工具中最多功能的。它有两种
                  模式：简单交互模式用于单个请求，批处理模式对有多个请求的
                  名单中的每一个执行请求。所有选项都可以从命令行访问。
                </para>
                <cmdsynopsis label="用法" sepchar=" ">
                  <command>dig</command>
                  <arg choice="opt" rep="norepeat">@<replaceable>server</replaceable></arg>
                  <arg choice="plain" rep="norepeat"><replaceable>domain</replaceable></arg>
                  <arg choice="opt" rep="norepeat"><replaceable>query-type</replaceable></arg>
                  <arg choice="opt" rep="norepeat"><replaceable>query-class</replaceable></arg>
                  <arg choice="opt" rep="norepeat">+<replaceable>query-option</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-<replaceable>dig-option</replaceable></arg>
                  <arg choice="opt" rep="norepeat">%<replaceable>comment</replaceable></arg>
                </cmdsynopsis>
                <para>
                  经常使用的<command>dig</command>的简单形式是
                </para>
                <simpara>
                  <command>dig @server domain query-type query-class</command>
                </simpara>
                <para>
                  关于更多的可用命令和选项的清单，参见<command>dig</command>的
                  帮助页。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>host</command></term>
              <listitem>
                <para>
                  <command>host</command>工具强调简单和易用。缺省情况下，
                  它在主机名和互联网地址之间互相转换，但它的功能也可使用选项
                  扩展。
                </para>
                <cmdsynopsis label="用法" sepchar=" ">
                  <command>host</command>
                  <arg choice="opt" rep="norepeat">-aCdlnrsTwv</arg>
                  <arg choice="opt" rep="norepeat">-c <replaceable>class</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-N <replaceable>ndots</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-t <replaceable>type</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-W <replaceable>timeout</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-R <replaceable>retries</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-m <replaceable>flag</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-4</arg>
                  <arg choice="opt" rep="norepeat">-6</arg>
                  <arg choice="plain" rep="norepeat"><replaceable>hostname</replaceable></arg>
                  <arg choice="opt" rep="norepeat"><replaceable>server</replaceable></arg>
                </cmdsynopsis>
                <para>
                  关于更多的可用命令和选项的清单，参见<command>host</command>的
                  帮助页。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>nslookup</command></term>
              <listitem>
                <para>
                  <command>nslookup</command>有两种模式：交互式和非交互式。
                  交互模式允许使用者向名字服务器发出对各种主机和域名信息
                  的查询请求，或者打印出一个域下面的主机列表。非交互模式
                  只能用于打印所查询的某个主机或域的名字和请求信息。
                </para>
                <cmdsynopsis label="用法" sepchar=" ">
                  <command>nslookup</command>
                  <arg rep="repeat" choice="opt">-option</arg>
                  <group choice="opt" rep="norepeat">
                    <arg choice="opt" rep="norepeat"><replaceable>host-to-find</replaceable></arg>
                    <arg choice="opt" rep="norepeat">- <arg choice="opt" rep="norepeat">server</arg></arg>
                  </group>
                </cmdsynopsis>
                <para>
                  在没有给出参数（将会使用缺省的名字服务器）或者第一个参数是
                  连字符（‘-’）并且第二个参数是主机名或者是一台名字服务器的
                  IP地址时，就进入了交互模式。
                </para>
                <para>
                  当需要查找的名字或者主机的IP 地址作为第一个参数给出时，就
                  使用非交互模式。可选的第二个参数指定主机名或者一台名字服务器
                  的地址。
                </para>
                <para>
                  由于其神秘的用户界面和频繁的不一致表现，我们不推荐使用
                  <command>nslookup</command>。而使用<command>dig</command>
                  替代。
                </para>
              </listitem>

            </varlistentry>
          </variablelist>
        </section>

        <section xml:id="admin_tools"><info><title>管理工具</title></info>
          <para>
            管理工具在一个服务器的管理中扮演一个主要角色。
          </para>
          <variablelist>
            <varlistentry xml:id="named-checkconf" xreflabel="Named Configuration Checking application">

              <term><command>named-checkconf</command></term>
              <listitem>
                <para>
                  <command>named-checkconf</command>程序用来检查一个
                  <filename>named.conf</filename>文件的语法。
                </para>
                <cmdsynopsis label="用法" sepchar=" ">
                  <command>named-checkconf</command>
                  <arg choice="opt" rep="norepeat">-jvz</arg>
                  <arg choice="opt" rep="norepeat">-t <replaceable>directory</replaceable></arg>
                  <arg choice="opt" rep="norepeat"><replaceable>filename</replaceable></arg>
                </cmdsynopsis>
              </listitem>
            </varlistentry>
            <varlistentry xml:id="named-checkzone" xreflabel="Zone Checking application">

              <term><command>named-checkzone</command></term>
              <listitem>
                <para>
                  <command>named-checkzone</command>程序用来检查一个主文件的
                  语法和一致性。
                </para>
                <cmdsynopsis label="用法" sepchar=" ">
                  <command>named-checkzone</command>
                  <arg choice="opt" rep="norepeat">-djqvD</arg>
                  <arg choice="opt" rep="norepeat">-c <replaceable>class</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-o <replaceable>output</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-t <replaceable>directory</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-w <replaceable>directory</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-k <replaceable>(ignore|warn|fail)</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-n <replaceable>(ignore|warn|fail)</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-W <replaceable>(ignore|warn)</replaceable></arg>
                  <arg choice="plain" rep="norepeat"><replaceable>zone</replaceable></arg>
                  <arg choice="opt" rep="norepeat"><replaceable>filename</replaceable></arg>
                </cmdsynopsis>
              </listitem>
            </varlistentry>
	    <varlistentry xml:id="named-compilezone" xreflabel="Zone Compilation application">
	      <term><command>named-compilezone</command></term>
	      <listitem>
		<para>
		  与<command>named-checkzone</command>相似，它总是将区的内容转储
                  到一个指定的文件（通常是一个与区文件不同的格式）。
		</para>
	      </listitem>
	    </varlistentry>
            <varlistentry xml:id="rndc" xreflabel="Remote Name Daemon Control application">

              <term><command>rndc</command></term>
              <listitem>
                <para>
                  远程名字服务控制（remote name daemon control，
                  <command>rndc</command>）程序允许系统管理员控制一个名字服务器
                  的运行。
                  如果你不带任何参数运行<command>rndc</command>，
                  它将显示出以下的用法信息：
                </para>
                <cmdsynopsis label="用法" sepchar=" ">
                  <command>rndc</command>
                  <arg choice="opt" rep="norepeat">-c <replaceable>config</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-s <replaceable>server</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-p <replaceable>port</replaceable></arg>
                  <arg choice="opt" rep="norepeat">-y <replaceable>key</replaceable></arg>
                  <arg choice="plain" rep="norepeat"><replaceable>command</replaceable></arg>
                  <arg rep="repeat" choice="opt"><replaceable>command</replaceable></arg>
                </cmdsynopsis>

                <para>
                  关于可用的<command>rndc</command>命令细节，参见
                  <xref linkend="man.rndc"/>。
                </para>

                <para>
                  <command>rndc</command>需要一个配置文件，由于所有与服务器的
                  通信都使用依赖共享
                  密钥的数字签名来认证，并且没有其它方式可以比配置文件提供
                  更好的保密方式。<command>rndc</command>配置文件的缺省路
                  径是<filename>/etc/rndc.conf</filename>，但也可以使用
                  <option>-c</option>选项来指定一个其它的路径。如果
                  <command>rndc</command>没有找到配置文件，它将会查找
                  <filename>/etc/rndc.key</filename>（或者是
                  <acronym>BIND</acronym>构建时的由
                  <varname>sysconfdir</varname>所定义的其它目录）。
                  <filename>rndc.key</filename>文件是由
                  <command>rndc-confgen -a</command>所生成，如
                  <xref linkend="controls_statement_definition_and_usage"/>
                  所描述。
                </para>

                <para>
                  配置文件的格式类似于<filename>named.conf</filename>的格式，
                  但是只有四个语句，<command>options</command>，
                  <command>key</command>，<command>server</command>和
                  <command>include</command>语句。这些语句都是与密钥相关的，
                  服务器使用这些密钥共享密钥。语句的顺序没有关系。
                </para>

                <para>
                  <command>options</command>语句有三个子句：
                  <command>default-server</command>，
                  <command>default-key</command>和
                  <command>default-port</command>。
                  <command>default-server</command>需要一个主机名或IP地址参数，
                  它表示一个要通信的缺省的服务器，如果服务器未在命令行中以
                  <option>-s</option>选项指定的情况。
                  <command>default-key</command>以一个密钥的名字作为其参数,密钥
                  是在<command>key</command>语句中定义的。
                  <command>default-port</command>指定<command>rndc</command>
                  用到的缺省端口，它在命令行或<command>server</command>语句中
                  没有指定端口的情况下生效。
                </para>

                <para>
                  <command>key</command>语句定义<command>rndc</command>同
                  <command>named</command>进行认证时要用到的密钥。其语法与
                  <filename>named.conf</filename>中的<command>key</command>
		  语句相同。
                  <userinput>key</userinput>关键字后跟一个密钥名，它可以是一个
                  有效的域名，尽管它并不需要一个层次结构；因而，一个像
                  “<userinput>rndc_key</userinput>”这样的字符串也是一个有效
                  的名字。<command>key</command>语句有两个子句：
                  <command>algorithm</command>和<command>secret</command>。
                  配置分析器将接受任何字符串作为算法参数，当前只有字符串
                  “<userinput>hmac-md5</userinput>”，
                  “<userinput>hmac-sha1</userinput>”，
                  “<userinput>hmac-sha224</userinput>”，
                  “<userinput>hmac-sha256</userinput>”，
                  “<userinput>hmac-sha384</userinput>”
                  和“<userinput>hmac-sha512</userinput>”
                  有意义。这个密钥是一个
                  在RFC 3548中所指定的Base64编码的字符串。
                </para>

                <para>
                  <command>server</command>语句将一个由<command>key</command>
                  语句定义的密钥与一台服务器结合起来。关键字
                  <userinput>server</userinput>后跟一个主机名或IP 地址。
                  <command>server</command>语句有两个子句：
                  <command>key</command>和<command>port</command>。
                  <command>key</command>子句指定用于同这个服务器通信的密钥，
                  <command>port</command>子句用于指定<command>rndc</command>
                  用来连接到这个服务器所用的端口。
                </para>

                <para>
                  以下是一个最小配置文件的样例：
                </para>

<programlisting>
key rndc_key {
     algorithm "hmac-sha256";
     secret
       "c3Ryb25nIGVub3VnaCBmb3IgYSBtYW4gYnV0IG1hZGUgZm9yIGEgd29tYW4K";
};
options {
     default-server 127.0.0.1;
     default-key    rndc_key;
};
</programlisting>

                <para>
                  这个文件，如果是作为<filename>/etc/rndc.conf</filename>安装，
                  将允许以下命令：
                </para>

                <para>
                  <prompt>$ </prompt><userinput>rndc reload</userinput>
                </para>

                <para>
                  经过953 端口连接到127.0.0.1 并使名字服务器重新装载，如果一个
                  运行在本机的名字服务器使用了以下的控制语句：
                </para>

<programlisting>
controls {
        inet 127.0.0.1
            allow { localhost; } keys { rndc_key; };
};
</programlisting>

                <para>
                  并且它有一个对应于<literal>rndc_key</literal>的key语句的话。
                </para>

                <para>
                  运行<command>rndc-confgen</command>程序将会方便地为你创建
		  一个<filename>rndc.conf</filename>文件，并且会显示你所需要添加
                  到<filename>named.conf</filename>中的相关的
                  <command>controls</command>语句。另外一个选择是，你可以运行
                  <command>rndc-confgen -a</command>
                  来建立一个<filename>rndc.key</filename>文件，就一点也不用修改
		  <filename>named.conf</filename>了。
                </para>

              </listitem>
            </varlistentry>
          </variablelist>

        </section>
      </section>

      <section xml:id="signals"><info><title>信号</title></info>
        <para>
          某些UNIX信号将使名字服务器执行特定的动作，如下表所列。
	  这些信号可以由<command>kill</command>命令发出。
        </para>
        <informaltable frame="all">
          <tgroup cols="2">
            <colspec colname="1" colnum="1" colsep="0" colwidth="1.125in"/>
            <colspec colname="2" colnum="2" colsep="0" colwidth="4.000in"/>
            <tbody>
              <row rowsep="0">
                <entry colname="1">
                  <para><command>SIGHUP</command></para>
                </entry>
                <entry colname="2">
                  <para>
                    使服务器读<filename>named.conf</filename>并重新装载数据库。
                  </para>
                </entry>
              </row>
              <row rowsep="0">
                <entry colname="1">
                  <para><command>SIGTERM</command></para>
                </entry>
                <entry colname="2">
                  <para>
                    使服务器清理并退出。
                  </para>
                </entry>
              </row>
              <row rowsep="0">
                <entry colname="1">
                  <para><command>SIGINT</command></para>
                </entry>
                <entry colname="2">
                  <para>
                    使服务器清理并退出。
                  </para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </section>
    </section>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="plugins-utf8.xml"/>

  </chapter>

  <chapter xml:id="Bv9ARM-gbk.ch04"><info><title>高级DNS特征</title></info>

    <section xml:id="notify"><info><title>通知（Notify）</title></info>
      <para>
        <acronym>DNS</acronym> NOTIFY是一个让主服务器通知其辅服务器某个区数据
        发生了变化的机制。作为对来自主服务器的<command>NOTIFY</command>的相应，
        辅服务器会检查其区的版本是否是当前版本，如果不是，就发起区传送。
      </para>

      <para>
        更多的关于<acronym>DNS</acronym> <command>NOTIFY</command>的信息，参见
        <xref linkend="boolean_options"/>对<command>notify</command>选项的描述
        和<xref linkend="zone_transfers"/>对区选项
        <command>also-notify</command>的描述。
        <command>NOTIFY</command>协议由RFC 1996规定。
      </para>

      <note><simpara>
	一个辅服务器也可以成为其它辅服务器的主服务器，
	<command>named</command>在缺省情况下会
        对其所载入的每个区发出<command>NOTIFY</command>消息。
        指定<command>notify master-only;</command>将使<command>named</command>
        只对其所载入区的主服务器发出<command>NOTIFY</command>。
      </simpara></note>

    </section>

    <section xml:id="dynamic_update"><info><title>动态更新（Dynamic Update）</title></info>

      <para>
        动态更新是一个通过给主服务器发送一个特殊格式的DNS消息来增加、
        替换和删除其上记录的方法。这些消息的格式和含义由RFC 2136指定。
      </para>

      <para>
        动态更新是通过在<command>zone</command>语句中包含一个
        <command>allow-update</command>或一个
	<command>update-policy</command>子句来打开的。
      </para>

      <para>
	如果区的<command>update-policy</command>被设为
	<userinput>local</userinput>，对区的更新将由密钥
	<filename>local-ddns</filename>来许可，后者是由
	<command>named</command>启动时生成的。更多信息参见
	<xref linkend="dynamic_update_policies"/>。
      </para>

      <para>
        使用Kerberos签名请求进行的动态更新可以通过使用TKEY/GSS协议来完成，
        要么是设置<command>tkey-gssapi-keytab</command>选项，要么是设置
        <command>tkey-gssapi-credential</command>和
        <command>tkey-domain</command>选项。
        一旦开启这个功能，Kerberos签名请求将与区的更新策略进行匹配，使用
        Kerberos principal作为请求的签名者。
      </para>

      <para>
        更新一个安全的区（使用DNSSEC的区）遵循RFC 3007：受更新影响
	的RRSIG、NSEC和NSEC3记录通过服务器使用一个在线区密钥来自动
	重新生成。更新授权是基于事务签名和一个显式的服务器策略。
      </para>

      <section xml:id="journal"><info><title>日志文件</title></info>

        <para>
          一个使用动态更新的区的所有变化将保存在这个区的日志文件中。这个文件在
          第一个更新发生时自动创建。日志文件的名字由相关区文件的名字加上扩展名
          “<filename>.jnl</filename>”组成，除非指定了名字。日志文件是
          二进制格式，不能手工编辑。
        </para>

        <para>
          服务器会时常将更新后的区的完整内容转储到（“dump”）其区文件中。
	  这个操作不是每次动态更新后立即执行，因为如果这样，一个大的区
	  在频繁更新时将会导致服务器变得太慢。代替的方法是，转储操作延迟
	  15分钟，以允许其它更新。
          在转储过程中，将会创建以<filename>.jnw</filename>和
          <filename>.jbk</filename>为后缀的瞬时文件；在普通情况下，这些
          文件将在转储完成后被删除掉，忽略它们也是安全的。
        </para>

        <para>
          当服务器在停止或宕掉之后重启时，将重新装载日志文件，以便将自从上次
          区转储以后发生的所有更新合并到区中。
        </para>

        <para>
          增量区传送所产生的变化也是以类似的方式记录到日志的。
        </para>

        <para>
          动态更新区的区文件不能像通常那样进行手工编辑，因为没法保证包含最近的
          动态变化 — 这些变化只存在于日志文件中。保持动态更新区的区文件最新的
          唯一方法是执行<command>rndc stop</command>。
        </para>

        <para>
          如果你必须手工修改动态区，需要按照下列步骤：使用
          <command>rndc freeze <replaceable>zone</replaceable></command>关闭
          到这个区的动态更新。
          这会使用存放在其“<filename>.jnl</filename>”文件中的变化更新区的
          主文件。
          编辑区文件。执行
          <command>rndc thaw <replaceable>zone</replaceable></command>重新装载
          修改后的区文件并打开动态更新。
        </para>

        <para>
          <command>rndc sync <replaceable>zone</replaceable></command>将使用
          日志文件中的变化更新区文件而不停止动态更新；这对观察当前区状态是
          有用的。要在更新区文件之后删除<filename>.jnl</filename>，使用
          <command>rndc sync -clean</command>。
        </para>

      </section>

    </section>

    <section xml:id="incremental_zone_transfers"><info><title>增量区传送（IXFR）</title></info>

      <para>
        增量区传送（incremental zone transfer, IXFR）协议是一个为辅服务器提供
        只传送变化的数据的方式，以代替必须传送整个区的方法。IXFR协议由RFC 1995
        指定。参见<xref linkend="proposed_standards"/>。
      </para>

      <para>
        当作为一个主服务器时，<acronym>BIND</acronym> 9支持IXFR 协议，为区提供
        必要的变化历史的信息。这些包括以动态更新维护的主区和通过IXFR获取数据的
        辅区。对于手工维护的主区，以及通过全量区传送（AXFR）获取数据的辅区，
        IXFR仅在<command>ixfr-from-differences</command>选项被设置成
        <userinput>yes</userinput>时才支持。
      </para>

      <para>
        当作为一个辅服务器时，<acronym>BIND</acronym> 9将尝试使用IXFR，除非
        其被显式关闭。
        更多关于关闭IXFR 的信息，参见<command>server</command>
        语句的<command>request-ixfr</command>子句的描述。
      </para>
    </section>

    <section xml:id="split_dns"><info><title>分割DNS</title></info>

      <para>
        对DNS空间的内部和外部解析器设置不同的视图，或可见度，通常被称为一个
        <emphasis>分割的DNS</emphasis>设置。有几个原因使某个单位想要这样设置
        其DNS。
      </para>

      <para>
        一个以此方式设置DNS系统的共同的原因是对“外部”互联网上的客户隐藏
        “内部”DNS信息。关于这样做是否确实有用，有一些争议。内部DNS信息以多种
        渠道泄露（例如，通过电子邮件头部），并且大多数聪明的“攻击者”可以使用
        其它手段来取得他们所需要的信息。无论如何，由于列出外部客户端不可能访问
        到的内部服务器地址可以导致连接延迟和其它烦恼，一个单位可以选择使用一个
        分割DNS来向外部世界提供一个一致的自身视图。
      </para>
      <para>
        另一个设置一个分割DNS系统的共同的原因是允许在过滤器之后或在RFC 1918空间
        （保留IP空间，在RFC 1918中说明）中的内部网络去查询互联网上的DNS。分割
        DNS也可以用于允许来自外部的回复邮件进入内部网络。
      </para>
     <section xml:id="split_dns_sample"><info><title>分割DNS设置的例子</title></info>
      <para>
        让我们假设一个名叫<emphasis>Example</emphasis>的公司
        （<literal>example.com</literal>）有几个公司站点，有一个使用保留地址空
        间的内部网络和一个外部停火区（ DMZ），或称为网络的“对外”部份，是外部
        可以访问到的。
      </para>
      <para>
        <emphasis>Example</emphasis>公司想要其内部的客户端可以解析外部主机名并
        同外面的人们交换电子邮件。公司也想要其内部的解析器可以访问某些内部才有
        的区，这些区对内部网络之外的用户不可用。
      </para>
      <para>
        为达到这个目标，公司设置两台名字服务器。一台在内部网
        （在保留地址空间），
        另一台在DMZ中的堡垒主机上，堡垒主机是一个“代理”主机，它可以同其两侧的
        网络通信。
      </para>
      <para>
        内部服务器配置成除了对<filename>site1.internal</filename>，
        <filename>site2.internal</filename>，
        <filename>site1.example.com</filename>和
        <filename>site2.example.com</filename>之外的所有请求都转发给在DMZ的
        服务器。这些内部服务器都有关于<filename>site1.example.com</filename>，
        <filename>site2.example.com</filename>，
        <filename>site1.internal</filename>和
        <filename>site2.internal</filename>的全部信息。
      </para>
      <para>
        为保护<filename>site1.internal</filename>和
        <filename>site2.internal</filename>域，内部服务器必须配置成不允许任何
        外部主机对这些域的请求来访问，其中也包括堡垒主机。
      </para>
      <para>
        在堡垒主机上的外部服务器被配置成服务于
        <filename>site1.example.com</filename>和
        <filename>site2.example.com</filename>区的“公共”版本。其中可能包括
        这样的一些公共服务器（<filename>www.example.com</filename>和
        <filename>ftp.example.com</filename>）的主机记录以及邮件交换（MX）记录
        （<filename>a.mx.example.com</filename>和
        <filename>b.mx.example.com</filename>）。
      </para>
      <para>
        另外，公共的<filename>site1.example.com</filename>和
        <filename>site2.example.com</filename>区应该有包括通配（‘*’）记录的
        特定MX 记录指向堡垒主机。这是必须的，因为外部邮件服务器没有其它任何
        方式来查到如何将邮件投递到那些内部的主机。使用通配记录，邮件可以投递
        到堡垒主机，堡垒主机再将邮件转发到内部主机。
      </para>
      <para>
        这里是一个通配MX 记录的例子：
      </para>
      <programlisting>*   IN MX 10 external1.example.com.</programlisting>
      <para>
        堡垒主机代表内部网络的任何主机接收邮件，它需要指定如何将邮件投递到
        内部主机。为了这样的机制正常运转，堡垒主机上的解析器需要配置成指向
        内部名字服务器，以完成DNS解析。
      </para>
      <para>
        对内部主机的查询请求将由内部服务器回答，对外部主机的查询请求将转发到
        堡垒主机上的DNS服务器。
      </para>
      <para>
        为了让以上这些正常工作，内部客户端需要配置成<emphasis>只</emphasis>请求
        内部名字服务器。这个也可以通过网络上的选择性过滤器来进行加强。
      </para>
      <para>
        如果所有的东西都正确设置，<emphasis>Example</emphasis>公司的
        内部客户端将能够：
      </para>
      <itemizedlist>
        <listitem>
          <simpara>
            查询<literal>site1.example.com</literal>和
            <literal>site2.example.com</literal>区上的所有主机。
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            查询<literal>site1.internal</literal>和
            <literal>site2.internal</literal>域上的所有主机。
          </simpara>
        </listitem>
        <listitem>
          <simpara>查询互联网上的所有主机。</simpara>
        </listitem>
        <listitem>
          <simpara>同内部网和外部网上的人员交换电子邮件。</simpara>
        </listitem>
      </itemizedlist>
      <para>
        互联网上的主机将能够：
      </para>
      <itemizedlist>
        <listitem>
          <simpara>
            查询<literal>site1.example.com</literal>和
                        <literal>site2.example.com</literal>区上的所有主机。
          </simpara>
        </listitem>
        <listitem>
          <simpara>
            同<literal>site1.example.com</literal>和
            <literal>site2.example.com</literal>区上的任何人交换电子邮件。
          </simpara>
        </listitem>
      </itemizedlist>

      <para>
        这里是对我们上述描述进行配置的一个例子。注意这里仅仅有配置信息；对于如
        何配置你的区文件的信息，参见<xref linkend="sample_configuration"/>。
      </para>

      <para>
        内部DNS服务器配置：
      </para>

<programlisting>

acl internals { 172.16.72.0/24; 192.168.1.0/24; };

acl externals { <varname>bastion-ips-go-here</varname>; };

options {
    ...
    ...
    forward only;
    // forward to external servers
    forwarders {
        <varname>bastion-ips-go-here</varname>;
    };
    // sample allow-transfer (no one)
    allow-transfer { none; };
    // restrict query access
    allow-query { internals; externals; };
    // restrict recursion
    allow-recursion { internals; };
    ...
    ...
};

// sample master zone
zone "site1.example.com" {
  type master;
  file "m/site1.example.com";
  // do normal iterative resolution (do not forward)
  forwarders { };
  allow-query { internals; externals; };
  allow-transfer { internals; };
};

// sample slave zone
zone "site2.example.com" {
  type slave;
  file "s/site2.example.com";
  masters { 172.16.72.3; };
  forwarders { };
  allow-query { internals; externals; };
  allow-transfer { internals; };
};

zone "site1.internal" {
  type master;
  file "m/site1.internal";
  forwarders { };
  allow-query { internals; };
  allow-transfer { internals; }
};

zone "site2.internal" {
  type slave;
  file "s/site2.internal";
  masters { 172.16.72.3; };
  forwarders { };
  allow-query { internals };
  allow-transfer { internals; }
};
</programlisting>

      <para>
        外部（堡垒主机）DNS服务器配置：
      </para>

<programlisting>
acl internals { 172.16.72.0/24; 192.168.1.0/24; };

acl externals { bastion-ips-go-here; };

options {
  ...
  ...
  // sample allow-transfer (no one)
  allow-transfer { none; };
  // default query access
  allow-query { any; };
  // restrict cache access
  allow-query-cache { internals; externals; };
  // restrict recursion
  allow-recursion { internals; externals; };
  ...
  ...
};

// sample slave zone
zone "site1.example.com" {
  type master;
  file "m/site1.foo.com";
  allow-transfer { internals; externals; };
};

zone "site2.example.com" {
  type slave;
  file "s/site2.foo.com";
  masters { another_bastion_host_maybe; };
  allow-transfer { internals; externals; }
};
</programlisting>

      <para>
        堡垒主机上的<filename>resolv.conf</filename>（或等效的）文件：
      </para>

<programlisting>
search ...
nameserver 172.16.72.2
nameserver 172.16.72.3
nameserver 172.16.72.4
</programlisting>

     </section>
    </section>
    <section xml:id="tsig"><info><title>TSIG</title></info>

      <para>
        TSIG（Transaction SIGnatures，事务签名）是一个认证DNS消息
	的机制，最早在RFC 2845中规定。
	它允许使用一个共享密钥对DNS消息加密签名。
	TSIG可以被用于任何DNS事务，可以作为一种限制授权的客户端对
	某个服务器功能访问（例如，递归请求）的方法，这时基于IP的
	访问控制已无法满足需求或者需要被覆盖，或者作为一种确保
	消息认证的方法，这时其对服务器完整性非常关键，
        例如配合动态更新消息或者从一个主服务器到一个辅服务器的区传送。
      </para>
      <para>
        这是一个在<acronym>BIND</acronym>中设置TSIG的指导。它描述了配置语法和
        创建TSIG密钥的过程。
      </para>
      <para>
        <command>named</command>支持TSIG用于服务器到服务器的通信，一些
        <acronym>BIND</acronym>附带工具也支持TSIG用于发送消息给
        <command>named</command>：
        <itemizedlist>
          <listitem>
            <xref linkend="man.nsupdate"/>通过
            <option>-k</option>，<option>-l</option>和
            <option>-y</option>命令行选项，或在交互方式下通过
            <command>key</command>命令支持TSIG。
          </listitem>
          <listitem>
            <xref linkend="man.dig"/>通过
            <option>-k</option>和<option>-y</option>命令行选项支持TSIG。
          </listitem>
        </itemizedlist>
      </para>

      <section><info><title>生成一个共享密钥</title></info>
        <para>
          TSIG密钥可以使用<command>tsig-keygen</command>命令生成；命令的输出是
          一个适合放入<filename>named.conf</filename>的
          <command>key</command>指令。密钥名，算法名和大小可以由命令行参数指定；
          缺省分别是“tsig-key”，HMAC-SHA256和256位。
        </para>
        <para>
          任意一个有效DNS名字都可以用作一个密钥名，例如，在服务器
          <emphasis>host1</emphasis>和<emphasis>host2</emphasis>之间
          共享的密钥可以叫做“host1-host2.”，这个密钥可以使用
        </para>
<programlisting>
  $ tsig-keygen host1-host2. > host1-host2.key
</programlisting>
        <para>
          生成。
        </para>
        <para>
          然后这个密钥被拷贝到两台主机上。在两台主机上密钥名和密码
          必须一致。
          （注意：从一台服务器到另一台服务器拷贝一个共享密码超出了
          DNS的范围。应该使用一个安全的传输机制：安全FTP，SSL，ssh，
          电话，加密电子邮件等等。）
        </para>
        <para>
          <command>tsig-keygen</command>也可以被用作
          <command>ddns-confgen</command>，在这种情况下，其输出包括在
          <command>named</command>中设置动态DNS所用的附加配置。参见
          <xref linkend="man.ddns-confgen"/>获取详细信息。
        </para>
      </section>

      <section><info><title>装载一个新密钥</title></info>
        <para>
          如果一个密钥在服务器<emphasis>host1</emphasis>和
          <emphasis>host2</emphasis>之间共享，每个服务器的
          <filename>named.conf</filename>文件可以添加如下内容：
        </para>
<programlisting>
key "host1-host2." {
        algorithm hmac-sha256;
        secret "DAopyf1mhCbFVZw7pgmNPBoLUq8wEUT7UuPoLENP2HY=";
};
</programlisting>
        <para>
          （这是上面使用<command>tsig-keygen</command>生成的
          同一个密钥。）
        </para>
        <para>
          由于这段文本包含一个密码，推荐无论是<filename>named.conf</filename>
          还是存放<command>key</command>指令的文件都不是任何人可读的，后者是
          通过<command>include</command>指令包含进<filename>named.conf</filename>。
        </para>
        <para>
          一旦一个密钥被添加到<filename>named.conf</filename>，服务器要重启或
          重新读入配置，才能识别密钥。如果服务器收到密钥签名的消息，它将能够
          验证签名。如果签名有效，响应将会使用同一个密钥签名。
        </para>
        <para>
          为一台服务器所知的TSIG密钥可以使用命令
	  <command>rndc tsig-list</command>列出。
        </para>
      </section>

      <section><info><title>指示服务器使用一个密钥</title></info>
        <para>
          一个向其它服务器发送请求的服务器必须被告知是否使用一个密钥，
          以及如果使用，使用那个密钥。
        </para>
        <para>
          例如，必须为一个辅区定义中的<command>masters</command>语句中
          的每一个服务器指定一个密钥；在这种情况下，所有SOA请求消息，
          NOTIFY消息和区传送请求（AXFR或IXFR）都将使用指定密钥签名。密钥
          也可在一个主区或辅区中的<command>also-notify</command>语句中
          指定，导致NOTIFY消息使用指定的密钥签名。
        </para>
        <para>
          密钥也可以在一个<command>server</command>指令中指定。添加下列
          内容到<emphasis>host1</emphasis>，如果<emphasis>host2</emphasis>
          的IP地址是10.1.2.3，将会导致<emphasis>所有</emphasis>从
          <emphasis>host1</emphasis>到<emphasis>host2</emphasis>的请求，
          包括普通DNS请求，使用<command>host1-host2.</command>密钥签名：
        </para>
<programlisting>
server 10.1.2.3 {
        keys { host1-host2. ;};
};
</programlisting>
        <para>
          <command>keys</command>语句中可以提供多个密钥，但只能使用第一个。
          由于这条指令不包含任何密码，所以它可以放在一个所有人可读的文件中。
        </para>
        <para>
          从<emphasis>host2</emphasis>发向<emphasis>host1</emphasis>的消息将
          <emphasis>不会</emphasis>被签名，除非在<emphasis>host2</emphasis>的
          配置文件中有一个类似的<command>server</command>指令。
        </para>
        <para>
         无论何时，任何服务器只要发出了一个TSIG签名的DNS请求，
	 它将会期待响应被同一个密钥签名。如果响应未被签名，或者
	 签名无效，响应将会被拒绝。
        </para>
      </section>

      <section><info><title>基于TSIG的访问控制</title></info>
        <para>
          TSIG密钥可以在ACL定义和诸如<command>allow-query</command>，
          <command>allow-transfer</command>和<command>allow-update</command>
          的ACL指令中指定。
          上述密钥在一个ACL元素中被表示成<command>key host1-host2.</command>
        </para>
        <para>
          一个<command>allow-update</command>指令使用一个TSIG密钥的例子为：
        </para>
<programlisting>
allow-update { !{ !localnets; any; }; key host1-host2. ;};
</programlisting>
        <para>
          这允许动态更新仅仅在UPDATE请求来自一个<command>localnets</command>
          内的地址，<emphasis>并且</emphasis>它使用<command>host1-host2.</command>
          密钥签名时才会成功。
        </para>
        <para>
          参见<xref linkend="dynamic_update_policies"/>查看更为灵活的
          <command>update-policy</command>语句的讨论。
        </para>
      </section>

      <section><info><title>错误</title></info>
        <para>
          处理TSIG签名消息可能产生一些错误。
          <itemizedlist>
            <listitem>
              如果一个有TSIG意识的服务器收到一个它所不知道的密钥的签名
              消息，响应将不会被签名，TSIG扩展错误码将被设置为BADKEY。
            </listitem>
            <listitem>
              如果一个有TSIG意识的服务器收到一个它所知道密钥的却无效的
              签名消息，响应将不会被签名，TSIG扩展错误码将被设置为BADSIG。
            </listitem>
            <listitem>
              如果一个有TSIG意识的服务器收到一个允许的时间范围之外的消息，
              响应将会被签名，TSIG扩展错误码将被设置为BADTIME，并且时间值
              将会被调整以使响应能够被成功验证。
            </listitem>
          </itemizedlist>
          在以上所有情况中，服务器都将返回一个NOTAUTH响应码（未认证的）。
        </para>
      </section>
    </section>

    <section xml:id="tkey"><info><title>TKEY</title></info>

      <para>
        TKEY（事务KEY）是一个用于在两台主机之间自动协商一个共享密码的机制，
        最早在RFC 2930中规定。
      </para>
      <para>
        有几种TKEY“模式”来指定如何生成和分派一个密钥。
        <acronym>BIND</acronym>	9只实现了这些模式中的一种：Diffie-Hellman
        密钥交换。两台主机都需要有一个带DH算法的KEY记录（虽然并不要求这
        个记录出现在一个区中）。
      </para>
      <para>
        TKEY过程由一个客户端或服务器通过发出一个TKEY类型的请求到一个有TKEY
        意识的服务器开始。请求必须在附加部分包括一个合适的KEY记录，并且必须
        用TSIG或者SIG(0)使用先前建立的密钥签名。服务器的响应，如果成功，必须
        在其回答部分包括一个TKEY记录。在这个事务之后，两个参与方都有足够的
        信息使用Diffie-Hellman密钥交换计算一个共享密码。共享密码就能被用于
        两台服务器之间签名随后的事务。
      </para>
      <para>
        服务器所知的TSIG密钥，包括TKEY协商的密钥，可以使用
        <command>rndc tsig-list</command>列出。
      </para>
      <para>
        TKEY协商的密钥可以使用<command>rndc tsig-delete</command>从一个
        服务器删除。这也可以经由TKEY协议自身，通过发送一个认证的TKEY请求
        指定“key deletion”模式来完成。
      </para>

    </section>
    <section xml:id="sig0"><info><title>SIG(0)</title></info>

      <para>
        <acronym>BIND</acronym>部份支持RFC 2535和RFC 2931中所指定的
        DNSSEC SIG(0)事务签名。SIG(0)使用公钥/私钥来认证消息。访问控制
        的执行与TSIG密钥类似；可以基于密钥名授予或拒绝权限。
      </para>
      <para>
        当收到一个SIG(0)签名消息时，仅仅在服务器知道并相信密钥的情况下
        才会验证它；服务器不会试图递归获取或验证密钥。
      </para>
      <para>
        多个消息的TCP流的SIG(0)签名还不支持。
      </para>
      <para>
        跟随<acronym>BIND</acronym> 9发行的生成SIG(0)签名消息的唯一工具
	是<command>nsupdate</command>。
      </para>
    </section>

    <section xml:id="DNSSEC"><info><title>DNSSEC</title></info>
      <para>
        通过RFC 4033、RFC 4034和RFC 4035所定义的DNS安全
	（<emphasis>DNSSEC-bis</emphasis>）扩展，DNS信息的加密认证是可能做到的。
	本节描述了建立和使用DNSSEC对区签名。
      </para>

      <para>
        为了设置一个DNSSEC安全的区，有一系列必须遵循的步骤。
        <acronym>BIND</acronym> 9在这个过程中用到了几个附带的工具，这将在下面
	详细解释。在所有的情况下，<option>-h</option>选项都会打印除一个完整的
	参数清单。注意，DNSSEC工具要求密钥集文件在工作目录或者在由
	<option>-d</option>选项所指定的目录中，而且BIND 9.2.x及更早的版本中所
	附带的工具与当前版本所附带的不兼容。
      </para>

      <para>
        必须同父区和/或子区的管理员通信，以传送密钥。一个区的安全状态必须由
	其父区指明，以使支持DNSSEC的解析器相信它所得到的数据。这是通过在授权
	点提供或者不提供一个<literal>DS</literal>记录来完成的。
      </para>

      <para>
        对其它相信这个区的数据的服务器，它们必须静态地配置这个区的区密钥
		或者在DNS树中这个区上面的另一个区的区密钥。
      </para>

      <section xml:id="dnssec_keys"><info><title>生成密钥</title></info>

        <para>
          <command>dnssec-keygen</command>程序用于生成密钥。
        </para>

        <para>
          一个加密的区必须包含一个或多个区密钥。区密钥对区中的所有其它记录
          签名，也对任何安全授权的区的区密钥签名。区密钥必须有一个与区同样
          的名字，一个为<command>ZONE</command>的类型名，并且必须可以用于认
          证。推荐区密钥使用由IETF作为“强制实现”所指定的加密算法；当前有
          两种算法：RSASHA256和ECDSAP256SHA256。推荐ECDSAP256SHA256用于
          当前和将来的部署。
        </para>

        <para>
          下列命令为<filename>child.example</filename>区生成一个
          ECDSAP256SHA256密钥：
        </para>

        <para>
          <userinput>dnssec-keygen -a ECDSAP256SHA256 -n ZONE child.example.</userinput>
        </para>

        <para>
          将产生两个输出文件：
          <filename>Kchild.example.+013+12345.key</filename>和
          <filename>Kchild.example.+013+12345.private</filename>
          （这里的12345是密钥标记的一个例子）。
          密钥文件名包含密钥名（<filename>child.example.</filename>），
          算法（5表示RSASHA1，8表示RSASHA256，13表示ECDSAP256SHA256，
          15表示ED25519，等等）
          和密钥标记（在本例中为12345）。私钥
          （在<filename>.private</filename>文件中）用于生成签名，公钥
          （在<filename>.key</filename>文件中）用于验证签名。
        </para>

        <para>
          要生成同样属性的另一个密钥（但是使用一个不同的密钥标记），
          只需重复上面的命令。
        </para>

        <para>
	  <command>dnssec-keyfromlabel</command>程序是用来从一个
	  隐藏硬件获取一个密钥对并生成密钥文件。其用法与
	  <command>dnssec-keygen</command>类似。
        </para>

        <para>
          公钥应该通过使用<command>$INCLUDE</command>语句来包含
          <filename>.key</filename>文件的方式插入到区文件中。
        </para>

      </section>
      <section xml:id="dnssec_signing"><info><title>对区签名</title></info>

        <para>
          <command>dnssec-signzone</command>程序用于对区签名。
        </para>

        <para>
          任何与安全子区相关的<filename>keyset</filename>文件都应该出现。
	  区的签名者将为区生成<literal>NSEC</literal>、
	  <literal>NSEC3</literal>和<literal>RRSIG</literal>
          记录，如同指定<literal>‘-d’</literal>选项时为子区生成
          的<literal>DS</literal>记录一样。如果未指定
	  <literal>'-d'</literal>选项，就必须为安全的子区手工添加DS
	  资源记录集。
        </para>

        <para>
          下列命令对区签名，假设它是一个名为
          <filename>zone.child.example</filename>
          的文件。缺省情况下，所有的区密钥都有一个可用的私钥用来生成签名。
        </para>

        <para>
          <userinput>dnssec-signzone -o child.example zone.child.example</userinput>
        </para>

        <para>
          会产生一个输出文件：<filename>zone.child.example.signed</filename>。
          这个文件必须在<filename>named.conf</filename>中作为输入文件被引用。
        </para>

        <para>
          <command>dnssec-signzone</command>也会生成一个keyset和dsset文件，以及
          一个可选的dlvset文件。他们用于向上级区管理员提供
          <literal>DNSKEY</literal>（或者与之相关的<literal>DS</literal>
          记录），后者作为区的安全入口点。
        </para>

      </section>

      <section xml:id="dnssec_config"><info><title>为DNSSEC配置服务器</title></info>
	<para>
	  为了使<command>named</command>正确响应感知DNSSEC的客户端所发出的
	  DNS请求，必须将<command>dnssec-enable</command>设置为yes。
	  这是缺省设置。
        </para>
	<para>
	  为了使<command>named</command>验证来自其它服务器的响应，
          必须将<command>dnssec-validation</command>
          选项设置为<userinput>yes</userinput>或
          <userinput>auto</userinput>。
	</para>
	<para>
	  当<command>dnssec-validation</command>被设置为
          <userinput>auto</userinput>时，就会自动使用DNS根区的一个信任锚。
          这个信任锚作为BIND的一部份提供并使用RFC 5011密钥管理来保持更新。
	</para>
	<para>
	  当<command>dnssec-validation</command>被设置为
	  <userinput>yes</userinput>时，仅当在<filename>named.conf</filename>
          中使用<command>trusted-keys</command>或者
          <command>managed-keys</command>语句至少显式配置了一个信任锚，
          才会进行DNSSEC验证。
	</para>
	<para>
	  当<command>dnssec-validation</command>被设置为
	  <userinput>no</userinput>时，不会进行DNSSEC验证。
	</para>
	<para>
          缺省值是<userinput>auto</userinput>，除非BIND编译时带有
	  <command>configure --disable-auto-validation</command>，
          这种情况下缺省值是<userinput>yes</userinput>。
	</para>
	<para>
	  如果<command>dnssec-enable</command>被设置为
	  <userinput>no</userinput>，那么
	  <command>dnssec-validation</command>的缺省值也会被改为
	  <userinput>no</userinput>。
	  如果<command>dnssec-validation</command>被设置为
	  <userinput>yes</userinput>，那么服务器将在内部进行
	  DNSSEC验证，但在被请求时不会返回签名 - 但它不会自动打开。
        </para>
	  
	<para>
	  <command>trusted-keys</command>是区的DNSKEY资源记录的拷贝，它用于形成
	  加密信任链的首个链接。所有在<command>trusted-keys</command>
	  （及相关的区）中的密钥列表都被认为是存在的，并且只有所列出的密钥可
	  以用于验证与其来源一致的DNSKEY资源记录集。
	</para>

	<para>
	  <command>managed-keys</command>是通过RFC 5011信任锚点维护自动
	  保持更新的受信任密钥。
	</para>

	<para>
	  在本文档的后面有更多关于<command>trusted-keys</command>和
	  <command>managed-keys</command>的详细描述。
	</para>

	<para>
	  与<acronym>BIND</acronym> 8不同，<acronym>BIND</acronym> 9在装载时
	  不验证签名，所以不必在配置文件中指定权威区的区密钥。
	</para>

	<para>
	  在DNSSEC建立之后，一个典型的DNSSEC配置看起来就像以下内容。它有一个
	  或多个根的公钥。这可以允许来自外部的响应被验证。本单位所控制的部份
	  名字空间也需要几个密钥。其作用是确保<command>named</command>不受
	  上级区安全的DNSSEC组成中的危险因素的影响。
	</para>

<programlisting>
managed-keys {
	/* Root Key */
        "." initial-key 257 3 3 "BNY4wrWM1nCfJ+CXd0rVXyYmobt7sEEfK3clRbGaTwS
                                 JxrGkxJWoZu6I7PzJu/E9gx4UC1zGAHlXKdE4zYIpRh
                                 aBKnvcC2U9mZhkdUpd1Vso/HAdjNe8LmMlnzY3zy2Xy
                                 4klWOADTPzSv9eamj8V18PHGjBLaVtYvk/ln5ZApjYg
                                 hf+6fElrmLkdaz MQ2OCnACR817DF4BBa7UR/beDHyp
                                 5iWTXWSi6XmoJLbG9Scqc7l70KDqlvXR3M/lUUVRbke
                                 g1IPJSidmK3ZyCllh4XSKbje/45SKucHgnwU5jefMtq
                                 66gKodQj+MiA21AfUVe7u99WzTLzY3qlxDhxYQQ20FQ
                                 97S+LKUTpQcq27R7AT3/V5hRQxScINqwcz4jYqZD2fQ
                                 dgxbcDTClU0CRBdiieyLMNzXG3";
};

trusted-keys {
        /* Key for our organization's forward zone */
        example.com. 257 3 5 "AwEAAaxPMcR2x0HbQV4WeZB6oEDX+r0QM6
                              5KbhTjrW1ZaARmPhEZZe3Y9ifgEuq7vZ/z
                              GZUdEGNWy+JZzus0lUptwgjGwhUS1558Hb
                              4JKUbbOTcM8pwXlj0EiX3oDFVmjHO444gL
                              kBOUKUf/mC7HvfwYH/Be22GnClrinKJp1O
                              g4ywzO9WglMk7jbfW33gUKvirTHr25GL7S
                              TQUzBb5Usxt8lgnyTUHs1t3JwCY5hKZ6Cq
                              FxmAVZP20igTixin/1LcrgX/KMEGd/biuv
                              F4qJCyduieHukuY3H4XMAcR+xia2nIUPvm
                              /oyWR8BW/hWdzOvnSCThlHf3xiYleDbt/o
                              1OTQ09A0=";

        /* Key for our reverse zone. */
        2.0.192.IN-ADDRPA.NET. 257 3 5 "AQOnS4xn/IgOUpBPJ3bogzwc
                                       xOdNax071L18QqZnQQQAVVr+i
                                       LhGTnNGp3HoWQLUIzKrJVZ3zg
                                       gy3WwNT6kZo6c0tszYqbtvchm
                                       gQC8CzKojM/W16i6MG/eafGU3
                                       siaOdS0yOI6BgPsw+YZdzlYMa
                                       IJGf4M4dyoKIhzdZyQ2bYQrjy
                                       Q4LB0lC7aOnsMyYKHHYeRvPxj
                                       IQXmdqgOJGq+vsevG06zW+1xg
                                       YJh9rCIfnm1GX/KMgxLPG2vXT
                                       D/RnLX+D3T3UL7HJYHJhAZD5L
                                       59VvjSPsZJHeDCUyWYrvPZesZ
                                       DIRvhDD52SKvbheeTJUm6Ehkz
                                       ytNN2SN96QRk8j/iI8ib";
};

options {
	...
	dnssec-enable yes;
	dnssec-validation yes;
};
</programlisting>

	<note><simpara>
	  本例中列出的所有密钥都是无效的。特别是，根密钥是无效的。
	</simpara></note>

	<para>
	  当DNSSEC验证被打开并正确地配置后，解析器将会拒绝来自
	  已签名的、安全的区中未通过验证的响应，并返回SERVFAIL
	  给客户端。
	</para>

	<para>
	  响应可能因为以下任何一种原因而验证失败，包含错误的、过期的、
	  或无效的签名，密钥与父区中的DS资源记录集不匹配，或者来自一个区的
	  不安全的响应，而根据它的父区，应该是一个安全的响应。
	</para>

	<note>
	  <para>
	    当验证者收到一个来自一个拥有签名父区的未签名区的响应，它必须
	    向其父区确认这个是有意未签名的。它通过验证父区没有包含子区的
	    DS记录，即通过签名的和验证了的NSEC/NSEC3记录，来确认这一点。
	  </para>
	  <para>
	    如果验证者<emphasis>能够</emphasis>证明区是不安全的，其响应
	    就是可以接受的。然而，如果不能证明，它就必须假设不安全的
	    响应是伪造的；它就拒绝响应并在日志中记录一个错误。
	  </para>
	  <para>
	    日志记录的错误为“insecurity proof failed”和
            “got insecure response; parent indicates it should be secure”。
	  </para>
	</note>
      </section>
    </section>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-utf8.xml"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="managed-keys-utf8.xml"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="pkcs11-utf8.xml"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dlz-utf8.xml"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dyndb-utf8.xml"/>

    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="catz-utf8.xml"/>

    <section xml:id="ipv6"><info><title><acronym>BIND</acronym> 9对IPv6的支持</title></info>
      <para>
        <acronym>BIND</acronym> 9对当前所定义的各种IPv6形式的名字到地址和
        地址到名字的查找提供完全的支持。它也可以在具有IPv6的系统上使用
        IPv6地址来发出请求。
      </para>

      <para>
        对正向的查找，<acronym>BIND</acronym> 9仅支持AAAA记录。RFC 3363
	废除了A6记录的使用，相应地，作为客户端对A6记录的支持也从
	<acronym>BIND</acronym> 9中去掉了。然而，权威<acronym>BIND</acronym> 9
	名字服务器仍然可以正确装载包含A6记录的区文件，回答对A6记录的请求，
	并接受包含A6记录的区的区传送。
      </para>

      <para>
        对IPv6反向查找，<acronym>BIND</acronym> 9支持传统的“半字节”格式，
	既可以用于<emphasis>ip6.arpa</emphasis>域，也可以用于旧的、被废除的
	<emphasis>ip6.int</emphasis>域。旧版本的的<acronym>BIND</acronym> 9
	支持“二进制标记”（也被称为“位串”）格式，但是对二进制标记的支持已经
	完全被RFC 3363所去掉了。多数<acronym>BIND</acronym> 9中的应用完全
	不再识别二进制标记格式，如果遇到将会报错。特别的，一个权威
	<acronym>BIND</acronym> 9名字服务器将不再装载一个包含二进制标记的区
	文件。
      </para>

      <para>
        对IPv6地址格式和结构的概括，参见<xref linkend="ipv6addresses"/>。
      </para>

      <section><info><title>使用AAAA记录查找地址</title></info>

        <para>
          IPv6的AAAA记录与IPv4的A记录相对应，并且与被废除的A6记录不同，
		  它在一个记录中指定完整的IPv6地址。例如：
        </para>

<programlisting>
$ORIGIN example.com.
host            3600    IN      AAAA    2001:db8::1
</programlisting>

        <para>
          不推荐使用IPv6内嵌IPv4映射地址。如果一个主机有一个IPv4地址，
	  使用一个A记录，而不是带有<literal>::ffff:192.168.42.1</literal>
	  的AAAA记录来作为其地址。
        </para>
      </section>
      <section><info><title>使用半字节格式从地址查名字</title></info>

        <para>
          在使用半字节格式来查找一个地址时，地址元素只是简单地反转，并且
	  在反转之后的名字后面添加<literal>ip6.arpa.</literal>，就像在IPv4
	  中一样。例如，下面将提供对一个地址为<literal>2001:db8::1</literal>
	  的主机进行反向名字查找。
        </para>

<programlisting>
$ORIGIN 0.0.0.0.0.0.0.0.8.b.d.0.1.0.0.2.ip6.arpa.
1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0   14400 IN      PTR    (
                                     host.example.com. )
</programlisting>

      </section>
    </section>
  </chapter>

  <chapter xml:id="Bv9ARM-gbk.ch05"><info><title><acronym>BIND</acronym> 9配置参考</title></info>

    <para>
      <acronym>BIND</acronym> 9的配置在很大程度上与<acronym>BIND</acronym> 8
	  相似；然而，也有一些新的配置领域，例如视图（view）。
	  <acronym>BIND</acronym> 8的配置文件只需很少改动就可以工作在
	  <acronym>BIND</acronym> 9中，虽然更复杂的配置应该被重新审核以检查他们
	  是否可以用只有<acronym>BIND</acronym> 9才有的新特征来更有效率地实现。
    </para>

    <para>
      <acronym>BIND</acronym> 4的配置文件可以使用shell脚本
	  <filename>contrib/named-bootconf/named-bootconf.sh</filename>转换成
	  新的格式。
    </para>
    <section xml:id="configuration_file_elements"><info><title>配置文件元素</title></info>

      <para>
        以下是贯穿在<acronym>BIND</acronym>配置文件的文档中的元素清单：
      </para>
      <informaltable colsep="0" rowsep="0">
        <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="2Level-table">
          <colspec colname="1" colnum="1" colsep="0" colwidth="1.855in"/>
          <colspec colname="2" colnum="2" colsep="0" colwidth="3.770in"/>
          <tbody>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>acl_name</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  由<command>acl</command>语句所定义的一个
                  <varname>address_match_list</varname>的名字。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>address_match_list</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个或多个<varname>ip_addr</varname>，
                  <varname>ip_prefix</varname>，<varname>key_id</varname>或
                  <varname>acl_name</varname>元素的列表，参见
                  <xref linkend="address_match_lists"/>。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>masters_list</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个或多个带有<varname>key_id</varname>和/或
                  <varname>ip_port</varname>
                  选项的<varname>ip_addr</varname>的命名列表。
                  一个<varname>masters_list</varname>可以包含其它
                  <varname>masters_list</varname>。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>domain_name</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  必须用作一个DNS名字的引号内字符串，如
                  “<literal>my.test.domain</literal>”。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>namelist</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
		  一个或多个<varname>domain_name</varname>的列表。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>dotted_decimal</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  以点（‘.’）分隔的一个到四个0到255之间的整数，如
                  <command>123</command>，<command>45.67</command>或
                  <command>89.123.45.67</command>。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>ip4_addr</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个IPv4地址，严格含有4个元素的
                  <varname>dotted_decimal</varname>符号。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>ip6_addr</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个IPv6地址，如<command>2001:db8::1234</command>。IPv6范围
                  地址在其范围区具有模糊性，必须由一个带有百分号（‘%’）作
                  分隔符的合适的区ID来澄清。强烈推荐使用字符串区名字而不是数字
                  标识符，以在系统配置更改时更健壮。然而，由于没有映射这种名字
                  和标识符值的标准，当前仅仅支持将接口名作为联系标识符。例如，
                  一个连接的本地的地址<command>fe80::1</command>连接到接口
                  <command>ne0</command>可以指定为
                  <command>fe80::1%ne0</command>。
                  注意在大多数系统的连接到本地的地址都有模糊性，需要澄清。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>ip_addr</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个<varname>ip4_addr</varname>或者
                  <varname>ip6_addr</varname>。
                </para>
              </entry>
            </row>
	    <row rowsep="0">
	      <entry colname="1">
		<para>
		  <varname>ip_dscp</varname>
		</para>
	      </entry>
	      <entry colname="2">
		<para>
		  一个介于0到63之间的<varname>number</varname>，用于给支持
		  差分服务代码点（DSCP）的操作系统的出向流量选择一个DSCP值。
		</para>
	      </entry>
	    </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>ip_port</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个IP端口<varname>号</varname>。其范围为0到65535，1024以下
                  端口被限制为以root身份运行的进程所使用。在某些情况下星号
                  （‘*’）字符用作占位符，以选择大数目的端口。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>ip_prefix</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个IP网络地址，由一个<varname>ip_addr</varname>后跟一个斜线
                  （‘/’）和一个代表掩码位数的数字所指定。
                  <varname>ip_addr</varname>后面的零将被忽略。例如，
                  <command>127/8</command>表示网络
                  <command>127.0.0.0</command>，掩码为
                  <command>255.0.0.0</command>，<command>1.2.3.0/28</command>
                  表示网络<command>1.2.3.0</command>，
                  掩码为<command>255.255.255.240</command>。
                </para>
                <para>
                  当指定的一个前缀涉及一个IPv6范围地址，这个范围可以被忽略，
                  在这个情况，前缀将会匹配来自任何范围的包。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>key_id</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个<varname>domain_name</varname>，代表一个共享密钥的名字，
                  用在事务安全中。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>key_list</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个或多个<varname>key_id</varname>的列表，以分号分隔和结束。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>number</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个非负32位整数（即0到4294967295（含）之间的整数）。它所能
                  接受的值可能更多地受其使用的上下文所限制。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>fixedpoint</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个非负实数，可以被指定为精确到百分之一。小数点前最大
                  五位数，小数点后最大两位，即最大值为99999.99。
                  可接受的值受到其使用上下文中的更多限制。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>path_name</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个引用的字符串，用作路径名，例如
                  <filename>zones/master/my.test.domain</filename>。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>port_list</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
		  一个<varname>ip_port</varname>或者端口范围的列表。
                  一个端口范围以<userinput>range</userinput>后跟两个
                  <varname>ip_port</varname>的形式指定，即
                  <varname>port_low</varname>和
                  <varname>port_high</varname>，表示从
                  <varname>port_low</varname>到
                  <varname>port_high</varname>的端口号，含。
                  <varname>port_low</varname>必须小于或等于
                  <varname>port_high</varname>。例如，
                  <userinput>range 1024 65535</userinput>表示从1024到
                  65535的端口。在两种情况下，星号（‘*’）字符都不是被
                  允许的有效<varname>ip_port</varname>。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>size_spec</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  一个64位无符号整数、关键词<userinput>unlimited</userinput>
                  或<userinput>default</userinput>。
                </para>
		<para>
                  整数可以取值的范围为0 &lt;= value &lt;= 18446744073709551615，
                  虽然某些参数（如<command>max-journal-size</command>）在这个
                  范围中使用更受限的区间。在大多数情况下，
                  设置一个值为0不意谓着字面上的零；它表示“未定义”或
                  “尽可能的大”，具体是什么取决于上下文。参见特殊参数的解释
                  以获取<varname>size_spec</varname>在如何解释其用法的详细信息。
                </para>
                <para>
                  数字值后面可以选择跟比例因数：
                  <userinput>K</userinput>或<userinput>k</userinput>表示
                  千字节，<userinput>M</userinput>或<userinput>m</userinput>
                  表示兆字节，<userinput>G</userinput>或
                  <userinput>g</userinput>表示吉字节，
                  其比例分别为乘1024，1024*1024和1024*1024*1024。
                </para>
                <para>
                  <varname>unlimited</varname>通常表示“尽可能的大”，
                  并且通常是设置一个大数时的最佳方式。
                </para>
                <para>
                  <varname>default</varname>使用服务器启动时的有效限制。
                </para>
              </entry>
            </row>
	    <row rowsep="0">
	      <entry colname="1">
		<para>
		  <varname>size_or_percent</varname>
		</para>
	      </entry>
	      <entry colname="2">
		<para>
		  <varname>size_spec</varname>或者整数值后跟
		  表示百分比的'%'。
		</para>
		<para>
		  这个特性与<varname>size_spec</varname>完全相同，
		  但是<varname>size_or_percent</varname>也允许指定
		  一个正整数后跟一个表示百分比的'%'符号。
		</para>
	      </entry>
	    </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>yes_or_no</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  <userinput>yes</userinput>或<userinput>no</userinput>。单词
                  <userinput>true</userinput>和<userinput>false</userinput>
                  也可以，同样还有数字<userinput>1</userinput>和
                  <userinput>0</userinput>。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para>
                  <varname>dialup_option</varname>
                </para>
              </entry>
              <entry colname="2">
                <para>
                  <userinput>yes</userinput>，
		  <userinput>no</userinput>，
		  <userinput>notify</userinput>，
		  <userinput>notify-passive</userinput>，
		  <userinput>refresh</userinput>，
		  <userinput>passive</userinput>之一。
		  当使用在一个区中时，
		  <userinput>notify-passive</userinput>，
		  <userinput>refresh</userinput>和
		  <userinput>passive</userinput>被限制
		  在只能用于辅区和存根区中。
                </para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>
      <section xml:id="address_match_lists"><info><title>地址匹配表</title></info>

        <section><info><title>语法</title></info>

<programlisting><replaceable>address_match_list</replaceable> = <replaceable>address_match_list_element</replaceable> <command>;</command> ...

<replaceable>address_match_list_element</replaceable> = [ <command>!</command> ] ( <replaceable>ip_address</replaceable> | <replaceable>ip_prefix</replaceable> |
     <command>key</command> <replaceable>key_id</replaceable> | <replaceable>acl_name</replaceable> | <command>{</command> <replaceable>address_match_list</replaceable> <command>}</command> )
</programlisting>

        </section>
        <section><info><title>定义和用法</title></info>

          <para>
            地址匹配表主要用于决定对各种服务器操作的访问控制。它们通常也用在
            <command>listen-on</command>和<command>sortlist</command>语句中。组
            成一个地址匹配表的元素可以是以下的任何一种：
          </para>
          <itemizedlist>
            <listitem>
              <simpara>一个IP地址（IPv4或IPv6）</simpara>
            </listitem>
            <listitem>
              <simpara>一个IP前缀（以‘/’表示法）</simpara>
            </listitem>
            <listitem>
              <simpara>
                一个密钥ID，由<command>key</command>语句所定义的
              </simpara>
            </listitem>
            <listitem>
              <simpara>使用<command>acl</command>语句定义的地址匹配表的名字
              </simpara>
            </listitem>
            <listitem>
              <simpara>包含在花括号中的嵌套的地址匹配表</simpara>
            </listitem>
          </itemizedlist>

          <para>
            元素可以使用惊叹号（‘!’）取反，匹配表名“any”、“none”、
            “localhost”和“localnets”是预定义的。可以从acl语句的描述中找到这
            些名字的更多信息。
          </para>

          <para>
            增加key子句使这个句法元素的名字有些怪异，因为安全密钥可以校验访问而
            不需考虑一个主机或网络的地址。虽然如此，“地址匹配表”这个术语仍然
            贯穿整个文档。
          </para>

          <para>
            当一个给定的IP地址或前缀与一个地址匹配表进行比较时，比较需要大致
            O(1)的时间。然而，密钥比较要求遍历密钥链表，直到找到一个匹配的
            密钥，这样就会较慢一些。
          </para>

          <para>
            一次匹配的解释依赖于列表是否被使用于访问控制、
            定义<command>listen-on</command>端口，
	    或者在一个<command>sortlist</command>中，以及元素是否被取反。
          </para>

	  <para>
	    当用作一个访问控制表时，非否定的匹配允许访问而否定的匹配拒绝访问。
	    如果没有匹配，则拒绝访问。子句
	    <command>allow-notify</command>，
	    <command>allow-recursion</command>，
	    <command>allow-recursion-on</command>，
	    <command>allow-query</command>，
	    <command>allow-query-on</command>，
	    <command>allow-query-cache</command>，
	    <command>allow-query-cache-on</command>，
	    <command>allow-transfer</command>，
	    <command>allow-update</command>，
	    <command>allow-update-forwarding</command>，
	    <command>blackhole</command>和
	    <command>keep-response-order</command>都使用地址匹配表。类似地，
	    <command>listen-on</command>选项
	    将使服务器拒绝任何发到不与列表匹配的机器地址的请求。
	  </para>

          <para>
            插入的顺序是重要的。如果一个ACL中有超过一个元素与给定的IP地址或
            前缀匹配，那么在ACL中<emphasis>首先</emphasis>定义的就会优先。
            由于这个首次匹配的特性，作为列表中某个元素的子集的元素应该放在列表
            的前面，而不考虑是否是否定的条目。例如，在
            <command>1.2.3/24; ! 1.2.3.13;</command>中，元素1.2.3.13完全是无用
            的，因为算法会将所有查找1.2.3.13的匹配到元素1.2.3/24上。使用
            <command>! 1.2.3.13; 1.2.3/24</command>修正了这个问题，通过否定符阻
            止了1.2.3.13，而让其它的1.2.3.*主机都通过。
          </para>
        </section>
      </section>

      <section xml:id="comment_syntax"><info><title>注释语法</title></info>

        <para>
          <acronym>BIND</acronym> 9注释语法允许注释可以出现在一个BIND配置文件中
          空白字符可以出现的任何位置。应各种类型的程序员的要求，注释可以写成C，
          C++或shell/perl的风格。
        </para>

        <section><info><title>语法</title></info>

          <para>
            <programlisting>/* This is a <acronym>BIND</acronym> comment as in C */</programlisting>
            <programlisting>// This is a <acronym>BIND</acronym> comment as in C++</programlisting>
            <programlisting># This is a <acronym>BIND</acronym> comment as in common UNIX shells
and perl</programlisting>
          </para>
        </section>
        <section><info><title>定义和用法</title></info>

          <para>
            在一个<acronym>BIND</acronym>配置文件中，注释可以出现在任何空白字符
            可以出现的地方。
          </para>
          <para>
            C风格的注释以两个字符/*（斜线，星号）开始，以*/（星号，斜线）结束。
            因为其完全以这些字符划界，所以它们可以用于在一行的一部份或跨越多行
            时的注释。
          </para>
          <para>
            C风格的注释不能嵌套。例如，以下是无效的，因为全部注释在第一个*/时结
            束：
          </para>
          <para>

<programlisting>/* This is the start of a comment.
   This is still part of the comment.
/* This is an incorrect attempt at nesting a comment. */
   This is no longer in any comment. */
</programlisting>

          </para>

          <para>
            C++风格的注释以两个字符//（斜线，斜线）开始并持续到一行的结束。它们
            不能继续并跨越多个行；要想使一个注释跨越多行，必须在每行都使用//。
            例如：
          </para>
          <para>

<programlisting>// This is the start of a comment.  The next line
// is a new comment, even though it is logically
// part of the previous comment.
</programlisting>

          </para>
          <para>
            Shell风格（或者称为perl风格，只要你愿意）的注释以字符#（井号）开始
            并持续到一行的结束，与C++注释一样。
            例如：
          </para>

          <para>

<programlisting># This is the start of a comment.  The next line
# is a new comment, even though it is logically
# part of the previous comment.
</programlisting>

          </para>

          <warning>
            <para>
              你不能像在区文件中一样，使用分号（‘;’）字符来开始一个注释。分号
              表示一个配置语句的结束。
            </para>
          </warning>
        </section>
      </section>
    </section>

    <section xml:id="Configuration_File_Grammar"><info><title>配置文件语法</title></info>

      <para>
        <acronym>BIND</acronym> 9的配置文件由语句和注释组成。语句以分号结束。语
        句和注释是仅有的可以出现在花括号之外的元素。许多语句包含由子语句组成的
        块，子语句也以分号结束。
      </para>

      <para>
        以下是所支持的语句：
      </para>

      <informaltable colsep="0" rowsep="0">
        <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="2Level-table">
          <colspec colname="1" colnum="1" colsep="0" colwidth="1.336in"/>
          <colspec colname="2" colnum="2" colsep="0" colwidth="3.778in"/>
          <tbody>
            <row rowsep="0">
              <entry colname="1">
                <para><command>acl</command></para>
              </entry>
              <entry colname="2">
                <para>
                  定义一个命名的IP地址匹配列表，用于访问控制或其它用途。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>controls</command></para>
              </entry>
              <entry colname="2">
                <para>
                  声明控制通道，用于<command>rndc</command>应用程序。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>include</command></para>
              </entry>
              <entry colname="2">
                <para>
                  包含一个文件。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>key</command></para>
              </entry>
              <entry colname="2">
                <para>
                  指定在使用TSIG时，用于认证和授权的密钥信息。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>logging</command></para>
              </entry>
              <entry colname="2">
                <para>
                  指定服务器记录哪些日志，和在哪里记录日志消息。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>masters</command></para>
              </entry>
              <entry colname="2">
                <para>
                  定义一个命名的主服务器列表，一般包含在存根区和辅区的
                  <command>masters</command>或<command>also-notify</command>
                  列表中。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>options</command></para>
              </entry>
              <entry colname="2">
                <para>
                  控制全局服务器配置和为其它语句设置缺省参数。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>server</command></para>
              </entry>
              <entry colname="2">
                <para>
		  为基于单个服务器的配置设置某个配置选项。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>statistics-channels</command></para>
              </entry>
              <entry colname="2">
                <para>
		  声明通信通道，以访问<command>named</command>统计信息。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>trusted-keys</command></para>
              </entry>
              <entry colname="2">
                <para>
                  定义信任的DNSSEC密钥。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>managed-keys</command></para>
              </entry>
              <entry colname="2">
                <para>
                  列出通过RFC 5011信任锚点维护来保持更新
                  的DNSSEC密钥。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>view</command></para>
              </entry>
              <entry colname="2">
                <para>
                  定义一个视图。
                </para>
              </entry>
            </row>
            <row rowsep="0">
              <entry colname="1">
                <para><command>zone</command></para>
              </entry>
              <entry colname="2">
                <para>
                  定义一个区。
                </para>
              </entry>
            </row>
          </tbody>
        </tgroup>
      </informaltable>

      <para>
        <command>logging</command>和<command>options</command>语句在每个配置文
        件中只能出现一次。
      </para>

      <section xml:id="acl_grammar"><info><title><command>acl</command>语句语法</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="acl.grammar.xml"/>
      </section>
      <section xml:id="acl"><info><title><command>acl</command>语句定义和用法</title></info>

        <para>
          <command>acl</command>语句将一个地址匹配列表赋值给一个符号名字。其名
          字来源于地址匹配列表的主要用途：访问控制表
          （Access Control Lists，ACLs）。
        </para>

        <para>
          下列ACL是内建的：
        </para>

        <informaltable colsep="0" rowsep="0">
          <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="3Level-table">
            <colspec colname="1" colnum="1" colsep="0" colwidth="1.130in"/>
            <colspec colname="2" colnum="2" colsep="0" colwidth="4.000in"/>
            <tbody>
              <row rowsep="0">
                <entry colname="1">
                  <para><command>any</command></para>
                </entry>
                <entry colname="2">
                  <para>
                    匹配所有主机。
                  </para>
                </entry>
              </row>
              <row rowsep="0">
                <entry colname="1">
                  <para><command>none</command></para>
                </entry>
                <entry colname="2">
                  <para>
                    匹配空主机。
                  </para>
                </entry>
              </row>
              <row rowsep="0">
                <entry colname="1">
                  <para><command>localhost</command></para>
                </entry>
                <entry colname="2">
                  <para>
                    匹配系统的所有网络接口的IPv4和IPv6地址。当有地址被添加或
                    删除时，<command>localhost</command> ACL元素被更新以反映
                    变化。
                  </para>
                </entry>
              </row>
              <row rowsep="0">
                <entry colname="1">
                  <para><command>localnets</command></para>
                </entry>
                <entry colname="2">
                  <para>
                    匹配一个系统所在的IPv4或IPv6网络上的所有主机。
                    当有地址被添加或删除时，
                    <command>localnets</command> ACL元素被更新以反映变化。
                    一些系统不提供决定本地IPv6地址的前缀长度的方法。
                    在这样的情况下，<command>localnets</command>只匹配
                    本地IPv6地址，如同<command>localhost</command>一样。
                  </para>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </informaltable>
      </section>
      <section xml:id="controls_grammar"><info><title><command>controls</command>语句语法</title></info>
        <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="controls.grammar.xml"/>
      </section>
      <section xml:id="controls_statement_definition_and_usage"><info><title><command>controls</command>语句定义和用法</title></info>

        <para>
          <command>controls</command>语句声明控制通道，其被系统管理员用来控制对
          名字服务器的操作。这些控制通道由<command>rndc</command>应用程序使用，
          它可以发送命令到名字服务器及从名字服务器获取一些非DNS的结果。
        </para>

        <para>
          一个<command>inet</command>控制通道是一个监听在
          <command>ip_addr</command>地址的<command>ip_port</command>端口的TCP套
          接字，可以是IPv4或IPv6地址。一个值为<literal>*</literal>（星号）的
          <command>ip_addr</command>被解释成IPv4通配地址；到系统的任何IPv4地址
          的连接都将被接受。要监听IPv6的通配地址，使用值为<literal>::</literal>
          的<command>ip_addr</command>。如果你只想对本机使用
          <command>rndc</command>，使用环回地址（<literal>127.0.0.1</literal>或
          <literal>::1</literal>）是最为安全的推荐做法。
        </para>

        <para>
          如果没有指定端口，就使用953端口。星号“<literal>*</literal>”不能用于
          <command>ip_port</command>。
        </para>

        <para>
          通过控制通道发送命令的能力是被<command>allow</command>和
          <command>keys</command>子句所限制的。通过基于
          <command>address_match_list</command>来允许到控制通道的连接。这只是一
          个简单的基于IP地址的过滤；<command>address_match_list</command>中的任
          何<command>key_id</command>元素都被忽略。
        </para>

	<para>
	  一个<command>unix</command>控制通道是一个UNIX域套接字，它监听文件系统
	  中指定的路径。对这个套接字的访问由<command>perm</command>、
	  <command>owner</command>和<command>group</command>子句指定。注意在某
	  些平台（SunOS和Solaris）上，权限（<command>perm</command>）是应用在上
	  级目录，而在套接字本身上的权限是被忽略的。
	</para>

        <para>
          命令通道的主要授权机制是<command>key_list</command>，它是一个
          <command>key_id</command>的列表。<command>key_list</command>中的每个
          <command>key_id</command>都被授权能够通过控制通道执行命令。关于在
          <command>rndc</command>中配置密钥的信息，参见
          <xref linkend="admin_tools"/>中的<xref linkend="rndc"/>。
        </para>

	<para>
	  如果<command>read-only</command>子句开启，控制通道被限制在
	  下列只读命令集中：
	  <command>nta -dump</command>，
	  <command>null</command>，<command>status</command>，
	  <command>showzone</command>，<command>testgen</command>和
	  <command>zonestatus</command>。
	  缺省地，<command>read-only</command>未开启，控制通道允许
	  读写访问。
	</para>

        <para>
          如果没有提供<command>controls</command>语句，<command>named</command>
	  将设置一个缺省的控制通道，监听在环回地址127.0.0.1及其IPv6的对应者::1上。
	  在这样的情况下，当有<command>controls</command>语句但是没有提供一
          个<command>keys</command>子句时，<command>named</command>将试图从
          <filename>/etc</filename>（或者是<acronym>BIND</acronym>编译时
          <varname>sysconfdir</varname>所指定的目录）下的
          <filename>rndc.key</filename>文件中装载命令通道密钥。要建立一个
          <filename>rndc.key</filename>文件，运行
          <userinput>rndc-confgen -a</userinput>。
        </para>

        <para>
          建立<filename>rndc.key</filename>特性是为了减少从
          <acronym>BIND</acronym> 8的改变，后者在其命令通道上没有提供数字签名，
          因而没有<command>keys</command>子句。这使<acronym>BIND</acronym> 9可
          以不加改变地使用现成的<acronym>BIND</acronym> 8配置文件，并使
          <command>rndc</command>能够用与BIND 8中<command>ndc</command>同样的方
          式工作，只是在BIND 9安装完成之后简单地执行命令
          <userinput>rndc-confgen -a</userinput>。
        </para>

        <para>
          由于<filename>rndc.key</filename>特性只是想要允许向后兼容
          <acronym>BIND</acronym> 8配置文件的用法，这个特性没有高程度的配置能力。
          你不能很容易地改变密钥名或秘密的大小，所以，如果你希望更改这些东西，
          你应该用你自己的密钥建立一个<filename>rndc.conf</filename>。
          <filename>rndc.key</filename>文件有其自身的权限设置，以使其只能由其所
          有者（运行<command>named</command>的用户）才能访问。如果你期望更大的
          灵活性以使其它用户可以访问<command>rndc</command>命令，你需要建立一个
          <filename>rndc.conf</filename>并将其设为要访问它的用户所在的组具有组
          可读的权限。
        </para>

        <para>
          要禁用命令通道，使用一个空的<command>controls</command>语句：
          <command>controls { };</command>。
        </para>

      </section>
      <section xml:id="include_grammar"><info><title><command>include</command>语句语法</title></info>

      <programlisting><command>include</command> <replaceable>filename</replaceable><command>;</command></programlisting>
      </section>
      <section xml:id="include_statement"><info><title><command>include</command>语句定义和用法</title></info>

        <para>
          <command>include</command>语句将指定的文件插入到
          <command>include</command>语句出现的点。<command>include</command>语
          句使配置文件的管理更加容易，可以允许读或者写某些内容，没有其它用途。
          例如，这个语句可以包含进只有名字服务器才可以读的私钥。
        </para>

      </section>
      <section xml:id="key_grammar"><info><title><command>key</command>语句语法</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="key.grammar.xml"/>
      </section>

      <section xml:id="key_statement"><info><title><command>key</command>语句定义和用法</title></info>

        <para>
          <command>key</command>语句定义了一个共享密钥，用于TSIG
          （参见<xref linkend="tsig"/>）或命令通道
          （参见<xref linkend="controls_statement_definition_and_usage"/>）中。
        </para>

        <para>
          <command>key</command>语句可以放在配置文件的顶级或一个
          <command>view</command>语句的内部。定义在顶级<command>key</command>语
          句中的密钥可以用于所有视图中。想要用于<command>controls</command>语句
          （参见<xref linkend="controls_statement_definition_and_usage"/>）中的
          密钥必须定义在顶级中。
        </para>

        <para>
          <replaceable>key_id</replaceable>，即密钥的名字，是一个唯一表示一个密
          钥的域名。它可以用于一个<command>server</command>语句中，它使发向那台
          服务器的请求都用这个密钥签名，或者用于地址匹配表中，以检验所收到的请
          求是由与这个名字、算法和秘密相匹配的密钥所签名。
        </para>

	<para>
	  <replaceable>algorithm_id</replaceable>是一个指定安全/认证算法的字符
	  串。<command>named</command>服务器支持<literal>hmac-md5</literal>，
	  <literal>hmac-sha1</literal>，<literal>hmac-sha224</literal>，
	  <literal>hmac-sha256</literal>，<literal>hmac-sha384</literal>和
	  <literal>hmac-sha512</literal> TSIG认证。通过在尾部增加一个以减号开始
	  的符合要求位数的最小数字来支持截断散列，如：
	  <literal>hmac-sha1-80</literal>。
	  <replaceable>secret_string</replaceable>是算法所用到的秘密，被当作一
	  个Base64编码的字符串。
	</para>

      </section>
      <section xml:id="logging_grammar"><info><title><command>logging</command>语句语法</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="logging.grammar.xml"/>
      </section>

      <section xml:id="logging_statement"><info><title><command>logging</command>语句定义和用法</title></info>

        <para>
          <command>logging</command>语句为名字服务器配置了广泛的日志选项种类。
          其<command>channel</command>短语将输出方法、格式选项和严重级别与一个
          可以用于<command>category</command>短语中的名字联系起来，用以选择多种
          类别的消息应当如何记入日志。
        </para>
        <para>
          只能使用一条<command>logging</command>语句，它可以定义多个想要的通道
          和类别。如果没有<command>logging</command>语句，日志配置将会是：
        </para>

<programlisting>logging {
     category default { default_syslog; default_debug; };
     category unmatched { null; };
};
</programlisting>

	<para>
	  如果<command>named</command>启动时带有
	  <option>-L</option>选项，它将日志记录到启动时指定的文件，
	  而不是使用系统日志。在这个情况，日志配置将会是：
	</para>

<programlisting>logging {
     category default { default_logfile; default_debug; };
     category unmatched { null; };
};
</programlisting>

        <para>
          日志配置只是在全部的配置文件被分析完成之后才建立。
          在服务器启动时，所有关
          于配置文件中语法错误的日志消息都被写到缺省通道，或者在指定
          <option>-g</option>选项时被写到标准错误中。
        </para>

        <section xml:id="channel"><info><title><command>channel</command>短语</title></info>

          <para>
            所有的日志输出都写到一个或多个<emphasis>channels</emphasis>；你可以
            按照需要建立多个通道。
          </para>

          <para>
            每个通道定义必须包含一个目标子句，这个子句中说明此通道的消息是到一
            个文件、到特定的syslog设施、到标准错误输出流还是被丢弃。还有些可选
            的选项，限定此通道所接受的消息严重级别（缺省为
            <command>info</command>），是否包含<command>named</command>所生成的
            时间戳，类别名字和/或严重级别（缺省是不包含任何）。
          </para>

          <para>
            <command>null</command>目标子句使得所有发送到此通道的消息被丢弃；在
            此情况下，通道的其它选项都没有意义。
          </para>

          <para>
            <command>file</command>目标子句将通道定向到一个磁盘文件。
            它可以包含附加的参数指定文件在轮转到一个备份文件之前允许
            增长到多大（<command>size</command>），指定在每次轮转时
            可以保存多少个文件的备份版本（<command>versions</command>），
            以及用于命名备份版本的格式（<command>suffix</command>）。
          </para>

          <para>
            <command>size</command>选项用于限制日志文件的增长。如果文件超过了
            指定的大小，<command>named</command>将会停止写到文件，除非它有一个
            <command>versions</command>选项。如果保持备份版本，文件将按照
            下面描述的方式轮转。如果没有<command>versions</command>选项，就
            不会写入更多的数据到日志中，除非有某些带外的机制删出日志或者截断日
            志使其小于最大大小。缺省行为是不限制文件大小。
          </para>
          <para>
            文件轮转仅发生在文件超过<command>size</command>选项指定的
            大小时。缺省不保有备份版本；任何存在的日志文件都是简单地添加。
	    <command>versions</command>选项指定文件应该保持多少备份版本。
            如果设置为<literal>unlimited</literal>，就没有限制。
          </para>
          <para>
            <command>suffix</command>选项可以被设置为
	    <literal>increment</literal>或者
	    <literal>timestamp</literal>。如果被设置为
	    <literal>timestamp</literal>，当一个日志文件轮转时，
	    它被保存为以当前时间戳作为文件的后缀。
            如果被设置为<literal>increment</literal>，备份文件
            被保存为以增加的数字作为后缀；
            轮转时，更旧的文件都被更名。
            例如，如果<command>versions</command>被设置为3
            并且<command>suffix</command>被设置为
	    <literal>increment</literal>，那么当
	    <filename>filename.log</filename>达到
	    <command>size</command>所指定的大小时，
	    <filename>filename.log.1</filename>被更名为
	    <filename>filename.log.2</filename>，
	    <filename>filename.log.0</filename>被更名为
	    <filename>filename.log.1</filename>，而
	    <filename>filename.log</filename>被更名为
	    <filename>filename.log.0</filename>，同时一个新的
	    <filename>filename.log</filename>被打开。
          </para>

          <para>
            <command>size</command>，<command>versions</command>和
            <command>suffix</command>选项用法例子：
          </para>

<programlisting>channel an_example_channel {
    file "example.log" versions 3 size 20m suffix increment;
    print-time yes;
    print-category yes;
};
</programlisting>

          <para>
            <command>syslog</command>目标子句将通道导向系统日志。它的参数是在
            <command>syslog</command>手册页中所描述的系统日志的设施。知名的设施
            有<command>kern</command>,<command>user</command>,
            <command>mail</command>,<command>daemon</command>,
            <command>auth</command>,<command>syslog</command>,
            <command>lpr</command>,<command>news</command>,
            <command>uucp</command>,<command>cron</command>,
            <command>authpriv</command>,<command>ftp</command>,
            <command>local0</command>,<command>local1</command>,
            <command>local2</command>,<command>local3</command>,
            <command>local4</command>,<command>local5</command>,
            <command>local6</command>和<command>local7</command>，
            但是，不是所有的操作系统上都支持所有的设施。
            <command>syslog</command>如何处理发向这些设施的消息在
            <command>syslog.conf</command>手册页中描述。如果你的系统使用非常旧
            的<command>syslog</command>版本，它只支持使用两个参数调用
            <command>openlog()</command>函数，这时这个子句会被静默地忽略。
          </para>
	  <para>
            在Windows机器上，syslog消息直接定向到事件查看器（EventViewer）。
	  </para>
          <para>
            <command>severity</command>子句工作起来像<command>syslog</command>
            的“优先级”，只有一点不同，就是如果你直接写到文件而不是使用
            <command>syslog</command>时，也可以使用它们。至少达到所使用的
            严重级别的消息将才会送到此通道；大于严重级别的消息会被接受。
          </para>
          <para>
            如果你使用<command>syslog</command>，<command>syslog.conf</command>
            优先级也会决定最终的通过量。例如，定义一个通道设施，其严重级别为
            <command>daemon</command>和<command>debug</command>，但是通过
            <command>syslog.conf</command>设置只记录
            <command>daemon.warning</command>，将会导致严重级别为
            <command>info</command>和<command>notice</command>的消息被扔掉。在
            相反的情况下，<command>named</command>只记录
            <command>warning</command>或更高级别的消息，
            <command>syslogd</command>会记录所有它从这个通道收到的消息。
          </para>

          <para>
            <command>stderr</command>目标子句将通道引导到服务器的标准错误流。其
            意图是在服务器作为一个前台进程运行时使用的，例如调试一个配置时。
          </para>

          <para>
            服务器在调试模式时可以支持扩展调试信息。如果服务器的全局调试级别大
            于0，调试模式将会被激活。全局调试级别可以通过在启动
            <command>named</command>服务器时带<option>-d</option>标志并后跟一个
            正整数，或者通过运行<command>rndc trace</command>。全局调试级别可以
            设为0，调试模式被关闭，或者通过运行
            <command>rndc notrace</command>。服务器中的所有调试信息都有一个
            调试级别，越高的调试级别给出越详细的输出。在通道内指定一个特定的
            调试严重级别，例如：
          </para>

<programlisting>channel specific_debug_level {
    file "foo";
    severity debug 3;
};
</programlisting>

          <para>
            将会在服务器工作在调试模式的任何时间时，得到第3级或更低的调试输出，
            而无论全局调试级别的设置是多少。严重级别为
            <command>dynamic</command>的通道使用服务器的全局调试级别来决定输出
            哪些消息。
          </para>
          <para>
            <command>print-time</command>可以被设置为
	    <userinput>yes</userinput>，<userinput>no</userinput>或一个时间
            格式说明符，它可以是<userinput>local</userinput>，
            <userinput>iso8601</userinput>或
            <userinput>iso8601-utc</userinput>之一。
            如果设置为<userinput>no</userinput>，就不将日期和时间记入日志。
            如果设置为<userinput>yes</userinput>或者
            <userinput>local</userinput>，日期和时间就以人可读的格式，使用
            本地时区记入日志。
            如果设置为<userinput>iso8601</userinput>，本地时间以ISO8601格式
            记入日志。
            如果设置为<userinput>iso8601-utc</userinput>，日期和时间
            以ISO8601格式记入日志，时区设置为UTC。
            缺省时<userinput>no</userinput>。
          </para>
          <para>
            <command>print-time</command>可以用于<command>syslog</command>
            通道，但是它通常不这样用，因为<command>syslog</command>也记录日期和
            时间。
          </para>
          <para>
            如果要<command>print-category</command>，消息的类别也将被记入
            日志。最后，如果打开<command>print-severity</command>，消息的严重
            级别将被记入日志。<command>print-</command>选项可以用在任何组合，
            并总是按照下列顺序打印：时间，类别，严重性。这里是所有三个
            <command>print-</command>选项都打开的一个例子：
          </para>

          <para>
            <computeroutput>28-Feb-2000 15:05:32.863 general: notice: running</computeroutput>
          </para>

	  <para>
	    如果打开了<command>buffered</command>，到文件的输出不会在每次
	    日志进入时都刷新。
	    缺省是所有日志消息都被刷新。
	  </para>

          <para>
            有四个预定义的通道供<command>named</command>缺省日志使用，
	    具体如下。
	    如果<command>named</command>启动时带有
	    <option>-L</option>选项，就会添加第五个通道
	    <command>default_logfile</command>。
            如何使用它们在<xref linkend="the_category_phrase"/>描述。
          </para>

<programlisting>channel default_syslog {
    // send to syslog's daemon facility
    syslog daemon;
    // only send priority info and higher
    severity info;
};

channel default_debug {
    // write to named.run in the working directory
    // Note: stderr is used instead of "named.run" if
    // the server is started with the '-g' option.
    file "named.run";
    // log at the server's current debug level
    severity dynamic;
};

channel default_stderr {
    // writes to stderr
    stderr;
    // only send priority info and higher
    severity info;
};

channel null {
   // toss anything sent to this channel
   null;
};

channel default_logfile {
    // this channel is only present if named is
    // started with the -L option, whose argument
    // provides the file name
    file "...";
    // log at the server's current debug level
    severity dynamic;
};
</programlisting>

          <para>
            <command>default_debug</command>通道具有专门的属性，它只在服务器的
            调试级别不为零时才有输出。通常情况下，它会写到服务器工作目录下面一
            个文件名为<filename>named.run</filename>的文件。
          </para>

          <para>
            由于安全原因，当使用了<option>-u</option>命令行选项时，
            <filename>named.run</filename>文件只在<command>named</command>改变
            为新的UID之后才被创建，并且在<command>named</command>启动过程中还以
            root运行时所产生的调试输出都被丢弃。如果你需要捕捉这些输出，你必须
	    在运行服务器时使用<option>-L</option>选项指定一个缺省的日志文件，
	    或者使用<option>-g</option>选项记录到标准错误，你可以重定向它到
	    一个文件。
          </para>

          <para>
            一旦一个通道被定义后，它不能被重定义。这样你不能直接修改内建的
            通道，但是你可以修改缺省的日志，即将类别指向你所定义的通道。
          </para>
        </section>

        <section xml:id="the_category_phrase"><info><title><command>category</command>短语</title></info>

          <para>
            存在许多类别，这样你可以发送你想要看的日志，而不看你不想要的日志。
            如果你不为一个类别指定一个通道名单，这个类别下面的日志消息将会被发
            送到<command>default</command>类别。如果你不指定一个缺省的类别，就
            使用下列“缺省的缺省”：
          </para>

<programlisting>category default { default_syslog; default_debug; };
</programlisting>

	  <para>
	    如果你启动<command>named</command>时带有
	    <option>-L</option>选项，缺省类别是：
	  </para>

<programlisting>category default { default_logfile; default_debug; };
</programlisting>

          <para>
            作为一个例子，我们假设你想将安全事件记录到一个文件，但是你也想保持
            缺省的日志行为。你会如下设定：
          </para>

<programlisting>channel my_security_channel {
    file "my_security_file";
    severity info;
};
category security {
    my_security_channel;
    default_syslog;
    default_debug;
};</programlisting>

          <para>
            想丢弃一个类别中的所有消息，指定null通道：
          </para>

<programlisting>category xfer-out { null; };
category notify { null; };
</programlisting>

          <para>
            以下是可用类别及其所包含的日志信息类型的简单描述。将来的
            <acronym>BIND</acronym>发行版会添加更多的类别。
          </para>
          <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="logging-categories-utf8.xml"/>
        </section>
	<section xml:id="query_errors"><info><title><command>query-errors</command>类别</title></info>
	  <para>
	    <command>query-errors</command>类别是专门用于调试目的：
	    是为了标识特定的请求为什么以及怎样导致错误响应。
	    因此，这个类别的信息仅仅用<command>debug</command>级别
	    记录日志。
	  </para>

	  <para>
	    在1或更高的调试级别时，每个返回码（rcode）为SERVFAIL的
	    响应按如下方式记录日志：
	  </para>
	  <para>
	    <computeroutput>client 127.0.0.1#61502: query failed (SERVFAIL) for www.example.com/IN/AAAA at query.c:3880</computeroutput>
	  </para>
	  <para>
	    这表示在源文件<filename>query.c</filename>的
	    第3880行检测到一个导致SERVFAIL的错误。
	    这个级别的日志消息对识别一个权威服务器中导致
	    SERVFAIL的原因特别有帮助。
	  </para>
	  <para>
	    在2或更高的调试级别时，记录了导致SERVFAIL的递归解析的
	    详细上下文信息。
	    日志消息将像如下这样：
	  </para>
	  <para>
<!-- NOTE: newlines and some spaces added so this would fit on page -->
            <programlisting>
fetch completed at resolver.c:2970 for www.example.com/A
in 30.000183: timed out/success [domain:example.com,
referral:2,restart:7,qrysent:8,timeout:5,lame:0,neterr:0,
badresp:1,adberr:0,findfail:0,valfail:0]
            </programlisting>
	  </para>
	  <para>
	    在冒号之前的第一部份表示一个对www.example.com的AAAA记录
	    的递归解析在30.000183秒内完成并最终结果导致一个SERVFAIL，
	    它是由源文件<filename>resolver.c</filename>的第2970行
	    决定的。
	  </para>
	  <para>
	    接下来的部份显示了所检测到的最终结果和DNSSEC验证的
	    最近结果。
	    当不试图进行验证时，后者总是成功。
	    在这个例子中，这个请求导致SERVFAIL，可能是因为所有的
	    名字服务器都宕机或不可达，并在30秒内产生了一个超时。
	    很可能不试图进行DNSSEC验证。
	  </para>
	  <para>
	    最后部份包含在方括号中，显示了这次特定的解析过程中
	    搜集的统计信息。
	    <varname>domain</varname>字段显示解析器所到达的最深
	    的区；
	    它是最终检测到错误的区。
	    其它字段的含义在下表中总结。
	  </para>

          <informaltable colsep="0" rowsep="0">
            <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="4Level-table">
              <colspec colname="1" colnum="1" colsep="0" colwidth="1.150in"/>
              <colspec colname="2" colnum="2" colsep="0" colwidth="3.350in"/>
              <tbody>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>referral</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      在解析过程中解析器所收到的引用个数。
		      在上面的例子中是2，很可能是com和example.com。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>restart</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      解析器试探<varname>domain</varname>区的远程
		      服务器循环次数。
		      在每一个循环，解析器向<varname>domain</varname>
		      区的每个已知的名字服务器发送一个请求（有可能
		      重发，取决于响应）。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>qrysent</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      解析器发送到<varname>domain</varname>区的请求数。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>timeout</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      解析器收到最后响应之后的超时次数。
		    </para>
		  </entry>
		</row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>lame</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      解析器所检测到的<varname>domain</varname>区的
		      跛服务器数目。
		      一个服务器被检测为跛服务器，要么是因为一个
		      不正确的响应，要么是在BIND9的地址数据库（ADB）
		      中的查找结果，这个数据库缓存了跛服务器。
		    </para>
		  </entry>
		</row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>neterr</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      解析器在发送请求到<varname>domain</varname>
		      区时遇到的错误结果数目。
		      一个通常的情形是远程服务器不可达，解析器收到
		      一个ICMP不可达错误消息。
		    </para>
		  </entry>
		</row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>badresp</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      解析器在发送请求到<varname>domain</varname>区
		      时所收到的意料之外的响应
		      （<varname>lame</varname>之外）数目。
		    </para>
		  </entry>
		</row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>adberr</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      在ADB中查找<varname>domain</varname>区的远程
		      服务器地址时的失败次数。
		      一个通常的此类情形是远程服务器的名字没有任何
		      地址记录。
		    </para>
		  </entry>
		</row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>findfail</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      解析远程服务器地址时的失败次数。
		      这是贯穿解析过程的失败总数。
		    </para>
		  </entry>
		</row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><varname>valfail</varname></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      DNSSEC验证失败次数。
		      所计算的验证失败贯穿解析过程（不限于
		      <varname>domain</varname>区），但是应该仅仅
		      是发生在<varname>domain</varname>内的。
		    </para>
		  </entry>
		</row>
              </tbody>
            </tgroup>
          </informaltable>
          <para>
            在3或更高的调试级别时，记录那些与在调试级别1相同的消息，
            但只对其它错误，而不记录SERVFAIL。
            注意，在这里，像NXDOMAIN这样的否定响应并不被当作错误。
          </para>
          <para>
            在4或更高的调试级别时，记录那些与在调试级别2相同的消息，
            但只对其它错误，而不记录SERVFAIL。
            与上面的级别3的情况不同，否定响应的消息要被记录。
            这是因为在递归的情况下，调试任何未预期的结果都可能很难。
          </para>
        </section>
      </section>

      <section xml:id="lwres_grammar"><info><title><command>lwres</command>语句语法</title></info>

        <para>
           这是<filename>named.conf</filename>文件中<command>lwres</command>语
           句的语法：
        </para>

<programlisting><command>lwres {</command>
  [ <command>listen-on {</command>
    ( <replaceable>ip_addr</replaceable> [ <command>port</command> <replaceable>ip_port</replaceable> ] [ <command>dscp</command> <replaceable>ip_dscp</replaceable> ] <command>;</command> )
      ...
    <command>};</command> ]
  [ <command>view</command> <replaceable>view_name</replaceable><command>;</command> ]
  [ <command>search {</command> <replaceable>domain_name</replaceable> <command>;</command> ... <command>};</command> ]
  [ <command>ndots</command> <replaceable>number</replaceable><command>;</command> ]
  [ <command>lwres-tasks</command> <replaceable>number</replaceable><command>;</command> ]
  [ <command>lwres-clients</command> <replaceable>number</replaceable><command>;</command> ]
<command>};</command>
</programlisting>

      </section>

      <section xml:id="masters_grammar"><info><title><command>masters</command>语句语法</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="masters.grammar.xml"/>
      </section>

      <section xml:id="masters_statement"><info><title><command>masters</command>语句定义和用法</title></info>

        <para>
          <command>masters</command>列表让一组共同的主服务器易于被用于多个
          存根区和辅区，通过放入后者的<command>masters</command>或
          <command>also-notify</command>列表中。
        </para>
      </section>

      <section xml:id="options_grammar"><info><title><command>options</command>语句语法</title></info>

      <para>
        这是<filename>named.conf</filename>文件中<command>options</command>语
        句的语法：
      </para>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="options.grammar.xml"/>
      </section>

      <section xml:id="options"><info><title><command>options</command>语句定义和用法</title></info>

        <para>
          <command>options</command>语句设置<acronym>BIND</acronym>所使用的全局
          选项。这个语句只能在一个配置文件中出现一次。如果没有
          <command>options</command>语句，将会使用一个options块，其中包含每个选
          项的缺省值。
        </para>

        <variablelist>

            <varlistentry>
              <term><command>attach-cache</command></term>
              <listitem>
                <para>
		  允许多个视图共享一个缓存数据库。
		  缺省时每个视图拥有自己的缓存数据库，但是如果多个视图
		  在名字解析和缓存上有同样的操作策略，通过使用这个选项
		  这些视图可以共享一个缓存数据库来节约内存，并有可能
		  提高解析效率。
                </para>

                <para>
		  <command>attach-cache</command>选项也可以在
		  <command>view</command>语句中指定，这种情况下，
		  它会覆盖全局的<command>attach-cache</command>选项。
                </para>

		<para>
		  <replaceable>cache_name</replaceable>指定要共享的
		  缓存。当<command>named</command>服务器配置要共享
		  一个缓存的视图时，它使用指定的名字为这些共享视图
		  中的第一个视图建立一个缓存。
		  其余的视图只是简单地引用已经建立的视图。
		</para>

		<para>
		  一个通常的共享一个缓存的配置是允许所有的视图共享
		  一个视图。
		  这个可以通过在全局选项中为
		  <command>attach-cache</command>指定一个任意名字
		  而完成。
		</para>

		<para>
		  另一个可能的操作是允许全部视图中的一个子集共享一个
		  缓存，而其它的视图使用各自的缓存。
		  例如，如果有三个视图A，B和C，并且只有A和B应该共享
		  一个缓存，指定<command>attach-cache</command>选项
		  作为视图A（或B）的选项，使其引用其它的视图名：
		</para>

<programlisting>
  view "A" {
    // this view has its own cache
    ...
  };
  view "B" {
    // this view refers to A's cache
    attach-cache "A";
  };
  view "C" {
    // this view has its own cache
    ...
  };
</programlisting>

		<para>
		  共享同一个缓存的视图必须在可能影响缓存的配置参数上
		  有同样的策略。
		  当前的实现要求在这些视图在下列配置选项上要一致：
		  <command>check-names</command>，
		  <command>cleaning-interval</command>，
		  <command>dnssec-accept-expired</command>，
		  <command>dnssec-validation</command>，
		  <command>max-cache-ttl</command>，
		  <command>max-ncache-ttl</command>，
		  <command>max-stale-size</command>，
		  <command>max-cache-size</command>，
		  <command>min-cache-size</command>，
		  <command>min-ncache-size</command>和
		  <command>zero-no-soa-ttl</command>。
		</para>

		<para>
		  注意有可能其它参数也会带来混乱，如果它们在不同的
		  视图共享一个缓存时不一致的话。
		  例如，如果这些视图定义不同的转发者集合，而这些转发者
		  对同样的问题可能返回不同的回答，共享这些回答可能就
		  没有意义甚至是有害的。
		  确保在不同的视图中的配置差异不会导致对共享缓存的破坏
		  是系统管理员的责任。
		</para>
              </listitem>

            </varlistentry>

          <varlistentry>
            <term><command>directory</command></term>
            <listitem>
              <para>
                服务器的工作目录。所有在配置文件中出现的非绝对路径都将是相对于
                这个目录的。服务器的大多数输出文件（例如：
                <filename>named.run</filename>）都是以此为缺省位置。如果未指定
                目录，工作目录缺省为’<filename>.</filename>’，即服务器开始运
		行的目录。这个目录应该被指定为一个绝对路径，
		并且<emphasis>必须</emphasis>对
		<command>named</command>进程的有效用户ID是可写的。
              </para>
            </listitem>
          </varlistentry>

	  <varlistentry>
	    <term><command>dnstap</command></term>
	    <listitem>
	      <para>
		<command>dnstap</command>是一个捕捉和记录DNS流量的快速、
		灵活的方法。由Farsight Security公司的Robert Edmonds
		所开发，并由多个DNS实现所支持，<command>dnstap</command>
		使用<command>libfstrm</command>（一个轻量级高速框架库，
		参见
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://github.com/farsightsec/fstrm">https://github.com/farsightsec/fstrm</link>）
		发送以协议缓冲（<command>libprotobuf-c</command>，一个
		由Google公司所开发的序列化结构数据的机制；参见
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://developers.google.com/protocol-buffers/">https://developers.google.com/protocol-buffers</link>）
		编码的事件荷载。
	      </para>
	      <para>
                要在编译时开启<command>dnstap</command>，
                <command>fstrm</command>和<command>protobuf-c</command>
                库必须是可用的，并且BIND必须在配置时使用
                <option>--enable-dnstap</option>。
	      </para>
	      <para>
		<command>dnstap</command>选项是一个带括号的、被记录消息
		类型的列表。这些在每个视图中可以被设置为不同的值。支持的
		类型是<literal>client</literal>，
		<literal>auth</literal>，<literal>resolver</literal>，
		<literal>forwarder</literal>和<literal>update</literal>。
		指定类型
		<literal>all</literal>将使所有<command>dnstap</command>
		消息被日志记录，而不考虑其类型。
	      </para>
	      <para>
		每种类型可以接受一个额外的参数来指定是否记录
		<literal>query</literal>消息或
		<literal>response</literal>消息；如果未指定，则请求和响应都
		记录。
	      </para>
	      <para>
		例如：要记录所有的权威请求和响应，递归客户端的响应和解析器
		发出的上游请求，使用：
<programlisting>dnstap {
  auth;
  client response;
  resolver query;
};
</programlisting>
	      </para>
	      <para>
		所记录的<command>dnstap</command>消息可以使用
	        <command>dnstap-read</command>应用程序进行分析
	        （参见<xref linkend="man.dnstap-read"/>获取详细信息）。
	      </para>
	      <para>
		更多关于<command>dnstap</command>的信息，参见
		<link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://dnstap.info">http://dnstap.info</link>。
	      </para>
	      <para>
		fstrm库有许多可调项提供给<filename>named.conf</filename>，
		并且如果需要增进性能或者阻止数据丢失，可以修改它们。可调
		项有：
	      </para>
	      <itemizedlist>
		<listitem>
		  <simpara>
                    <command>fstrm-set-buffer-hint</command>：在强制刷新
		    一个缓冲区之前允许输出缓存中积累的字节数限额。
		    最小值是1024，最大值是65536，缺省值是8192。
		  </simpara>
		</listitem>
		<listitem>
		  <simpara>
		    <command>fstrm-set-flush-timeout</command>：允许待刷新
		    数据停留在输出缓存中的秒数。最小值是1秒，最大值是600秒
		    （10分钟），缺省值是1秒。
		  </simpara>
		</listitem>
		<listitem>
		  <simpara>
		    <command>fstrm-set-output-notify-threshold</command>：
		    在唤醒I/O线程之前允许存在于一个输入队列中的未解决
		    队列条目的数目。
		    最小值是1，缺省值是32.
		  </simpara>
		</listitem>
		<listitem>
		  <simpara>
		    <command>fstrm-set-output-queue-model</command>：
		    控制队列语义以使用队列对象。缺省值是
		    <literal>mpsc</literal>（多个生产者，单个消费者）；
		    另外的选项是<literal>spsc</literal>（单个生产者，
		    单个消费者）。
		  </simpara>
		</listitem>
		<listitem>
		  <simpara>
		    <command>fstrm-set-input-queue-size</command>：
		    为每个输入队列申请的队列条目的数目。这个值必须
		    是2的整数次幂。最小值是2，最大值是16384，
		    缺省值是512。
		  </simpara>
		</listitem>
		<listitem>
		  <simpara>
		    <command>fstrm-set-output-queue-size</command>：
		    为每个输出队列申请的队列条目的数目。最小值是2，
		    最大值依赖于系统并基于<option>IOV_MAX</option>，
		    缺省值是64。
		  </simpara>
		</listitem>
		<listitem>
		  <simpara>
		    <command>fstrm-set-reopen-interval</command>：
		    在重新打开一个已关闭输出流之间需要等待的秒数。
		    最小值是1秒，最大值是600秒（10分钟），缺省值
		    是5秒。
		    为方便起见，可以为这个值指定TTL风格的时间单位
		    后缀。
		  </simpara>
		</listitem>
	      </itemizedlist>
	      <para>
		注意以上所有最小值、最大值和缺省值都由
		<command>libfstrm</command>库设置，并且可能服从这个库
		未来版本的变化。参见<command>libfstrm</command>文档以
		获得更多信息。
	      </para>
	    </listitem>
	  </varlistentry>

          <varlistentry>
            <term><command>dnstap-output</command></term>
            <listitem>
              <para>
                如果<command>dnstap</command>在编译时开启并被激活，配置
                <command>dnstap</command>frame流的发送路径。
              </para>
              <para>
                第一个参数要么是<literal>file</literal>，要么是
	        <literal>unix</literal>，指明目标是一个文件或UNIX域
                套接字。第二个参数是一个文件或者一个UNIX域套接字。
                （注意：当使用一个套接字时，<command>dnstap</command>
                消息仅在另一个进程，例如<command>fstrm_capture</command>
	        （由<command>libfstrm</command>提供），监听了这个套接字时
	        才发送。）
              </para>
	      <para>
		如果第一个参数是<literal>file</literal>，就可以最大
		添加三个附加选项：
		<command>size</command>指示一个
		<command>dnstap</command>日志文件在轮转到一个新文件之前
		可以增长到的最大大小；
		<command>versions</command>指定要保持的已经轮转的日志文件
                的数量；而<command>suffix</command>指示是以一个增长的
                计数器（<literal>increment</literal>）还是以当前时间戳（
		<literal>timestamp</literal>）
                作为已经轮转的日志文件的后缀。
                这些类似于在一个
		<command>logging</command>通道中的
		<command>size</command>，
		<command>versions</command>和<command>suffix</command>
                选项。
		缺省是允许<command>dnstap</command>日志文件增长到任何
		大小而没有轮转。
	      </para>
              <para>
                <command>dnstap-output</command>只能在
                <command>options</command>中全局设置。当前，它只能在
                <command>named</command>运行时设置一次；一旦设置，不能通过
                <command>rndc reload</command>或
                <command>rndc reconfig</command>修改。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>dnstap-identity</command></term>
            <listitem>
              <para>
                指定一个要在<command>dnstap</command>消息中发送的
                <command>identity</command>字符串。
                如果设置为<literal>hostname</literal>，这是缺省的，将发送
                服务器主机名。如果设置为<literal>none</literal>，
                不发送标识字符串。
              </para>
            </listitem>
          </varlistentry>
 
          <varlistentry>
            <term><command>dnstap-version</command></term>
            <listitem>
              <para>
                指定一个要在<command>dnstap</command>消息中发送的
                 <command>version</command>字符串。缺省是BIND的版本号。
                如果设置为<literal>none</literal>， 不发送版本字符串。
              </para>
            </listitem>
          </varlistentry>

	  <varlistentry>
	    <term><command>geoip-directory</command></term>
	    <listitem>
	      <para>
                当 <command>named</command> 编译时带有 MaxMind GeoIP2
                地理位置 API 或遗留 GeoIP API 时，这指定包含 GeoIP
                数据库文件的目录。
                缺省时，这个选项是基于编译 <command>libmaxminddb</command>
                模块时用到的前缀：例如，如果库时安装在
		<filename>/usr/local/lib</filename>，则缺省的
		<command>geoip-directory</command>将会是
		<filename>/usr/local/share/GeoIP</filename>。
                在 Windows 上，缺省为 <command>named</command> 工作目录。
                参见 <xref linkend="acl"/> 以获取关于
                <command>geoip</command> ACL 更详细的内容。
	      </para>
	    </listitem>
	  </varlistentry>

          <varlistentry>
            <term><command>key-directory</command></term>
            <listitem>
              <para>
                当进行安全区的动态更新时，应该从这个目录能够找到DNSSEC公钥和
                私钥文件，它与当前工作目录不同。
                （注意这个选项对如同<filename>bind.keys</filename>，
                <filename>rndc.key</filename>或
                <filename>session.key</filename>这样包含非DNSSEC密钥的
                文件的路径时无效。）
              </para>
            </listitem>
          </varlistentry>

	  <varlistentry>
	    <term><command>lmdb-mapsize</command></term>
	    <listitem>
	      <para>
		当<command>named</command>构建时带有liblmdb，这个选项
		为映射new-zone数据库（NZD），以LMDB数据库格式，设置
		最大的内存大小。
		这个数据库用于存储使用<command>rndc addzone</command>
		添加的区的配置信息。
		注意这不是NZD数据库文件的大小，而是数据库可能增长到的
		最大大小。
	      </para>
	      <para>
		由于数据库文件是内存映射，它的大小被named进程的地址空间
		所限制。缺省值选择32兆字节适合用于32位的
		<command>named</command>构建。最大允许的值是1太字节。
		假设没有复杂ACL的典型区配置，一个32MB的NZD文件应该能够
		容纳大约100,000个区的配置。
	      </para>
	    </listitem>
	  </varlistentry>

          <varlistentry>
            <term><command>managed-keys-directory</command></term>
            <listitem>
              <para>
              指定目录，其中保存着跟踪被管理DNSSEC密钥的文件。
              缺省时，它就是工作目录。
	      这个目录对<command>named</command>进程的有效用户ID
	      <emphasis>必须</emphasis>是可写的。
              </para>
              <para>
	      如果<command>named</command>被配置为没有使用视图，服务器的被管理
              密钥会保存在一个名为<filename>managed-keys.bind</filename>的文件
              中。否则，受管理密钥在不同的文件中被跟踪，每个视图一个文件；每个
              文件名都是视图名SHA256 HASH的值，再加上
              后缀<filename>.mkeys</filename>。
              </para>
	      <para>
		（注意：在先前的版本中，视图对应的文件名总是使用视图名的SHA256
		hash。
		为确保以后升级的兼容性，如果发现存在一个使用旧名字格式的文件，
		将使用而不是新格式。）
	      </para>
            </listitem>
          </varlistentry>

	  <varlistentry>
	    <term><command>new-zones-directory</command></term>
	    <listitem>
	      <para>
		指定存放通过<command>rndc addzone</command>增加的区的
                配置参数的存放目录。
                缺省时，这就是工作目录。如果设置为一个相对路径，
                它将是相对于工作目录。
                这个目录<emphasis>必须</emphasis>是
		<command>named</command>进程的有效用户ID可写的。
	      </para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><command>qname-minimization</command></term>
	    <listitem>
	      <para>
		这个选项控制 BIND 解析器中 QNAME 最小化行为。
		当设置为<command>strict</command>时，
		BIND 将严格遵循 QNAME 最小化算法，如同 RFC 7816
		所描述。
                将这个选项设置为<command>relaxed</command>将使
                BIND 回退到普通（非最小化）请求模式，这是它的最小化
                请求将收到 NXDOMAIN 或其它不可预期的响应（如，
                SERVFAIL，不正确的区截断，REFUSED）。
		<command>disabled</command>完全关闭 QNAME 最小化。
                当前缺省是<command>relaxed</command>，但是在未来的
		版本中可能被改为<command>strict</command>。
	      </para>
	    </listitem>
	  </varlistentry>

          <varlistentry>
            <term><command>tkey-gssapi-keytab</command></term>
            <listitem>
              <para>
                用于GSS-TSIG更新的KRB5 keytab文件。如果设置了这个选项并且没有
                设置tkey-gssapi-credential，将允许使用与指定keytab中的一个
                principal相匹配的任何密钥进行更新。
              </para>
            </listitem>
          </varlistentry>

	  <varlistentry>
            <term><command>tkey-gssapi-credential</command></term>
            <listitem>
              <para>
		安全证书，服务器应该用它来认证GSS-TSIG协议所请求的密钥。
		当前只能使用Kerberos 5认证，并且证书是一个Kerberos主，
		服务器可以通过缺省的系统密钥文件，一般是
		<filename>/etc/krb5.keytab</filename>，来获取它。
                keytab文件的位置可以使用tkey-gssapi-keytab选项来重载。
		通常这个主是这样的形式
                "<userinput>DNS/</userinput><varname>server.domain</varname>"。
		要使用GSS-TSIG，如果没有使用tkey-gssapi-keytab设置一个特定的
                keytab，就必须设置<command>tkey-domain</command>。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>tkey-domain</command></term>
            <listitem>
              <para>
                添加到由<command>TKEY</command>生成的所有共享密钥名的域名。当一
                个客户端请求进行<command>TKEY</command>交换时，它可以指定所期望
                的密钥的名字，也可以不指定。如果指定，共享密钥的名字是
                <varname>client specified part</varname> + 
                <varname>tkey-domain</varname>。否则，共享密钥的名字是
                <varname>random hex digits</varname> + 
                <varname>tkey-domain</varname>。在大多数情况下，
                <command>domainname</command>应该是服务器的域名，
	        或者是一个不存在的子域，如
	        "_tkey.<varname>domainname</varname>"。如果你使用了GSS-TSIG，
	        必须定义这个变量，除非你使用tkey-gssapi-keytab指定了一个特定的
                keytab。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>tkey-dhkey</command></term>
            <listitem>
              <para>
                服务器所使用的Diffie-Hellman密钥，它用来生成与客户端共享的
                密钥，使用<command>TKEY</command>的Diffie-Hellman模式。
                服务器必须能够从工作目录的文件中加载公钥和私钥。在大多数
		情况下，<varname>key_name</varname>应该是服务器的主机名。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>cache-file</command></term>
            <listitem>
              <para>
		这个仅用于测试。不要使用。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>dump-file</command></term>
            <listitem>
              <para>
                指定服务器在收到<command>rndc dumpdb</command>命令时，转储数据
                到文件的路径。如果未指定，缺省为
                <filename>named_dump.db</filename>。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>memstatistics-file</command></term>
            <listitem>
              <para>
                服务器在退出时，将内存统计写到的文件路径。如果没有指定，
		缺省是<filename>named.memstats</filename>。
              </para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><command>lock-file</command></term>
	    <listitem>
	      <para>
		<command>named</command>首次启动时试图在其中获取一个文件锁的
		一个文件的路径名；如果不成功，服务器将会终止，这是假设另一个
		服务器已经正在运行中。
		如果未指定，缺省是
		<filename>/var/run/named/named.lock</filename>。
	      </para>
	      <para>
		指定<command>lock-file none</command>关闭使用一个锁文件。
	        如果<command>named</command>使用<option>-X</option>选项
		运行，<command>lock-file</command>将被忽略，它被这个选项
		所覆盖。
		如果<command>named</command>被重新加载或者重新配置，对
		<command>lock-file</command>的修改将被忽略；它仅在服务器
		初次启动时有效。
	      </para>
	    </listitem>
	  </varlistentry>

          <varlistentry>
            <term><command>pid-file</command></term>
            <listitem>
              <para>
                服务器将其进程号写入的文件。如果未指定，缺省为
                <filename>/var/run/named/named.pid</filename>。PID文件是
		用于要向正在运行的名字服务器发送信号的程序。指定
                <command>pid-file none</command>关闭使用一个
		PID文件 — 不写文件，如果已经有一个，将被删除。
		注意<command>none</command>是一个关键字，不是一个文件名，
		所以不使用双引号将其包含。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>recursing-file</command></term>
            <listitem>
              <para>
                指定服务器在通过<command>rndc recursing</command>命令指定转储当
                前递归请求到文件的路径。如果未指定，缺省为
                <filename>named.recursing</filename>文件。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>statistics-file</command></term>
            <listitem>
              <para>
                指定服务器在收到<command>rndc stats</command>命令时，追加统计数
                据的文件路径。如果未指定，缺省为服务器当前目录下的
                <filename>named.stats</filename>文件。这个文件的格式由
                <xref linkend="statsfile"/>描述。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>bindkeys-file</command></term>
            <listitem>
              <para>
		用于覆盖由<command>named</command>所提供的内置信任密钥的
		文件的路径名。
		更详细的内容参见对
                <command>dnssec-validation</command>的讨论。
		如果未指定，缺省是<filename>/etc/bind.keys</filename>。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>secroots-file</command></term>
            <listitem>
              <para>
                在收到<command>rndc secroots</command>指令后，
                服务器转储安全根的目的文件的路径名。
                如果未指定，缺省为<filename>named.secroots</filename>。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>session-keyfile</command></term>
            <listitem>
              <para>
                存放一个TSIG会话密钥的文件的路径名，这个密钥是由
                <command>named</command>所生成，用于
                <command>nsupdate -l</command>。
                如果未指定，缺省是
                <filename>/var/run/named/session.key</filename>。
                （参见<xref linkend="dynamic_update_policies"/>，
                特别的，对<command>update-policy</command>语句的
                <userinput>local</userinput>选项的讨论有关于这个
                特征的更多信息。）
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>session-keyname</command></term>
            <listitem>
              <para>
                用于TSIG会话密钥的密钥名。如果未指定，缺省是
                “local-ddns”。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>session-keyalg</command></term>
            <listitem>
              <para>
                用于TSIG会话密钥的算法。有效值为hmac-sha1，
                hmac-sha224，hmac-sha256，hmac-sha384，hmac-sha512
                和hmac-md5。如果未指定，缺省为hmac-sha256。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>port</command></term>
            <listitem>
              <para>
                服务器用于接收和发送DNS协议流量的UDP/TCP端口。缺省是53。这个选
                项的主要目的是服务器测试；一个使用53端口之外的服务器将无法与全
                球的DNS进行通信。
              </para>
            </listitem>
          </varlistentry>

	  <varlistentry>
	    <term><command>dscp</command></term>
	    <listitem>
	      <para>
                全局的差分服务代码点
                （DSCP，Differentiated Services Code Point）值，用于在支持DSCP
                的操作系统上分类发出的DNS流量。有效的值为从0到63。缺省未配置。
	      </para>
	    </listitem>
	  </varlistentry>

          <varlistentry>
            <term><command>random-device</command></term>
            <listitem>
              <para>
                指定一个服务器使用的熵源。
                这是一个从中读取熵的设备或文件。
                如果它是一个文件，在文件被耗尽时，请求熵的操作将会失败。
	      </para>
              <para>
                熵的需求是加密操作，例如TKEY事务和签名区的动态更新。
                它也用于伪随机数生成器的生成种子和扰动，伪随机数生成器
                用于更不太关键的要求随机性的函数，如DNS消息事务ID的生成。
	      </para>
              <para>
                如果未指定<command>random-device</command>，或者它被
                设置为<literal>none</literal>，将会从BIND链接到的加密库
                （即，OpenSSL或者一个PKCS#11提供者）
                所提供的随机数生成函数中读取熵。
	      </para>
              <para>
                <command>random-device</command>选项在
                服务器启动时的初始配置装载时生效，而在随后的重载将会忽略它。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>preferred-glue</command></term>
            <listitem>
              <para>
                如果指定，在一个请求响应的附加部份内的其它粘着记录之前，所列的
                类型（A或AAAA）将被写入。缺省是优先为A记录，如果在响应经由IPv4
                到达的请求时，以及优先为AAAA记录，如果在响应经由IPv6到达的请求时。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry xml:id="root_delegation_only">
            <term><command>root-delegation-only</command></term>
            <listitem>
              <para>
                使用一个可选的排除列表，在TLD（顶级域）和根区中打开只授权模式的
                增强特性。
              </para>
              <para>
		只授权区期待接受和回复DS请求。这样的请求和响应被当成只授权处理
		的一个例外，并且如果请求的名字没有找到一个CNAME记录时不能转换
		为NXDOMAIN响应。
              </para>
              <para>
		如果一个只授权区的服务器同时也作为一个子区的服务器，就不可能
		都能够判断一个应答是来自于只授权区还是子区。
		SOA记录、NS记录和DNSKEY记录是区顶点仅有的记录，并且包含这些
		记录或者DS记录的一个匹配的响应被当作是来自于一个子区。
		同时也检查RRSIG记录看其是否被一个子区签名。
		还要检查权威部份看是否有应答来自子区的迹象。
		被确认为来自一个子区的应答不会被转换为NXDOMAIN响应。
		尽管有所有这些检查，在同时提供一个子区服务时，
		仍然存在错误否定响应的可能性。
              </para>
              <para>
		与之类似的错误肯定响应也可能产生于只授权区中的空节点
		（名字中没有记录）且请求类型不是ANY时。
              </para>
              <para>
                注意一些TLD不是只授权的（如：“DE”，“LV”，“US”和
                “MUSEUM”）。这个列表并不完整。
              </para>

<programlisting>
options {
	root-delegation-only exclude { "de"; "lv"; "us"; "museum"; };
};
</programlisting>

            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>disable-algorithms</command></term>
            <listitem>
              <para>
                关掉在指定名下的指定DNSSEC算法。允许使用多个
                <command>disable-algorithms</command>语句。
		只有最与<command>disable-algorithms</command>匹配的子句将被用于
                决定使用哪个算法。
	      </para>
	      <para>
		如果所有支持的算法都被关闭，由
                <command>disable-algorithms</command>所覆盖的区将被视为
                不安全的。
	      </para>
	      <para>
               在 <command>trusted-keys</command> 或
               <command>managed-keys</command> 中配置的信任锚如果匹配到
               被关闭的算法，将会被忽略，就如同他们完全未被配置一样。
	      </para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><command>disable-ds-digests</command></term>
	    <listitem>
	      <para>
		在指定的名字及之下的名字关闭指定的DS/DLV摘要类型。
                允许使用多个<command>disable-ds-digests</command>语句。
		只有最与<command>disable-ds-digests</command>匹配的子句将被用于
                决定使用哪个摘要类型。
	      </para>
	      <para>
		如果所有支持的摘要类型都被关闭，由
                <command>disable-ds-digests</command>所覆盖的区将被视为
                不安全的。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>dnssec-lookaside</command></term>
            <listitem>
              <para>
                当其被设置后，<command>dnssec-lookaside</command>提供一个
                校验器，后者带有一个可选的方法来校验一个区的顶端的DNSKEY记录。
                当一个DNSKEY位于一个由最深的<command>dnssec-lookaside</command>
                所指定的域中或之下，并且普通的DNSSEC校验留下了不可信的密钥，
                则信任锚点将会被添加到密钥名字之后，同时一个DLV记录将会被查找
                以检查其是否可以校验这个密钥。如果DLV记录校验了一个DNSKEY（与
                一个DS记录所做的方式相似），DNSKEY资源记录被视作可信任的。
              </para>
	      <para>
                如果<command>dnssec-lookaside</command>被设置为
                <userinput>no</userinput>，就不使用dnssec-lookaside。
	      </para>
              <para>
                注意：ISC在<literal>dlv.isc.org</literal>提供的DLV
		已经关闭。
		以最小配置设置<command>named</command>使用ISC DLV的
		<command>dnssec-lookaside auto;</command>配置选项，
		也相应地被删除了。
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term><command>dnssec-must-be-secure</command></term>
            <listitem>
              <para>
                指定肯定或者可能不安全（被签名和校验）的层次体系。如果是
                <userinput>yes</userinput>，<command>named</command>将仅仅接受
		安全的回答。如果为<userinput>no</userinput>，允许不安全回答的
		普通的DNSSEC校验申请将会被接受。指定的域必须在一个
		<command>trusted-key</command>或
		<command>managed-keys</command>语句之
                下，或者<command>dnssec-validation auto</command>必须被激活。
              </para>
            </listitem>
          </varlistentry>

	  <varlistentry>
	    <term><command>dns64</command></term>
            <listitem>
	      <para>
		这条指令指示<command>named</command>在没有找到AAAA记录时，返回
                由IPv4地址所映射到的AAAA查询。其意图是用于和NAT64相配合。每个
                <command>dns64</command>定义一个DNS64前缀。
                可以定义多个DNS64前缀。
	      </para>
	      <para>
		按照RFC 6052，兼容的IPv6前缀可以有32，40，48，56，64和96这些
                长度。其中的位 64..71 必须为 0，且带有位置 0 的前缀最高位。 
	      </para>
	      <para>
		使用合成的CNAME为前缀创建一个附加的反向IP6.ARPA区，提供
                一个从IP6.ARPA名字到对应的IN-ADDR.ARPA名字的映射。
		CNAMEs.  
                <command>dns64-server</command>和
		<command>dns64-contact</command>可以用于指定服务器的名字和区的
                联系人。这些也可以在view/options级中设置。这些不能在每个前缀的
                基础上设置。
	      </para>
	      <para>
		每个<command>dns64</command>支持一个可选的
		<command>clients</command>访问控制表，它决定哪些客户端受这条
                指令的影响。如果未设置，缺省值为<userinput>any;</userinput>。
	      </para>
	      <para>
		每个<command>dns64</command>支持一个可选的
		<command>mapped</command>访问控制表，它在相关的A资源记录集中
                选择哪些IPv4地址会被映射。如果未设置，缺省值为
                <userinput>any;</userinput>。
	      </para>
	      <para>
		通常地，DNS64不会应用于一个拥有一个或多个AAAA记录的域名；只是简单
                地返回这些记录。可选的<command>exclude</command>访问控制表允许
                规定一个IPv6地址的列表，如果它们出现在一个域名的AAAA记录中，将
                被忽略，并且DNS64将被用于这个域名所拥有的任何A记录。
		如果未定义，<command>exclude</command>缺省为::ffff:0.0.0.0/96。
	      </para>
	      <para>
		也可以定义一个可选的<command>suffix</command>，用来设置映射到
                IPv4地址位的结尾部分。
                缺省时这些位被设置为<userinput>::</userinput>。这些位匹配的前缀
                和映射的IPv4地址必须为零。
	      </para>
	      <para>
		如果<command>recursive-only</command>被设置为
		<command>yes</command>，DNS64合成仅仅发生在递归请求。缺省是
		<command>no</command>.
	      </para>
	      <para>
		如果<command>break-dnssec</command>被设置为
                <command>yes</command>，将会进行DNS64合成，即使结果在验证时会
                导致一个DNSSEC验证失败。如果这个选项被设置为
                <command>no</command>（缺省值），进来的请求中带有DO位，在可用
                的记录中有RRSIG，这时不会进行DNS64合成。
	      </para>
<programlisting>
	acl rfc1918 { 10/8; 192.168/16; 172.16/12; };

        dns64 64:FF9B::/96 {
                clients { any; };
                mapped { !rfc1918; any; };
                exclude { 64:FF9B::/96; ::ffff:0000:0000/96; };
                suffix ::;
        };
</programlisting>
            </listitem>
	  </varlistentry>

          <varlistentry>
            <term><command>dnssec-loadkeys-interval</command></term>
            <listitem>
                <para>
                  当一个区配置了<command>auto-dnssec maintain;</command>，
                  它的密钥仓库必须定期检查，以查看是否有密钥被添加或者
                  任何现有的密钥的时间元数据被修改（参见
                  <xref linkend="man.dnssec-keygen"/>和
                  <xref linkend="man.dnssec-settime"/>）。
                  <command>dnssec-loadkeys-interval</command>选项仓库自动
                  检查的频率，以分钟计。缺省是<literal>60</literal>（1小时），
                  最小是<literal>1</literal>（1分钟），最大是
                  <literal>1440</literal>（24小时）；任何更大的值将被静默地
                  减小。
                </para>
            </listitem>
          </varlistentry>

	  <varlistentry>
	    <term><command>dnssec-update-mode</command></term>
	    <listitem>
	        <para>
                  如果在一个<literal>master</literal>类型的区中这个选项被
                  设为其缺省值<literal>maintain</literal>，而这个区是DNSSEC
                  签名的并被配置为允许动态更新（参见
                  <xref linkend="dynamic_update_policies"/>），并且如果
                  <command>named</command>能够访问区的私有签名密钥，
                  <command>named</command>就会自动对所有新的或修改过的记录
                  签名并通过重新生成RRSIG记录维护区的签名，无论其是否过期。
		</para>
		<para>
                  如果这个选项被改为<literal>no-resign</literal>，
                  <command>named</command>将只对所有新的或修改过的记录签名，
                  但不安排对签名的维护。
                </para>
                <para>
                  对这两个设置中的任何一种，<command>named</command>，如果签名
                  密钥是未激活或者对<command>named</command>不可用，
                  <command>named</command>都会拒绝对一个DNSSEC签名区的更新。
                  （一个计划的第三个选项，<literal>external</literal>，将会
                  关闭所有自动签名并允许将DNSSEC数据提交给一个通过动态更新的
                  区；这个还未实现。）
		</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><command>nta-lifetime</command></term>
	    <listitem>
		<para>
		  指定以秒计的缺省生命周期，将用于由
		  <command>rndc nta</command>所添加的否定信任锚。
		</para>
		<para>
		  一个否定信任锚选择性关闭对已知将会因为错误配置而非
		  攻击导致验证失败的区的DNSSEC验证。
		  当将要被验证的数据处于一个活跃的NTA（及其之上任何
		  其它已配置的信任锚）或之下，
		  <command>named</command>将终止DNSSEC验证过程并将
		  数据作为非安全的（insecure）而不是伪造的（bogus）。
		  这会持续直到NTA的生命周期结束。
		  NTA的持久化会跨越<command>named</command>的重启。
		</para>
		<para>
		  为方便起见，TTL风格的时间单位后缀可以用于指定以秒，
		  分钟或小时为单位的NTA生命周期。
		  <option>nta-lifetime</option>缺省是一小时。
		  它不能超过一周。
		</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><command>nta-recheck</command></term>
	    <listitem>
		<para>
		  指定检查由<command>rndc nta</command>所添加的否定信任
		  锚是否仍然需要的频繁程度。
		</para>
		<para>
		  一个否定信任锚通常用在一个域由于操作错误而停止验证；
		  它暂时关闭对这个域的DNSSEC验证。
		  为了确保DNSSEC验证尽快恢复，
		  <command>named</command>将周期性发送一个请求到这个域，
		  忽略否定信任锚，以发现其是否可以被验证。
		  如果可以，允许否定信任锚提前过期。
		</para>
		<para>
		  对某个NTA的正确性检查可以通过使用
		  <command>rndc nta -f</command>关闭，或者将
		  <option>nta-recheck</option>设置为零关闭所有NTA。
		</para>
		<para>
		  为方便起见，TTL风格的时间单位后缀可以用于指定以秒，
		  分钟或小时为单位的NTA重检查间隔。
		  缺省是五分钟。
		  它不能超过<option>nta-lifetime</option>（后者不能
		  超过一周）。
		</para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><command>max-zone-ttl</command></term>
	    <listitem>
	      <para>
                指定一个最大可能的以秒计的TTL值。
		为方便起见，TTL风格的时间单位后缀可以用于指定最大值。
                在使用一个<option>masterfile-format</option>为
                <constant>text</constant>或者<constant>raw</constant>装载一个
                区文件时，任何带有超过<option>max-zone-ttl</option>的TTL值的
                记录都将导致区被拒绝。
	      </para>
	      <para>
		这在DNSSEC签名区中很有用，因为在轮转到一个新DNSKEY时，旧密钥
                需要保持可用，直到RRSIG记录从缓存中过期。
                <option>max-zone-ttl</option>选项保证区中的最大TTL不会比所
                设置的值更大。
	      </para>
	      <para>
		（注意：因为<constant>map</constant>格式的文件直接装载到
                内存中，这个选项不适应它。）
	      </para>
              <para>
                缺省值是<constant>unlimited</constant>。
                一个为0的<option>max-zone-ttl</option>被当成
                <constant>unlimited</constant>看待。
              </para>
	    </listitem>
	  </varlistentry>

	  <varlistentry>
	    <term><command>stale-answer-ttl</command></term>
	    <listitem>
	      <para>
		为旧答复指定TTL。缺省是1秒。最小的允许值也是1秒；
		一个为0的值将被静默地更改为1秒。
	      </para>
	      <para>
		对要返回的旧答复，它们必须打开，要么在配置文件中使用
		<command>stale-answer-enable</command>或者通过
		<command>rndc serve-stale on</command>。
	      </para>
	    </listitem>
	  </varlistentry>

          <varlistentry>
            <term><command>serial-update-method</command></term>
            <listitem>
              <para>
                被配置为动态DNS的区可以使用这个选项设置用于更新SOA记录中区
                序列号的更新方法。
              </para>
              <para>
                使用缺省的设置
                <command>serial-update-method increment;</command>，
                SOA序列号将会在每次区被更新时加一。
              </para>
              <para>
                当设置为
                <command>serial-update-method unixtime;</command>时，
                SOA序列号将被设置为UNIX纪元以来的秒数，除非序列号已经大于
                或等于那个值，这时它只是简单的加一。
              </para>
	      <para>
                当设置为
		<command>serial-update-method date;</command>时，
		新的SOA序列号将是“YYYYMMDD”格式的当前日期，后跟
		两个零，除非已存在的序列号已经大于或等于那个值，
		这时它只是加一。
	      </para>
                </listitem>
              </varlistentry>

          <varlistentry>
            <term><command>zone-statistics</command></term>
            <listitem>
              <para>
                如果为<userinput>full</userinput>，服务器搜集所有区的统计数据
                （除非在每个区的配置中被关掉，这可以通过在
                <command>zone</command>语句中指定
                <command>zone-statistics terse</command>或
                <command>zone-statistics none</command>来实现）。
                例如，这些包含 DNSSEC 签名操作和针对每种请求类型的权威回答的
                数目。
                缺省是<userinput>terse</userinput>，提供对区的最小统计（包括
                名字和当前序列号，但不含请求类型计数器）。
              </para>
              <para>
                这些统计可以通过<command>statistics-channel</command>访问到，
                或使用<command>rndc stats</command>来访问，
                后者将把数据存放在<command>statistics-file</command>所指定的
                文件中。参见<xref linkend="statsfile"/>。
              </para>
              <para>
                为向后兼容早期的BIND 9版本，<command>zone-statistics</command>
                选项也可接受<userinput>yes</userinput>或
                <userinput>no</userinput>；<userinput>yes</userinput>与
                <userinput>full</userinput>有同样的含义。
                对于<acronym>BIND</acronym> 9.10，<userinput>no</userinput>与
                <userinput>none</userinput>有同样的含义；之前的版本，它与
                <userinput>terse</userinput>相同。
              </para>
            </listitem>
          </varlistentry>
        </variablelist>

        <section xml:id="boolean_options"><info><title>布尔选项</title></info>

          <variablelist>

	    <varlistentry>
	      <term><command>automatic-interface-scan</command></term>
	      <listitem>
		<para>
		  如果为<userinput>yes</userinput>且操作系统支持，在接口地址
                  被添加或删除时自动扫描网络接口。缺省是
		  <userinput>yes</userinput>。
		</para>
		<para>
		  当前要支持<command>automatic-interface-scan</command>，
                  操作系统需要支持路由套接字（routing sockets）。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>allow-new-zones</command></term>
              <listitem>
                <para>
                  如果为<userinput>yes</userinput>，就可以在运行时通过
		  <command>rndc addzone</command>添加区。
		  缺省为<userinput>no</userinput>。
                </para>
		<para>
		  新添加区的配置参数被存储，这样在服务器重启后
		  也可以持久化。配置信息保存在一个名为
		  <filename><replaceable>viewname</replaceable>.nzf</filename>
		  （或者，如果<command>named</command>是带liblmdb
		  编译，在一个名为
		  <filename><replaceable>viewname</replaceable>.nzd</filename>
		  的LMDB数据库文件中）。
		  <replaceable>viewname</replaceable>是视图的名字，除非
		  视图名包含不能用于文件名中的字符，这种情况下使用一个
		  视图名的加密hash作为替代。
		</para>
		<para>
		  运行时添加的区，其配置要么存储在一个new-zone文件（NZF）
		  要么存储在一个new-zone数据库（NZD）中，取决于
		  <command>named</command>在编译时是否链接了liblmdb。
		  参见<xref linkend="man.rndc"/>以获取关于
		  <command>rndc addzone</command>的更多细节。
		</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>auth-nxdomain</command></term>
              <listitem>
                <para>
                  如果为<userinput>yes</userinput>，总是在NXDOMAIN响应中设置
                  <command>AA</command>位，即使服务器并非实际的权威服务器。缺省
                  为<userinput>no</userinput>。
                  如果你使用非常旧的DNS软件，你可能需要将其设为
                  <userinput>yes</userinput>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>deallocate-on-exit</command></term>
              <listitem>
                <para>
                  这个选项是用于<acronym>BIND</acronym> 8中，以打开对退出时的
		  内存泄漏检查。<acronym>BIND</acronym> 9忽略这个选项并总是
		  进行检查。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>memstatistics</command></term>
              <listitem>
                <para>
		  在退出时写内存统计到<command>memstatistics-file</command>
		  所指定的文件。
		  缺省是<userinput>no</userinput>，除非在命令行指定
		  '-m record'，在这种情况下，它是<userinput>yes</userinput>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>dialup</command></term>
              <listitem>
                <para>
                  如果为<userinput>yes</userinput>，服务器将所有区当成通过即时
                  拨号线路进行区传送，拨号连接是由此服务器的流量所引发。根据区
                  类型的不同，这种方式有不同的效果，并且缩短了区维护，以使所有
                  动作发生在一个短的周期之内，每一个
                  <command>heartbeat-interval</command>进行一次，并希望在一次连
                  接中完成。它也抑制了一些通常的区维护流量。缺省为
                  <userinput>no</userinput>。
                </para>
                <para>
                  <command>dialup</command>选项也可在<command>view</command>和
                  <command>zone</command>语句中指定，在此情况它将覆盖全局
                  <command>dialup</command>选项。
                </para>
                <para>
                  如果区是一个主区，服务器将会向其所有辅发出一个NOTIFY请求（缺
                  省的）。这将会触发辅服务器（假设其支持NOTIFY）检查区的
                  序列号，允许辅服务器在连接有效时对区进行验证。NOTIFY所发向的
                  服务器可以通过<command>notify</command>和
                  <command>also-notify</command>来进行控制。
                </para>
                <para>
                  如果区是辅区或存根区，服务器将会超越普通的“区更新”
                  （refresh）请求，而只会在
                  <command>heartbeat-interval</command>过期时执行，
                  附带发送NOTIFY请求。
                </para>
                <para>
                  可以通过使用<userinput>notify</userinput>仅仅发送NOTIFY消息，
                  使用<userinput>notify-passive</userinput>发送NOTIFY消息并禁止
                  普通刷新请求，使用<userinput>refresh</userinput>禁止普通刷新
                  处理并在<command>heartbeat-interval</command>过期时发送刷新请
                  求，以及使用<userinput>passive</userinput>禁止普通刷新处理来
                  进行细粒度控制。
                </para>

                <informaltable colsep="0" rowsep="0">
                  <tgroup cols="4" colsep="0" rowsep="0" tgroupstyle="4Level-table">
                    <colspec colname="1" colnum="1" colsep="0" colwidth="1.150in"/>
                    <colspec colname="2" colnum="2" colsep="0" colwidth="1.150in"/>
                    <colspec colname="3" colnum="3" colsep="0" colwidth="1.150in"/>
                    <colspec colname="4" colnum="4" colsep="0" colwidth="1.150in"/>
                    <tbody>
                      <row rowsep="0">
                        <entry colname="1">
                          <para>
                            dialup模式
                          </para>
                        </entry>
                        <entry colname="2">
                          <para>
                            普通刷新
                          </para>
                        </entry>
                        <entry colname="3">
                          <para>
                            心跳刷新
                          </para>
                        </entry>
                        <entry colname="4">
                          <para>
                            心跳通知
                          </para>
                        </entry>
                      </row>
                      <row rowsep="0">
                        <entry colname="1">
                          <para><command>no</command>（缺省）</para>
                        </entry>
                        <entry colname="2">
                          <para>
                            yes
                          </para>
                        </entry>
                        <entry colname="3">
                          <para>
                            no
                          </para>
                        </entry>
                        <entry colname="4">
                          <para>
                            no
                          </para>
                        </entry>
                      </row>
                      <row rowsep="0">
                        <entry colname="1">
                          <para><command>yes</command></para>
                        </entry>
                        <entry colname="2">
                          <para>
                            no
                          </para>
                        </entry>
                        <entry colname="3">
                          <para>
                            yes
                          </para>
                        </entry>
                        <entry colname="4">
                          <para>
                            yes
                          </para>
                        </entry>
                      </row>
                      <row rowsep="0">
                        <entry colname="1">
                          <para><command>notify</command></para>
                        </entry>
                        <entry colname="2">
                          <para>
                            yes
                          </para>
                        </entry>
                        <entry colname="3">
                          <para>
                            no
                          </para>
                        </entry>
                        <entry colname="4">
                          <para>
                            yes
                          </para>
                        </entry>
                      </row>
                      <row rowsep="0">
                        <entry colname="1">
                          <para><command>refresh</command></para>
                        </entry>
                        <entry colname="2">
                          <para>
                            no
                          </para>
                        </entry>
                        <entry colname="3">
                          <para>
                            yes
                          </para>
                        </entry>
                        <entry colname="4">
                          <para>
                            no
                          </para>
                        </entry>
                      </row>
                      <row rowsep="0">
                        <entry colname="1">
                          <para><command>passive</command></para>
                        </entry>
                        <entry colname="2">
                          <para>
                            no
                          </para>
                        </entry>
                        <entry colname="3">
                          <para>
                            no
                          </para>
                        </entry>
                        <entry colname="4">
                          <para>
                            no
                          </para>
                        </entry>
                      </row>
                      <row rowsep="0">
                        <entry colname="1">
                          <para><command>notify-passive</command></para>
                        </entry>
                        <entry colname="2">
                          <para>
                            no
                          </para>
                        </entry>
                        <entry colname="3">
                          <para>
                            no
                          </para>
                        </entry>
                        <entry colname="4">
                          <para>
                            yes
                          </para>
                        </entry>
                      </row>
                    </tbody>
                  </tgroup>
                </informaltable>

                <para>
                  注意，普通的NOTIFY进程不受<command>dialup</command>的影响。
                </para>

              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>flush-zones-on-shutdown</command></term>
              <listitem>
                <para>
                  当服务器由于收到SIGTERM信号而退出时，刷新或不刷新未完成的区信
                  息写磁盘操作。缺省为
                  <command>flush-zones-on-shutdown</command> <userinput>no</userinput>。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>geoip-use-ecs</command></term>
	      <listitem>
		<para>
		  这个选项曾经是一个针对权威服务器的EDNS CLIENT-SUBNET的
		  试验性实现的一部份。
		  但是现在已被废弃。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>root-key-sentinel</command></term>
              <listitem>
                <para>
                  按照draft-ietf-dnsop-kskroll-sentinel-08所描述的
                  响应对根密钥标记的探测。缺省是<userinput>yes</userinput>。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>message-compression</command></term> <listitem>
		<para>
		  如果为<userinput>yes</userinput>，DNS名字压缩被用在给
		  普通请求（不包含AXFR或IXFR，这两个总是使用压缩）的响应中。
		  设置这个选项为<userinput>no</userinput>能减少服务器上
		  的CPU使用并可能提高吞吐量。
		  但是，它增加了响应的大小，这可能导致更多的请求使用
		  TCP处理；一个关闭压缩的服务器是与RFC 1123的6.1.3.2.节
		  不兼容的。
		  缺省是<userinput>yes</userinput>。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>minimal-responses</command></term>
              <listitem>
                <para>
                  这个选项控制对响应的权威和附加部份添加记录。
                  这类记录可以被添加到响应中以帮助客户端；
                  例如，NS 或 MX 记录可以附带相应的地址记录在附加
                  部份，避免了一次额外的地址查询。
                  然而，向响应中添加这些记录不是必须的，且需要额外的
                  数据库查找，在安排响应时带来额外的延迟。
                  <command>minimal-responses</command>的取值为下列
                  四种之一：
                </para>
                <itemizedlist>
                  <listitem>
                    <userinput>no</userinput>：服务器在生成响应时
                    将尽可能完整。
		  </listitem>
                  <listitem>
                    <userinput>yes</userinput>：服务器将只添加 DNS 协议
                    所要求的记录到权威和附加部份（例如，在返回授权或
                    否定响应时）。这将提供最好的服务器性能，但是可能
                    导致更多的客户端请求。
		  </listitem>
                  <listitem>
                    <userinput>no-auth</userinput>：服务器将省略权威
                    部份的记录，除非它们恰是被请求的记录。但是仍然会
                    添加记录到附加部份。
		  </listitem>
                  <listitem>
                    <userinput>no-auth-recursive</userinput>：当请求
                    中要求递归时（RD=1），与<userinput>no-auth</userinput>
                    时相同，或者在没有要求递归时，与
		    <userinput>no</userinput>时相同。
		  </listitem>
                </itemizedlist>
		<para>
                  在回复存根客户端时，<userinput>no-auth</userinput>
                  和<userinput>no-auth-recursive</userinput>很有用，
		  因为存根客户端通常忽略权威部份。
		  <userinput>no-auth-recursive</userinput>是设计用
		  于混合模式服务器中，它会处理权威和递归请求。
		</para>
		<para>
		  缺省是<userinput>no-auth-recursive</userinput>。
		</para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>glue-cache</command></term>
	      <listitem>
		<para>
		  当设置为<userinput>yes</userinput>时，在添加地址
		  类型（A和AAAA）的粘合记录到授权到一个子区的DNS响应信息
		  的附加部分时，会使用一个缓存来提高请求性能。
		</para>
		<para>
		  粘合缓存使用的内存与中授权数目成比例。
                  缺省设置是<userinput>yes</userinput>，
		  它提高了性能，代价是增加了这个区的内存使用量。
                  如果你不想要这个结果，将其设置为<userinput>no</userinput>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>minimal-any</command></term>
	      <listitem>
		<para>
		  如果设置为<userinput>yes</userinput>，当生成一个针对
		  ANY类型且通过UDP传输的请求的肯定响应时，服务器将会
		  仅仅回复一个请求名的资源记录集，以及它的覆盖RRSIG记录，
		  如果存在RRSIG记录，而不是回复这个名字的所有已知RRSIG。
		  类似地，对类型RRSIG的请求将使用覆盖仅一个类型的RRSIG
		  记录响应。
		  这能够减少某些类型攻击流量的影响，而不伤害合法的客户端。
		  （注意，然而，返回的资源记录集是在数据库中首先找到的；
		  它不需要是最小可用的资源记录集。）
		  此外，<option>minimal-responses</option>对这些请求是
		  打开的，这样不必要的记录就不会被添加到权威或附加部份。
		  缺省是<userinput>no</userinput>。
		</para>
	    </listitem>
	  </varlistentry>

            <varlistentry>
              <term><command>notify</command></term>
              <listitem>
                <para>
                  如果为<userinput>yes</userinput>（缺省情况），服务器所负责的
                  区发生改变时发出DNS NOTIFY消息，参见
                  <xref linkend="notify"/>。消息发向区的NS记录（除SOA MNAME
                  字段所指示的主服务器之外）中所列出的服务器，以及在
                  <command>also-notify</command>选项中列出的任何服务器。
                </para>
                <para>
                  如果为<userinput>master-only</userinput>，通知仅发给主区。如
                  果为<userinput>explicit</userinput>，通知仅发给使用
                  <command>also-notify</command>显式列出的服务器。如果为
                  <userinput>no</userinput>，不发出通知。
                </para>
                <para>
                  <command>notify</command>选项也可在<command>zone</command>语
                  句中指定，在这种情况下，它将覆盖
                  <command>options notify</command>语句。仅仅在它导致辅服务器崩
                  溃时才需要关掉这个选项。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>notify-to-soa</command></term>
              <listitem>
                <para>
		  如果是<userinput>yes</userinput>就不针对SOA MNAME检查NS
		  资源记录集中的名字服务器。通常一个NOTIFY消息不会发送给
		  SOA MNAME（SOA源），因为假设它包含终极主服务器的名字。
		  然而，有时候在隐藏主服务器的配置中一个辅服务器被作为
		  SOA MNAME列出，在这种情况下，你可能想要终极主服务器仍然
		  发送NOTIFY消息给NS资源记录集中列出的所有名字服务器。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>recursion</command></term>
              <listitem>
                <para>
                  如果为<userinput>yes</userinput>，并且一个DNS请求也要求递归，
                  服务器就试图完成所有要求的工作以回答请求。如果递归关闭并且服
                  务器不知道答案，它将会返回一个参考响应。缺省为
                  <userinput>yes</userinput>。
                  注意，设置<command>recursion no</command>不会阻止客户端从服务
                  器的缓存获取数据；它仅仅阻止作为客户端请求结果的新的数据被缓
                  存。缓存仍然会作为服务器内部操作的结果而被产生，例如NOTIFY地
                  址查找。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>request-nsid</command></term>
              <listitem>
                <para>
                  如果为<userinput>yes</userinput>，在迭代解析时，所有发向权威
                  服务器的请求都会带上一个空的EDNS(0) NSID（名字服务器标识符）。
                  如果权威服务器在其响应中返回了一个NSID选项，其内容将被记录到
                  日志的<command>nsid</command>分类，级别为
                  <command>info</command>。
                  缺省是<userinput>no</userinput>。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>request-sit</command></term>
	      <listitem>
		<para>
                  这个试验性选项已被废弃。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>require-server-cookie</command></term>
	      <listitem>
		<para>
		  在发送一个完整响应给一个来自cookie知晓客户端的UDP请求
		  之前，要求一个正确的服务器cookie。
		  如果存在一个错误的或不存在服务器cookie，将发送BADCOOKIE。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
              <term><command>answer-cookie</command></term>
              <listitem>
                <para>
                  当设置为缺省值<userinput>yes</userinput>时，
                  在合适的时候，将在回复客户端请求时发送COOKIE EDNS选项。
                  如果设置为<userinput>no</userinput>，应答中将不会
                  发送COOKIE EDNS选项。
                  这个仅能在全局选项中设置，不能用于视图中。
                </para>
                <para>
		  <command>answer-cookie no</command>的目的是作为一个
		  临时测量手段，用于<command>named</command>与还不
                  支持DNS COOKIE的其它服务器共享一个IP地址时。
                  监听在同一个地址上的服务器不一致不会导致运行问题，
                  但是出于更加谨慎，还是提供了一个关闭COOKIE响应的
                  选项以使所有的服务器有同样的行为表现。
                  DNS COOKIE是一个重要的安全机制，不应该被关闭，除非
                  绝对必要。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>send-cookie</command></term>
	      <listitem>
		<para>
		  如果设置为<userinput>yes</userinput>，伴随请求会发送
		  一个COOKIE EDNS。如果解析器先前与服务器有过对话，
		  先前交易中返回的COOKIE将被发送。
		  这是服务器用于决定解析器是否曾与之对话。
		  一个发送正确COOKIE的解析器会被假设不是发送伪造源地址
		  请求的旁路攻击者；因而，请求不太可能是一个反射/放大
		  攻击的一部分，所以发送一个正确COOKIE选项的解析器就
		  不会遭遇响应率限制（RRL）。
		  不发送一个正确COOKIE选项的解析器可能被服务器通过
		  <command>nocookie-udp-size</command>
		  选项限制成只收到更小的响应。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>stale-answer-enable</command></term>
	      <listitem>
		<para>
		  当一个区的名字服务器没有答复时，开启返回“旧的”缓存
		  答复。
		  缺省是不返回旧答复。
		</para>
		<para>
                  旧答复也可以在运行时通过
                  <command>rndc serve-stale on</command>或
		  <command>rndc serve-stale off</command>开启或关闭；
		  这些覆盖配置的设置。
		  <command>rndc serve-stale reset</command>
                  将设置恢复成<filename>named.conf</filename>中的
                  设置。
                  注意，如果旧答复被<command>rndc</command>关闭，
                  它们不能通过重新装载或重新配置
		  <command>named</command>来重新打开；
                  它们只能通过<command>rndc serve-stale on</command>
                  或者重新启动服务器来重新打开。
		</para>
		<para>
		  关于旧答复的信息是记录在
                  <command>serve-stale</command>日志类别下。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>nocookie-udp-size</command></term>
	      <listitem>
		<para>
		  设置发送给不带合法服务器COOKIE的请求的最大UDP响应大小。
		  小于128的值将被静默地提高到128。缺省值是4096，但是
		  <command>max-udp-size</command>选项可以更多地限制响应
		  大小。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>sit-secret</command></term>
	      <listitem>
		<para>
                  这个试验性选项已被废弃。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>cookie-algorithm</command></term>
	      <listitem>
		<para>
                  设置用于生成服务器cookie的算法。是“aes”，“sha1”或
                  “sha256”之一。如果加密库支持，缺省是“aes”，否则是
                  “sha256”。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>cookie-secret</command></term>
	      <listitem>
		<para>
                  如果设置，这是一个用于在一个任播集群内生成和验证
                  EDNS COOKIE选项的共享密钥。如果未设置，系统将在
                  启动时生成一个随机密钥。共享密钥被编码成一个十六进制
                  字符串，对AES128为128位，对SHA1为160位，对SHA256为
                  256位。
		</para>
                <para>
                  如果指定了多个密钥，在<filename>named.conf</filename>中
                  列出的第一个将用于生成新的服务器cookie。
                  其它的将仅用于验证返回的cookie。
                </para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>response-padding</command></term>
	      <listitem>
		<para>
		  EDNS填充选项的目的是当DNS请求通过一个加密通道发送时，
		  通过减少包大小的变化来提升保密性。
		  如果一个请求：
		  <orderedlist inheritnum="ignore" continuation="restarts">
		    <listitem>
		      包含一个EDNS填充选项，
		    </listitem>
		    <listitem>
		      包含一个有效的服务器cookie或者使用TCP，
		    </listitem>
		    <listitem>
		      <emphasis>没有</emphasis>被TSIG或SIG(0)签名，以及
		    </listitem>
		    <listitem>
		      来自一个地址与指定ACL匹配的客户端，
		    </listitem>
		  </orderedlist>
		  响应就使用一个EDNS填充选项被填充到
		  <varname>block-size</varname>字节的倍数。
                  如果这些条件不满足，响应就不会被填充。
		</para>
		<para>
		  如果<varname>block-size</varname>是0或者ACL是
		  <command>none;</command>，这个特性会被关闭，不进行
		  填充；这是缺省行为。
		  如果<varname>block-size</varname>大于512，将在日志中
		  记录一条告警，并且这个值会被截断到512。
                  块大小通常期望是2的幂（例如，128），但这不是必须的。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>trust-anchor-telemetry</command></term>
	      <listitem>
		<para>
		  使<command>named</command>每天发送一次特定格式的请求给
		  通过<command>trusted-keys</command>，
		  <command>managed-keys</command>或者
		  <command>dnssec-validation auto</command>配置了信任锚的域。
		</para>
		<para>
		  这些请求的请求名具有这样的格式
		  “_ta-xxxx(-xxxx)(...)”.&lt;domain&gt;，其中每个
		  “xxxx”是一组四位十六进制数字，表示一个信任的
		  DNSSEC密钥的密钥ID。每个域的密钥在编码前以从最小到
		  最大的顺序排序。请求类型为NULL。
		</para>
		<para>
		  通过监控这些请求，区操作员能够发现哪些解析器被更新
		  以信任一个新密钥；这会帮助他们决定何时能够安全地
		  删除一个旧密钥。
		</para>
		<para>
		  缺省值是<userinput>yes</userinput>。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>use-ixfr</command></term>
              <listitem>
                <para>
                  <emphasis>此选项被废除了</emphasis>。如果你需要关掉到一个或多
                  个服务器的IXFR，参见
                  <xref linkend="server_statement_definition_and_usage"/>中
                  <command>provide-ixfr</command>选项的相关信息。也可参见
                  <xref linkend="incremental_zone_transfers"/>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>provide-ixfr</command></term>
              <listitem>
                <para>
                  参见<xref linkend="server_statement_definition_and_usage"/>中
                  对<command>provide-ixfr</command>的描述。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>request-ixfr</command></term>
              <listitem>
                <para>
                  参见<xref linkend="server_statement_definition_and_usage"/>中
                  对<command>request-ixfr</command>的描述。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>request-expire</command></term>
	      <listitem>
		<para>
		  参见<xref linkend="server_statement_definition_and_usage"/>中
		  对<command>request-expire</command>的描述。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>match-mapped-addresses</command></term>
              <listitem>
                <para>
                  如果为<userinput>yes</userinput>，一个映射到IPv4的IPv6地址将
                  会与相关IPv4地址匹配的任何地址匹配表条目匹配。
                </para>
                <para>
                  引入这个选项是工作在某些操作系统中内核特有的行为，即导致
                  例如区传送中的IPv4的TCP的连接被使用地址映射的IPv6套接字
                  所接受。这会导致为IPv4所设计的地址匹配表匹配失败。然而，
                  <command>named</command>现在在内部解决这个问题。不鼓励
                  使用这个选项。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>ixfr-from-differences</command></term>
              <listitem>
                <para>
                  如果为<userinput>yes</userinput>并且服务器从其区文件装载一个
                  新版本的主区或者通过区传送方式接收一个新版本的
                  辅区文件时，它将会比较新版本与先前版本并计算一个差集。差别就
                  写入到区的日志文件中，这样变化就可以用增量区传送的方式向
                  下游的辅服务器传送。
                </para>
                <para>
                  通过允许在非动态区中使用增量区传送，这个选项以增加主服务器的
                  CPU和内存消耗的代价节约了带宽。在特殊情况下，如果一个区的新版
                  本与前一个版本完全不一样，差别集将会有相当于旧版本和新版本之
                  和的大小，并且服务器会临时申请内存以保持这个完整的差别集。
                </para>
                <para>
                  <command>ixfr-from-differences</command>在view和options级别也
                  接受<command>master</command>（或<command>primary</command>）和
		  <command>slave</command>（或<command>secondary</command>），这将
                  导致<command>ixfr-from-differences</command>分别在所有的
                  主区或辅区被打开。
		  缺省时对所有区都是关闭的。
                </para>
               <para>
                 注意：如果一个区打开了行内签名（译注：inline signing），
                 用户为这个区所提供的<command>ixfr-from-differences</command>
                 设置将被忽略。
               </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>multi-master</command></term>
              <listitem>
                <para>
                  当你的一个区有多个主服务器并且其地址指向不同的机器时，应该设
                  置此选项。如果为<userinput>yes</userinput>，
		  <command>named</command>在主服务器的
                  序列号小于当前<command>named</command>的序列号时将不会记录。
		  缺省为<userinput>no</userinput>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>auto-dnssec</command></term>
              <listitem>
                <para>
                  为动态DNS配置的区可以使用这个选项来允许自动DNSSEC密钥管理
                  变化级别。可以有三个可能的设置：
                </para>
                <para>
                  <command>auto-dnssec allow;</command>允许无论何时用户发送
                  <command>rndc sign <replaceable>zonename</replaceable></command>
                  命令时更新密钥和重签整个区。
                </para>
                <para>
                  <command>auto-dnssec maintain;</command>包含上述功能，
		  但也根据密钥时间元数据，按时自动调整区的DNSSEC密钥。
                  （参见<xref linkend="man.dnssec-keygen"/>和
                  <xref linkend="man.dnssec-settime"/>）。
                  命令<command>rndc sign
                  <replaceable>zonename</replaceable></command>使得
                  <command>named</command>从密钥仓库加载密钥并使用所有
		  活跃密钥对区签名。
                  <command>rndc loadkeys
                  <replaceable>zonename</replaceable></command>使得
                  <command>named</command>从密钥仓库加载密钥并调度未来
		  发生的密钥维护事件，但它不会立即对整个区签名。
		  注意：一旦密钥首次从一个区加载，就会定期搜索仓库以
		  查找变化，而不考虑是否使用了
		  <command>rndc loadkeys</command>。
		  重新检查的间隔由
		  <command>dnssec-loadkeys-interval</command>.
		  定义。
                </para>
                <para>
                  缺省设置为<command>auto-dnssec off</command>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>dnssec-enable</command></term>
              <listitem>
                <para>
                  这指示<command>named</command>是否返回DNSSEC相关的资源记录。
                  如果设置为<userinput>no</userinput>，
                  <command>named</command>将不会返回DNSSEC相关的资源记录，
                  除非对特定的请求。
                  缺省为<userinput>yes</userinput>。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry xml:id="dnssec_validation">
	      <term xml:id="dnssec_validation_term"><command>dnssec-validation</command></term>
              <listitem>
                <para>
                  这在<command>named</command>中打开DNSSEC验证。注意
                  <command>dnssec-enable</command>也需要被设为
                  <userinput>yes</userinput>以使签名伴随验证后的回复被返回给客户端。
                </para>
                <para>
                  如果设置为<userinput>auto</userinput>，DNSSEC验证被开启，
                  并使用一个缺省的DNS根区信任锚。
                </para>
                <para>
                  如果设置为<userinput>yes</userinput>，DNSSEC验证被开启，
                  但是必须使用一个<command>trusted-keys</command>或者
                  <command>managed-keys</command>手工配置一个信任锚；
                  如果没有配置信任锚，将不会进行验证。
                </para>
                <para>
                  如果设置为<userinput>no</userinput>，DNSSEC验证将被关闭。
                </para>
                <para>
                  缺省为<userinput>auto</userinput>，除非BIND使用
		  <command>configure --disable-auto-validation</command>构建，
                  在此情况下缺省为<userinput>yes</userinput>。
                  如果<command>dnssec-enable</command>被设置为
		  <userinput>no</userinput>，则
		  <command>dnssec-validation</command>的缺省值也为
		  <userinput>no</userinput>。
                  如果期望，验证仍然可以被打开 - 这导致一台服务器执行DNSSEC验证
                  但不对请求返回签名 - 但是它不会自动被打开。
                </para>
		<para>
		  缺省的根信任锚被存储在文件<filename>bind.keys</filename>中。
		  如果<command>dnssec-validation</command>被设置为
		  <userinput>auto</userinput>，<command>named</command>将在
		  启动时装载这个密钥。
		  这个文件的一份拷贝随着BIND 9被安装，是发布日期时的
		  版本。如果根密钥过期，新的<filename>bind.keys</filename>
		  拷贝可以从
		  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="https://www.isc.org/bind-keys">https://www.isc.org/bind-keys</link>
		  下载。
		</para>
		<para>
		  （为防止因<filename>bind.keys</filename>未找到而带来的
		  问题，当前信任锚也被编译进<command>named</command>。
		  不推荐依赖这个，无论如何，因为这在根密钥过期时，要求
		  带一个新密钥重新编译<command>named</command>。）
		</para>
                <note>
		  <para>
		    <command>named</command> <emphasis>只</emphasis>
		    从<filename>bind.keys</filename>中装载根密钥。
		    这个文件不能用于存放其它区的密钥。
		    如果未使用<command>dnssec-validation auto</command>，
		    <filename>bind.keys</filename>中的根密钥将被忽略。
		  </para>
                  <para>
                    无论何时解析器发出请求到EDNS兼容的服务器，它总是设置DO位
                    表示它可以支持DNSSEC响应，即使
                    <command>dnssec-validation</command>被关闭。
                  </para>
                </note>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>validate-except</command></term>
	      <listitem>
		<para>
                  指定一个域名列表，在这些域名或之下<emphasis>不</emphasis>
                  执行DNSSEC验证，无论这些名字或之上是否提供了信任锚。
                  这个可以被用于，例如，当配置一个顶级域仅仅用于内部，
                  这样缺乏在根区中对这个域的安全授权不会导致验证失败。
                  （这类似设置一个否定信任锚，除了它是永久配置，而否定
                  信任锚会在一段时间之后过期并被删除之外。）
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>dnssec-accept-expired</command></term>
              <listitem>
                <para>
		  在校验DNSSEC签名时接受过期的签名。缺省为
		  <userinput>no</userinput>。把这个选项设置为
		  <userinput>yes</userinput>有可能使
		  <command>named</command>遭受重发攻击。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>querylog</command></term>
              <listitem>
                <para>
                  指定是否在<command>named</command>启动的同时启动请求日志。
		  如果未指定<command>querylog</command>，则是否记录请求日志
		  由logging类别中<command>queries</command>中是否出现来决定。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>check-names</command></term>
              <listitem>
                <para>
                  这个选项是用于限制主服务器文件和/或从网络中接收到的DNS响应中
                  的域名的字符集和语法。根据使用场合的缺省值是不一样的。对
                  <command>master</command>区，缺省为<command>fail</command>。
                  对<command>slave</command>区，缺省是<command>warn</command>。
                  对从网络接收的回答（<command>response</command>），缺省是
                  <command>ignore</command>。
                </para>
                <para>
                  合法主机名和邮件域名的规则是由RFC 952和RFC 821派生出来的，并
                  由RFC 1123所修改。
                </para>
                <para>
                  <command>check-names</command>应用到A，AAAA和MX记录的属主名字
                  段。它也应用到NS，SOA，MX和SRV记录RDATA字段的域名中。它也
		  应用到PTR记录的RDATA字段中，在这里属主名表示其是一个主机的
		  反向查找（属主名以IN-ADDR.ARPA，IP6.ARPA或者IP6.INT结尾）。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>check-dup-records</command></term>
	      <listitem>
		<para>
		  检查主区中，在DNSSEC中被当作不同的，但是在普通DNS中语义上
		  相等的记录。缺省为<command>warn</command>，其它可能值为
		  <command>fail</command>和<command>ignore</command>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>check-mx</command></term>
	      <listitem>
		<para>
		  检查MX记录是否是指向一个IP地址。缺省值为
		  <command>warn</command>。其它可能值为<command>fail</command>
		  和<command>ignore</command>。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>check-wildcard</command></term>
              <listitem>
                <para>
                  这个选项用于检查非终结的通配符。使用非终结的通配符几乎总是导
                  致理解通配符匹配算法（RFC 1034）的失败。这个选项影响主区。缺
                  省（<command>yes</command>）是检查非终结的通配符并发出一个警
                  告。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>check-integrity</command></term>
	      <listitem>
		<para>
		  对主区执行加载后的区完整性检查。这将检查MX和SRV记录所提到的地
		  址（A或AAAA）记录和因授权区而存在的粘着地址记录。对MX和SRV记
		  录，仅对本区的主机名进行检查（对区外的主机名使用
		  <command>named-checkzone</command>）。对NS记录，仅对区的顶端
		  下的名字进行检查（对区外名字和粘着一致性检查使用
		  <command>named-checkzone</command>）。缺省是
		  <command>yes</command>。
		</para>
		<para>
                  使用SPF记录做发送者策略框架的发布已被弃用，即从使用TXT记录到
                  SPF记录的迁移一样被放弃一样。打开这个选项在已存在一个SPF记录
                  时，会检查一个TXT类型的发送者策略框架记录（以"v=spf1"开头）
                  是否已经存在。如果TXT记录不存在，将发出警告，也可通过
                  <command>check-spf</command>拟制。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>check-mx-cname</command></term>
	      <listitem>
		<para>
		  如果设置了<command>check-integrity</command>，遇到指向CNAME名
		  字的MX记录就会失败，警告或忽略。缺省是
		  <command>warn</command>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>check-srv-cname</command></term>
	      <listitem>
		<para>
		  如果设置了<command>check-integrity</command>，遇到指向CNAME名
		  字的SRV记录就会失败，警告或忽略。缺省是
		  <command>warn</command>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>check-sibling</command></term>
	      <listitem>
		<para>
		  在执行完整性检查的同时，也检查兄弟线索的存在。缺省是
		  <command>yes</command>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>check-spf</command></term>
	      <listitem>
		<para>
                  如果设置了<command>check-integrity</command>并且存在一条
                  SPF记录，就检查是否存在一条TXT类型的发送者策略框架记录
                  （以"v=spf1"开头）。缺省是<command>warn</command>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>zero-no-soa-ttl</command></term>
	      <listitem>
	        <para>
		  当给SOA请求返回权威的否定响应时，将所返回的权威部份中的SOA记
		  录的TTL值设置为零。缺省是<command>yes</command>。
	        </para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>zero-no-soa-ttl-cache</command></term>
	      <listitem>
	        <para>
		  当缓存一个SOA请求的否定响应时，将其中TTL值设置为零。缺省是
		  <command>no</command>。
	        </para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>update-check-ksk</command></term>
	      <listitem>
	        <para>
                  在设置为缺省值<literal>yes</literal>时，检查每个密钥的
                  KSK位以决定为一个安全区生成RRSIG时如何使用密钥。
		</para>
		<para>
                  正常情况下，区签名密钥（即未置KSK位的密钥）用于对整个区
                  签名，而密钥签名密钥（设置了KSK位的密钥）仅用于对区顶点
                  的DNSKEY资源记录集签名。然而，如果这个选项被设置为
                  <literal>no</literal>，KSK位被忽略；KSK被当成ZSK，用于
                  对整个区签名。这与<command>dnssec-signzone -z</command>
                  命令行选项相似。
		</para>
		<para>
                  当这个选项被设置为<literal>yes</literal>时，在DNSKEY
                  资源记录集中的每个算法至少有两个激活的密钥：每个算法
                  至少有一个KSK和一个ZSK。如果有任何一个算法的要求未被
                  满足，这个选项对于这种算法将被忽略。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>dnssec-dnskey-kskonly</command></term>
	      <listitem>
	        <para>
                  当这个选项和<command>update-check-ksk</command>都被设置
                  为<literal>yes</literal>时，只有密钥签名密钥（即设置了
                  KSK位的密钥）会被用于对区顶点的DNSKEY，CDNSKEY和CDS
                  资源记录集签名。
                  区签名密钥（未置KSK位的密钥）会被用于对区剩下部份签名，
                  不包括DNSKEY资源记录集。这与
                  <command>dnssec-signzone -x</command>命令行选项相似。
		</para>
		<para>
                  缺省为<command>no</command>。如果
                  <command>update-check-ksk</command>被设置为
                  <literal>no</literal>，这个选项将被忽略。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>dnssec-loadkeys-interval</command></term>
              <listitem>
                <para>
                   当一个区配置有<command>auto-dnssec maintain;</command>时，
                   将会定期检查其密钥库，以查看是否有新的密钥添加或者任何
                   现存密钥的计时元数据被修改（参见
                   <xref linkend="man.dnssec-keygen"/>和
                   <xref linkend="man.dnssec-settime"/>）。
                   <command>dnssec-loadkeys-interval</command>选项设置自动检查
                   库的频率，以分钟计。缺省为<literal>60</literal>（1小时），
                   最小为<literal>1</literal>（1分钟），最大为
                   <literal>1440</literal>（24小时）；任何更大的值将被静默地
                   减小。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>try-tcp-refresh</command></term>
              <listitem>
                <para>
		  如果UDP请求失败，试图使用TCP刷新区。
		  缺省是<command>yes</command>。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>dnssec-secure-to-insecure</command></term>
	      <listitem>
	        <para>
		  通过删除所有DNSKEY记录，允许一个区从安全状态迁移到
                  不安全状态。缺省为<command>no</command>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>synth-from-dnssec</command></term>
	      <listitem>
		<para>
		  从NSEC，NSEC3和其它被使用DNSSEC证明是正确的资源记录
		  合成答复。
                  缺省是<command>yes</command>。
		</para>
		<para>
		  注意：
		  <itemizedlist>
		    <listitem>
		      <para>
			要使这个选项生效，必须开启DNSSEC验证。
		      </para>
		      <para>
			这个首次实现仅仅覆盖了从NSEC记录合成答复。
			从NSEC3合成是将来的计划。
			这个也由<command>synth-from-dnssec</command>控制。
		      </para>
		    </listitem>
		  </itemizedlist>
		</para>
	      </listitem>
	    </varlistentry>

          </variablelist>

        </section>

        <section xml:id="forwarding"><info><title>转发</title></info>

          <para>
            转发设施可以被用于在一些服务器上建立一个大的缓存，并减少到外部名字
            服务器的流量。它也允许这样的请求，服务器不能直接访问互联网，但也希
            望通过某种方式查找外部的名字。转发只发生在那些服务器不是其权威服务
            器并且其缓存没有答案的请求上。
          </para>

          <variablelist>
            <varlistentry>
              <term><command>forward</command></term>
              <listitem>
                <para>
                  这个选项仅在转发服务器列表非空的情况下有意义。值为
                  <varname>first</varname>时，即其缺省值，将使服务器首先请求转
                  发服务器 — 并且如果它不回答问题时，服务器再自行查找
                  回答。如果指定<varname>only</varname>，服务器只请求
                  转发服务器。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>forwarders</command></term>
              <listitem>
                <para>
                  指定用于转发的IP地址。缺省是空列表（不转发）。
                </para>
              </listitem>
            </varlistentry>

          </variablelist>

          <para>
            转发也可以按域来配置，允许全局转发选项被多种方式覆盖。你可以设置某
            个特定的域使用不同的转发服务器，或者使用不同的
            <command>forward only/first</command>行为，或者全都不转发，参见
            <xref linkend="zone_statement_grammar"/>。
          </para>
        </section>

        <section xml:id="dual_stack"><info><title>双栈服务器</title></info>

          <para>
            双栈服务器是服务器的最后手段，用于解决这样的问题，即由于主机缺乏
            IPv4或IPv6可达性。
          </para>

          <variablelist>
            <varlistentry>
              <term><command>dual-stack-servers</command></term>
              <listitem>
                <para>
                  指定机器的主机名或者地址，它可以通过IPv4和IPv6都能被访问到。
                  如果使用主机名，服务器必须在其所使用的传输方式上能够被
                  解析到。如果机器是双栈的，
                  <command>dual-stack-servers</command>就没有效，除非到某个
                  传输方式的访问被命令行禁止掉
                  （如<command>named -4</command>）。
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </section>

        <section xml:id="access_control"><info><title>访问控制</title></info>

          <para>
            对服务器的访问可以基于发出请求的系统的IP地址进行限制。参见
            <xref linkend="address_match_lists"/>以获得如何指定IP地址列表的详细
            内容。
          </para>

          <variablelist>

            <varlistentry>
              <term><command>allow-notify</command></term>
              <listitem>
                <para>
                  这个 ACL 指定哪些主机可以发送NOTIFY消息通知本服务器关于
                  本服务器作为辅服务器的区的变化。
                  这个仅适用于辅区（即类型<literal>secondary</literal>或
                  <literal>slave</literal>）。
                </para>
                <para>
                  如果这个选项设置在<command>view</command>或
                  <command>options</command>中，它全局应用于所有的辅区。
                  如果设置在<command>zone</command>语句，会覆盖全局值。
                </para>
                <para>
                  如果未指定，缺省是仅处理来自区中配置在
                  <command>masters</command>中的服务器的NOTIFY消息。
		  <command>allow-notify</command>可以用于扩展所允许的主机的
		  名单，但不能缩小它。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>allow-query</command></term>
	      <listitem>
		<para>
		  指定允许哪些主机可以进行普通的DNS查询。
		  <command>allow-query</command>也可以在<command>zone</command>
		  语句中指定，这时它会覆盖
		  <command>options allow-query</command>语句。
		  如果未指定，缺省是允许所有主机请求。
		</para>
		<note>
		  <para>
		    <command>allow-query-cache</command>现在用于指定对缓存的
		    访问。
		  </para>
		</note>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>allow-query-on</command></term>
	      <listitem>
		<para>
		  指定哪些本机地址可以接受普通的DNS问题。这使得这样的
		  情况成为可能，例如，允许面向内部的接口接受请求而不允许
		  面向外部的接口接受请求，而不需要知道内部的网络地址。
		</para>
		<para>
                  注意<command>allow-query-on</command>仅仅针对被
                  <command>allow-query</command>所允许的请求才被检查。请求
                  必须被两个ACL都允许，否则将被拒绝。
		</para>
		<para>
		  <command>allow-query-on</command>也可以在
		  <command>zone</command>语句中指定，这时，它会覆盖
		  <command>options allow-query-on</command>语句。
		</para>
		<para>
		  如果未指定，缺省是允许在所有地址上的请求。
		</para>
		<note>
		  <para>
		    <command>allow-query-cache</command>用于指定对缓存的
		    访问。
		  </para>
		</note>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>allow-query-cache</command></term>
	      <listitem>
		<para>
		  指定允许哪些主机可以从缓存中获取答案。如果未设置
		  <command>allow-query-cache</command>而设置了
		  <command>allow-recursion</command>就使用它，否则如果设置了
		  <command>allow-query</command>就使用它，除非设置了
		  <command>recursion no;</command>，在这种情况下使用
		  <command>none;</command>， 否则使用缺省的
		  （<command>localnets;</command>
		  <command>localhost;</command>）。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>allow-query-cache-on</command></term>
	      <listitem>
		<para>
		  指定哪些本机地址可以发送来自缓存的响应，如果未设置
                  <command>allow-query-cache-on</command>，就使用
                  <command>allow-recursion-on</command>，如果设置了后者。
                  否则，缺省允许缓存响应从任何地址发送。
                  注意：在一个缓存响应被发送之前，
		  <command>allow-query-cache</command>和
		  <command>allow-query-cache-on</command>都必须被满足；
		  一个被其中之一阻止的客户端也会被另一个阻止。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>allow-recursion</command></term>
              <listitem>
		<para>
		  指定允许哪些主机可以通过本服务器进行递归查询。如果未设置
		  <command>allow-recursion</command>而设置了
		  <command>allow-query-cache</command>就使用它，否则如果设置了
		  <command>allow-query</command>就使用它，否则使用缺省的
		  （<command>localnets;</command><command>localhost;</command>）。
		</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>allow-recursion-on</command></term>
              <listitem>
                <para>
		  指定哪些本机地址可以接受递归请求。
		  如果<command>allow-recursion-on</command>未设置，就使用
		  <command>allow-query-cache-on</command>，如果后者被设置
		  了；否则，缺省是允许在所有地址上的递归请求：任何允许
		  发送递归请求的客户端可以将其发送到
		  <command>named</command>监听的任何地址。
		  注意：在递归被允许之前，
		  <command>allow-recursion</command>和
		  <command>allow-recursion-on</command>都必须被满足；
		  被其中之一阻止的客户端也会被另一个阻止。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>allow-update</command></term>
              <listitem>
		<para>
		  当为了一个主区而设置在<command>zone</command>语句中时，
                  指定允许哪些主机可以对这个区提交动态DNS更新。
                  缺省是拒绝所有主机的动态更新。
		</para>
		<para>
                  注意，允许基于请求者IP地址的动态更新是不安全的；
                  更详细的内容参见<xref linkend="dynamic_update_security"/>。
		</para>
		<para>
		  通常情况这个选项只应该设置在<command>zone</command>级。
		  由于一个缺省值可以设置在<command>options</command>或
		  <command>view</command>级并被区所继承，
		  这可能导致某些区无意间允许更新。
		</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>allow-update-forwarding</command></term>
              <listitem>
		<para>
		  当为了一个辅区而设置在<command>zone</command>语句中时，
                  指定允许哪些主机可以提交动态DNS更新，并将其转发给主区。
                  缺省是<userinput>{ none; }</userinput>，表示不执行
                  更新转发操作。
		</para>
		<para>
                  要允许更新转发，在<command>zone</command>语句中指定
                  <userinput>allow-update-forwarding { any; };</userinput>。
                  指定<userinput>{ none; }</userinput>或
                  <userinput>{ any; }</userinput>之外的值通常是相反的意义；
                  对更新的访问控制应该是主服务器的责任，而不是辅服务器的责任。
		</para>
		<para>
                  注意打开一个辅服务器上的更新转发特性可能将主服务器
                  暴露给攻击者，如果它们依赖不安全的基于IP地址的访问控制；
                  更详细的内容参见
                  <xref linkend="dynamic_update_security"/>。
		</para>
		<para>
		  通常情况这个选项只应该设置在<command>zone</command>级。
		  由于一个缺省值可以设置在<command>options</command>或
		  <command>view</command>级并被区所继承，
		  这可能导致某些区无意间允许更新。
		</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>allow-v6-synthesis</command></term>
              <listitem>
                <para>
                  本选项引入从AAAA到A6以及从“半字节标记”到二进制标记的平滑转
                  换功能。然而，由于A6和二进制标记都废弃了，本选项也被废弃了。
                  现在这个选项被忽略，并带有一些警告信息。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry xml:id="allow_transfer">
              <term xml:id="allow_transfer_term"><command>allow-transfer</command></term>
              <listitem>
                <para>
                  指定哪些主机允许从服务器接收区传送。
                  <command>allow-transfer</command>也可以在
                  <command>zone</command>语句中指定，在这种情况下它会覆盖
                  设置在<command>options</command>或<command>view</command>
                  中的<command>allow-transfer</command>语句。
                  <command>options allow-transfer</command>语句。
                  如果未指定，缺省是允许所有主机进行传送。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>blackhole</command></term>
              <listitem>
                <para>
                  指定一个地址列表，服务器将不会接受来自其中的请求或者用其解析
                  一个请求。从这些地址来的请求将不会有任何响应。缺省是
                  <userinput>none</userinput>。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>keep-response-order</command></term>
	      <listitem>
		<para>
		  指定一个地址清单，服务器向这些地址的TCP请求发送
		  响应时将会以接收它们时同样的顺序。
		  这关闭了对TCP请求的并行处理。
		  缺省是<userinput>none</userinput>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>no-case-compress</command></term> <listitem>
		<para>
		  指定一个地址列表，其中地址要求响应使用大小写无关的压缩。
                  当<command>named</command>需要与那些不遵守RFC 1034所要求
                  的在匹配域名时使用大小写无关的名字压缩的客户端的通信时，
                  可以使用这个ACL。
		</para>
		<para>
		  如果未定义，ACL缺省为<command>none</command>：大小写无关
                  的压缩将用于所有客户端。如果定义了ACL并且与一个客户端
                  匹配，在发送给那个客户端的响应中压缩域名时将忽略大小写。
		</para>
		<para>
		  这将导致稍稍小一点的响应：如果一个响应包含名字"example.com"
                  和"example.COM"，大小写无关的压缩将把第二个当成一个副本。
                  它也确保请求名的大小写与返回记录的属主名精确匹配，而不是
                  匹配其文件中记录的大小写。这允许响应精确匹配请求，这是一些
                  不正确使用大小写相关压缩的客户端所要求的。
		</para>
		<para>
		  大小写无关压缩<emphasis>总是</emphasis>用在AXFR和IXFR响应，
                  而不管客户端是否匹配这个ACL。
		</para>
		<para>
		  在有些环境中<command>named</command>不保持记录属主名的
                  大小写：如果一个其文件中定义同一个名字的不同类型记录，
                  但名字的大写字母使用不同（例如，"www.example.com/A"和
                  "WWW.EXAMPLE.COM/AAAA"），那么所有对那个名字的响应将使用
                  在区文件中用到的那个名字的<emphasis>第一个</emphasis>版本。
                  这个限制可能在一个将来的版本中被处理。然而，在资源记录的
                  rdata部份所指定的域名（例如，NS，MX，CNAME等记录类型）
                  将总是保持其大小写，重复客户端匹配这个ACL。
		  ACL.
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>resolver-query-timeout</command></term>
              <listitem>
                <para>
		  解析器在尝试解析一个递归请求时，在失败之前将花费的以毫秒计
                  的时间。缺省值和最小值是<literal>10000</literal>，最大值是
                  <literal>30000</literal>。
                  将其设置为<literal>0</literal>将会导致使用缺省值。
                </para>
		<para>
		  这个值最初以秒指定。
		  小于或等于300的值将被当成秒，并在应用到上述限制之前被
		  转换为毫秒。
		</para>
              </listitem>
            </varlistentry>

          </variablelist>

        </section>

        <section xml:id="interfaces"><info><title>接口</title></info>

          <para>
            服务器回答请求的接口和端口可以由<command>listen-on</command>
	    选项指定。<command>listen-on</command>接受作为可选项的端口号
	    和一个IPv4地址的<varname>address_match_list</varname>。
            （IPv6地址被忽略，并在日志中记录一条警告。）
            服务器将监听在地址匹配表所允许的所有接口上。如果未指定端口，
            将使用53端口。
          </para>
          <para>
            允许使用多个<command>listen-on</command>语句。例如，
          </para>

<programlisting>listen-on { 5.6.7.8; };
listen-on port 1234 { !1.2.3.4; 1.2/16; };
</programlisting>

          <para>
            将使服务器监听在IP地址5.6.7.8的53端口，以及本机在网络1.2上但不是
            1.2.3.4的地址的1234端口上。
          </para>

          <para>
            如果没有指定<command>listen-on</command>，服务器将会监听在所有
	    IPv4接口的53端口。
          </para>

          <para>
            <command>listen-on-v6</command>选项指定服务器用来监听IPv6发来的
	    请求所用的接口和端口。如果未指定，服务器将监听在所有IPv6接口的
            53端口。
          </para>

          <para>
            当指定<programlisting>{ any; }</programlisting>
            作为<command>listen-on-v6</command>选项的
            <varname>address_match_list</varname>时，如果操作系统对IPv6有足够
	    的API支持，服务器不会像对IPv4地址一样将一个单独的套接字绑定到其
	    每个IPv6接口地址上（特别是在其遵从RFC 3493和RFC 3542时）。作为
	    替代，它会监听在IPv6的通配地址上。如果系统仅仅对IPv6有不完全的
	    API支持，其行为就与IPv4一样。
          </para>

          <para>
            可以指定一个特殊的IPv6地址列表，在这样的情况下，服务器监听在每个
	    特定地址的单独的套接字上，而不用考虑系统是否有足够的API支持。
	    在<command>listen-on-v6</command>中指定的IPv4地址将被忽略，并
            在日志中记录一条警告。
          </para>

          <para>
            可以使用多个<command>listen-on-v6</command>选项。例如，
          </para>

<programlisting>listen-on-v6 { any; };
listen-on-v6 port 1234 { !2001:db8::/32; any; };
</programlisting>

          <para>
            将使服务器监听在任何IPv6地址（带有单个通配套接字）的53端口，以及
	    任何不在2001:db8::/32前缀（对每个匹配的地址有单独的套接字）的
	    IPv6地址的1234端口上。
          </para>

          <para>
            要使服务器不监听在任何IPv6地址，使用
          </para>

<programlisting>listen-on-v6 { none; };
</programlisting>

        </section>

        <section xml:id="query_address"><info><title>请求地址</title></info>

          <para>
            如果不知道一个问题答案，它就会请求其它的名字服务器。
            <command>query-source</command>指定这样的请求所使用的地址和端口。对
            通过IPv6发出的请求，有一个单独的<command>query-source-v6</command>
            选项。如果<command>address</command>为<command>*</command>（星号）
            或被省略，就使用通配符IP地址（<command>INADDR_ANY</command>）。
	  </para>

	  <para>
            如果<command>port</command>为<command>*</command>或被省略，就从一个
            预先配置的范围中随机取出一个端口号，并用在每个请求中。端口范围是在
            <command>use-v4-udp-ports</command>（对IPv4）和
            <command>use-v6-udp-ports</command>（对IPv6）选项中指定，并分别排除
            <command>avoid-v4-udp-ports</command>和
            <command>avoid-v6-udp-ports</command>选项所指定的范围。
	  </para>

          <para>
	    <command>query-source</command>和<command>query-source-v6</command>
	    的缺省选项为：
          </para>

<programlisting>query-source address * port *;
query-source-v6 address * port *;
</programlisting>

          <para>
	    如果未指定<command>use-v4-udp-ports</command>或者
            <command>use-v6-udp-ports</command>，
            <command>named</command>将检查操作系统是否提供一个程序
            接口来提取系统缺省的临时端口的范围。如果有这样的一个接口，
            <command>named</command>将使用相应的系统缺省范围；否则，
            它将使用自己的缺省值：
         </para>

<programlisting>use-v4-udp-ports { range 1024 65535; };
use-v6-udp-ports { range 1024 65535; };
</programlisting>

          <para>
            注意：确保这个范围足够大，以保证安全。一个合理的大小依赖于
            多个参数，但是我们通常推荐它至少包含16384个端口（14位熵）。
            还要注意系统的缺省范围在使用时可能太小而不满足这个目的，这
            个范围甚至可能在<command>named</command>运行时发生变化；当
            <command>named</command>重新装载时，将会自动应用新的范围。
	    鼓励显式地配置<command>use-v4-udp-ports</command>和
            <command>use-v6-udp-ports</command>，这样范围就足够大并适度
            地独立于其它应用所使用的范围。
          </para>

	  <para>
            注意：<command>named</command>所用的运行配置可能禁止使用
            某些端口。例如，UNIX系统将不允许以一个非root权限运行的
            <command>named</command>使用小于1024的端口。
            如果这样的端口被包含在所指定的（或被检测的）请求端口集合
            中，相应的请求企图将会失败，从而导致解析失败或延期。因此，
            配置端口集合，使其能够安全地使用在期望的运行环境中是很重要
            的。
	  </para>

          <para>
	    <command>avoid-v4-udp-ports</command>和
	    <command>avoid-v6-udp-ports</command>的缺省选项为：
          </para>

<programlisting>avoid-v4-udp-ports {};
avoid-v6-udp-ports {};
</programlisting>

	  <para>
            注意：BIND 9.5.0引入了<command>use-queryport-pool</command>
	    来支持随机端口池，但是这个选项现在被废弃了，因为重复使用池中
	    的同样端口可能不是足够安全。
            由于这个原因，通常强烈不鼓励为
	    <command>query-source</command>或
	    <command>query-source-v6</command>选项指定一个特定的端口；
	    它隐含地关闭了使用随机端口号。
          </para>

          <variablelist>
            <varlistentry>
              <term><command>use-queryport-pool</command></term>
              <listitem>
                <para>
	          这个选项被废弃。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>queryport-pool-ports</command></term>
              <listitem>
                <para>
	          这个选项被废弃。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
              <term><command>queryport-pool-updateinterval</command></term>
              <listitem>
                <para>
	          这个选项被废弃。
                </para>
              </listitem>
            </varlistentry>

          </variablelist>
          <note>
            <para>
              <command>query-source</command>选项中所指定的地址是同时用于UDP和
              TCP请求，但是端口只用于UDP请求。TCP请求总是使用一个随机的非特权端
              口。
            </para>
          </note>
	  <note>
	    <para>
	      Solaris 2.5.1及之前的版本不支持设置TCP套接字的源地址。
	    </para>
	  </note>
          <note>
            <para>
              参见<command>transfer-source</command>和
              <command>notify-source</command>。
            </para>
          </note>
        </section>

        <section xml:id="zone_transfers"><info><title>区传送</title></info>

          <para>
            <acronym>BIND</acronym>有机制来做区传送，并在系统进行区传送的地方对
            负载量设置限制。下列选项应用于区传送。
          </para>

          <variablelist>

            <varlistentry>
              <term><command>also-notify</command></term>
              <listitem>
                <para>
                  定义一个全局的名字服务器的IP地址表，无论何时只要有更新的区被
                  加载，都会向这个表中的服务器发出NOTIFY消息，还包括在区的NS记
                  录中列出的服务器。这将有助于确保区拷贝尽快地同步到
                  隐藏服务器。作为可选项，可以在每个
		  <command>also-notify</command>地址指定一个端口，用于将通知
		  消息发到缺省的53之外的端口。
                  每个地址也可指定一个可选的TSIG密钥，使通知信息也被签名；这在
                  向多个视图发送通知时很有用。
                  作为显式地址的替代，也可以使用一个或多个命名的
                  <command>masters</command>列表。
		  如果在<command>zone</command>语句中有一个
                  <command>also-notify</command>表，它将会覆盖
                  <command>options also-notify</command>语句。当一个
                  <command>zone notify</command>语句被设置为
                  <command>no</command>，对于这个区，将不会向全局
                  <command>also-notify</command>表中的IP地址发出NOTIFY消息。缺
                  省是空表（无全局通知表）。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>max-transfer-time-in</command></term>
              <listitem>
                <para>
                  入向区传送如果运行超过这个分钟数将被终止。缺省为120分钟
                  （2小时）。最大值为28天（40320分钟）。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>max-transfer-idle-in</command></term>
              <listitem>
                <para>
                  入向区传送在这个分钟数之内没有进展将被终止。缺省为60
                  分钟（1小时）。最大值为28天（40320分钟）。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>max-transfer-time-out</command></term>
              <listitem>
                <para>
                  出向区传送如果运行超过这个分钟数将被终止。缺省为120分钟
                  （2小时）。最大值为28天（40320分钟）。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>max-transfer-idle-out</command></term>
              <listitem>
                <para>
                  出向区传送在这个分钟数之内没有进展将被终止。缺省为60
                  分钟（1小时）。最大值为28天（40320分钟）。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>notify-rate</command></term>
	      <listitem>
		<para>
		  在通常的区维护操作中，NOTIFY请求被发送的频率。
		  （NOTIFY请求由于初始化区加载而受限于一个独立的
		  速率限制；参见以下。）缺省是每秒20。
                  可能的最低速率是1每秒；当设置为0时，它会被静默地提升为1。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>startup-notify-rate</command></term>
	      <listitem>
		<para>
		  当名字服务器初次启动，或者当区是新增到名字服务器中时，
		  NOTIFY请求被发送的频率。
		  缺省是每秒20。
                  可能的最低速率是1每秒；当设置为0时，它会被静默地提升为1。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>serial-query-rate</command></term>
              <listitem>
                <para>
                  辅服务器将会定期请求主服务器以发现区的序列号是否改变。每
                  个这样的请求占用一定量的辅服务器网络带宽。为限制所使用的带宽
                  数量，BIND 9限制请求发送的速率。
                  <command>serial-query-rate</command>选项的值为一个整数，表示
                  每秒发送的最大请求数。缺省为20每秒。
                  可能的最低速率是1每秒；当设置为0时，它会被静默地提升为1。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>transfer-format</command></term>
              <listitem>

                <para>
                  区传送可以使用两种不同的格式发送，
                  <command>one-answer</command>和
                  <command>many-answers</command>。
                  <command>transfer-format</command>选项用于在主服务器上决定使
                  用那种格式发送。<command>one-answer</command>使用一个DNS消息
                  传送一个资源记录。<command>many-answers</command>将多个资源记
                  录尽可能地打包在一个消息中。<command>many-answers</command>更
                  有效率，但是仅在相对新的辅服务器中支持，如
                  <acronym>BIND</acronym> 9，<acronym>BIND</acronym> 8.x和
                  <acronym>BIND</acronym> 4.9.5之后的版本。最近的
                  Microsoft Windows名字服务器也支持
                  <command>many-answers</command>格式。
                  缺省是<command>many-answers</command>。
                  通过使用<command>server</command>语句，
                  <command>transfer-format</command>可以被覆盖成以每个服务器为
                  基础。
                </para>

              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>transfer-message-size</command></term>
	      <listitem>
		<para>
		  这是一个用于使用TCP进行区传送的DNS消息的未压缩大小的
		  上限。如果一个 消息增长超过这个大小，会增加额外的消息
		  以完成区传送。（注意，无论如何，这是一个提示，不是一个
		  硬限制；如果一个消息包含单一资源记录并且其RDATA超过了
		  这个大小限制，将允许一个更大的消息以完成这个记录的传送。）
		</para>
		<para>
		  有效值介于512和65535字节之间，任何超过这个范围的值将被
		  调整为范围内最接近的值。缺省是<literal>20480</literal>，
		  选择这个值是为了提高消息压缩：
		  大多数这个大小的DNS消息将被压缩到16536字节以内。
		  更大的消息不能被有效地压缩，因为16536是一个DNS消息内
		  最大允许压缩偏移量指针。
		</para>
		<para>
		  这个选项主要用于服务器测试；
		  设置为缺省值之外的值几乎没有收益。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>transfers-in</command></term>
              <listitem>
                <para>
                  可以同时运行的入向区传送的最大数目。缺省值是
                  <literal>10</literal>。增加<command>transfers-in</command>可
                  以加速辅区的同步，但是它也会增加本地系统的负载。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>transfers-out</command></term>
              <listitem>
                <para>
                  可以同时运行的出向区传送的最大数目。超过限制的区传送请求将
                  会被拒绝。缺省值是<literal>10</literal>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>transfers-per-ns</command></term>
              <listitem>
                <para>
                  可以同时运行的来自某个给定远程名字服务器的入向区传送的最大
                  数目。缺省值是<literal>2</literal>。增加
                  <command>transfers-per-ns</command>可以加速辅区的同步，但是它
                  也会增加远程名字服务器的负载。通过在<command>server</command>
                  语句中使用<command>transfers</command>子句，
                  <command>transfers-per-ns</command>可以被覆盖成以每个服务器为
                  基础。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>transfer-source</command></term>
              <listitem>
                <para>
                  <command>transfer-source</command>决定哪个本地地址将会被绑定
                  到IPv4的TCP连接，是用于服务器获取传入的区。它也决定更新区的请
                  求和转发动态更新所使用的源IPv4地址，及可选的UDP端口，如果未指
                  定，它缺省是一个系统控制的值，通常是“最接近”远端的接口的地
                  址。这个地址必须出现在远端的<command>allow-transfer</command>
                  选项以便能够进行区传送，如果指定了这个选项的话。这个语句为所
                  有区设置<command>transfer-source</command>，但是可以通过在配
                  置文件的<command>view</command>或<command>zone</command>块中
                  包含<command>transfer-source</command>语句而被覆盖成以每个视
                  图或每个区为基础。
                </para>
	        <note>
	          <para>
	            Solaris 2.5.1及更早期的版本不支持设置TCP套接字的源地址。
	          </para>
                </note>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>transfer-source-v6</command></term>
              <listitem>
                <para>
                  与<command>transfer-source</command>相似，除了区传送是使用
                  IPv6之外。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>alt-transfer-source</command></term>
              <listitem>
                <para>
                  一个可替换的传送源，如果在<command>transfer-source</command>
                  中列出的源失效并且设置了
                  <command>use-alt-transfer-source</command>。
                </para>
		<note><simpara>
		  如果你不希望使用一个可替换的传送源，你应该正确设置
		  <command>use-alt-transfer-source</command>，并且你不应该依赖
		  于从第一个更新请求获得一个回复。
		</simpara></note>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>alt-transfer-source-v6</command></term>
              <listitem>
                <para>
                  一个可替换的传送源，如果在
                  <command>transfer-source-v6</command>中列出的源失效并且设置了
                  <command>use-alt-transfer-source</command>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>use-alt-transfer-source</command></term>
              <listitem>
                <para>
                  是否使用可替换的传送源，如果使用视图，这个选项的省为
                  <command>no</command>，否则其缺省为<command>yes</command>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>notify-source</command></term>
              <listitem>
                <para>
                  <command>notify-source</command>决定哪个本地源地址，及可选的
                  UDP端口，将用于发送NOTIFY消息。这个地址必须出现在辅服务器的
                  <command>masters</command>区子句或
                  <command>allow-notify</command>子句中。本语句为全部区设置
                  <command>notify-source</command>，但是可以通过在配置文件的
                  <command>zone</command>或<command>view</command>块中包含
                  <command>notify-source</command>语句而被覆盖成以每个区或每个
                  视图为基础。
                </para>
	        <note>
	          <para>
	            Solaris 2.5.1及更早期的版本不支持设置TCP套接字的源地址。
	          </para>
                </note>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>notify-source-v6</command></term>
              <listitem>
                <para>
                  与<command>notify-source</command>相似，但是以IPv6地址发送通
                  知消息。
                </para>
              </listitem>
            </varlistentry>

          </variablelist>

        </section>

        <section xml:id="port_lists"><info><title>UDP端口列表</title></info>

          <para>
	    <command>use-v4-udp-ports</command>,
	    <command>avoid-v4-udp-ports</command>,
	    <command>use-v6-udp-ports</command>和
	    <command>avoid-v6-udp-ports</command>指定可以用于或不
            能用于UDP消息源端口的IPv4和IPv6UDP端口的列表。
            关于如何决定可利用的端口，参见
            <xref linkend="query_address"/>。
            例如，使用下列配置
          </para>

<programlisting>
use-v6-udp-ports { range 32768 65535; };
avoid-v6-udp-ports { 40000; range 50000 60000; };
</programlisting>

	   <para>
             从<command>named</command>发送IPv6消息的UDP端口将是下列
             范围中的一个：32768到39999，40001到49999，以及60001到
             65535。
	   </para>

	   <para>
	     <command>avoid-v4-udp-ports</command>和
	     <command>avoid-v6-udp-ports</command>可以用来防止
             <command>named</command>随机选择到被防火墙阻止或被其它应用使用
             的端口；如果一个请求带有被防火墙所阻止的源端口，回答就不会经过
             防火墙，名字服务器不得不重新请求。
             注意：期望的范围也可以只使用
             <command>use-v4-udp-ports</command>和
             <command>use-v6-udp-ports</command>来表示，在这个意义上
             <command>avoid-</command>是冗余的；提供它们是为了向后兼容性和
             有可能简化端口设定。
	   </para>
        </section>

        <section xml:id="resource_limits"><info><title>操作系统资源限制</title></info>

          <para>
            服务器使用的大多数系统资源是可以限制的。在指定资源限制时的值是可变
            的。例如，<command>1G</command>可以使用
            <command>1073741824</command>来替代，以指定一吉字节的限制。
            <command>unlimited</command>要求不限制使用，或可利用的最大数量。
            <command>default</command>使用服务器启动时强制设定的限制。参见
            <xref linkend="configuration_file_elements"/>的关于
            <command>size_spec</command>的描述。
          </para>

          <para>
            下列选项为名字服务器进程设置操作系统限制。某些操作系统不支持某些或
            任何限制。在这样的系统上，如果使用一个不支持的限制，将会发出一条警
            告。
          </para>

          <variablelist>

            <varlistentry>
              <term><command>coresize</command></term>
              <listitem>
                <para>
                  内核转储的最大大小。缺省为<literal>default</literal>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>datasize</command></term>
              <listitem>
                <para>
                  服务器可以使用的数据内存的最大数量。缺省为
                  <literal>default</literal>。这是服务器内存用量的硬限制。如果
                  服务器企图申请的内存超过这个限制，申请将会失败，将会导致服务
                  器不能执行DNS服务。所以，这个选项很少作为一种限制内存总量的方
                  式由服务器所使用，但是它可以用于在缺省值太小的情况下提升操作
                  系统数据大小的限制。如果你想限制服务器所使用的内存总量，使用
                  <command>max-cache-size</command>和
                  <command>recursive-clients</command>选项来替代。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>files</command></term>
              <listitem>
                <para>
                  服务器可以同时打开的文件的最大数目。缺省为
                  <literal>unlimited</literal>。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>stacksize</command></term>
              <listitem>
                <para>
                  服务器可以使用的栈内存的最大数量。缺省为
                  <literal>default</literal>。
                </para>
              </listitem>
            </varlistentry>

          </variablelist>

        </section>

        <section xml:id="server_resource_limits"><info><title>服务器资源限制</title></info>

          <para>
            下列选项设置了服务器对资源消耗的限额，这些限额是在服务器内部实现而
            不是由操作系统来实现的。
          </para>

          <variablelist>

            <varlistentry>
              <term><command>max-journal-size</command></term>
              <listitem>
                <para>
                  设置每个日志文件（参见<xref linkend="journal"/>）的最大大小，
                  表示成字节，或者如果后跟一个可选的单位后缀（‘k’，‘m’或‘g’），
                  成千字节，兆字节或吉字节。
                  当日志文件达到指定的大小时，其中一些最旧的事务会被自动删除。
                  允许的最大值为2G字节。
                  值会取整到4096字节的倍数。
                  可以指定<literal>unlimited</literal>，表示2吉字节。
                  如果设置限制为 <literal>default</literal>或者不设置值，
                  日志可以增长到两倍区的大小。（存储较大的日志有点微小的好处。）
                </para>
                <para>
                  这个选项也可以基于每个区来设置。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>max-records</command></term>
	      <listitem>
		<para>
		  一个区内允许的最大记录条目数。缺省是零表示没有限制。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>recursive-clients</command></term>
              <listitem>
                <para>
                  服务器代表客户端执行的并行递归查询的最大数目（“硬限额”），
                  缺省值是<literal>1000</literal>。因为每个递归查询使用相当大小
                  的内存（大致是20k字节），在内存有限的主机上可以降低
                  <command>recursive-clients</command>选项的值。
                </para>
                <para>
                  <option>recursive-clients</option>为等待的递归客户端定义
                  一个“硬限额”：当超过这个数目的客户端在等待时，新进入的请求
                  将不被接受，对每个新进入的请求，先前等待的请求将被丢弃。
                </para>
                  <para>
                    也可以设置一个“软限额”。当这个更低的限额被超过时，新进入
                    的请求被接受，但是对每个新进入的请求，一个等待的请求将被丢弃。
                    如果<option>recursive-clients</option>大于1000，软限额被
                    设置为<option>recursive-clients</option>减100；否则，它被
                    设置为<option>recursive-clients</option>的90%。
                  </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>tcp-clients</command></term>
              <listitem>
                <para>
                  服务器所能接受的并发的TCP客户端连接的最大数目。缺省是
                  <literal>150</literal>。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry xml:id="clients-per-query">
	      <term xml:id="cpq_term"><command>clients-per-query</command></term>
	      <term><command>max-clients-per-query</command></term>
              <listitem>
		<para>
		  这些设置允许同时进行的针对任何给定请求
		  （&lt;qname，qtype，qclass&gt;）的递归客户端的
		  初始数目（最小值）和最大数目，对任何超过这个数目的额外请求，
		  服务器都将扔掉。<command>named</command>会尝试自己调整这个值，
		  并将改变记入日志。缺省值为10和100。
		</para>

		<para>
	          这个值应该反映自它开始解析某个名字开始的一段时间内进来了多少个
		  针对给定名字的请求。如果请求的数目超过这个值，
		  <command>named</command>将会假定它正在与一个无响应的区打交道，
		  就会扔掉多余的请求。如果它在扔掉请求后收到响应，它会调高估值。
		  如果没有变化，20分钟后估值会被降低。
		</para>

		<para>
		  如果<command>clients-per-query</command>设为零，表示每个请求
		  的客户端没有限制，没有请求被扔掉。
		</para>

		<para>
		  如果<command>max-clients-per-query</command>设为零，表示除了
		  <command>recursive-clients</command>所设定的值外没有上限。
		</para>
              </listitem>
	    </varlistentry>

	    <varlistentry xml:id="fetches-per-zone">
	      <term><command>fetches-per-zone</command></term>
	      <listitem>
		<para>
		  对任何一个域的最大并发迭代请求数目，在这个数目内服务器会允许，
                  超过这个数目，服务器或阻塞对这个区及之下数据的请求。
		  这个值反映了在它所承担的解析时间内，对任意一个区，可以发送
                  多少个正常的解析请求。它应该小于
                  <option>recursive-clients</option>。
		</para>
		<para>
                  当多个客户端并发请求同样的名字和类型，客户端将被归并为
                  同一次解析，直到达到
                  <option>max-clients-per-query</option>限制，
                  并且只发出一个迭代请求。
                  然而，当不同的客户端并发请求
                  <emphasis>不同的</emphasis>名字或类型，将会发出
                  多个请求，而<option>max-clients-per-query</option>
                  没有限制效果。
		</para>
		<para>
		  做为可选项，这个值可以跟随关键字
		  <literal>drop</literal>或<literal>fail</literal>，
                  指示针对一个区超过解析限额的请求是毫无响应地丢弃
                  还是回应SERVFAIL。缺省是<literal>drop</literal>。
		</para>
		<para>
		  如果<command>fetches-per-zone</command>被设置为0，
                  对每个请求的解析数没有限制，不会丢弃请求。缺省是0.
		</para>
		<para>
		  当前活跃解析的名单可以通过运行
                  <command>rndc recursing</command>导出。名单包括
                  对每个域活跃解析的数目和通过的请求数目以及作为
                  <option>fetches-per-zone</option>限制结果而丢弃的
                  请求数目。（注意：这些计数器不随时间而累积；无论何时
                  一个域的活跃解析数目下降为0，这个域的计数器将被删除，
                  下一次一个解析发到这个域，就会重建计数器并被设置为0.）
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xml:id="fetches-per-server">
	      <term><command>fetches-per-server</command></term>
	      <listitem>
		<para>
		  服务器允许发送给单一上游服务器的最大并发迭代请求数目，
                  超过这个数目，服务器阻塞额外的请求。
		  这个值反映了在它所承担的解析时间内，对任意一个服务器，
                  可以发送多少个正常的解析请求。它应该小于
                  <option>recursive-clients</option>。
		</para>
		<para>
		  做为可选项，这个值可以跟随关键字
		  <literal>drop</literal>或<literal>fail</literal>，
                  指示在一个区的所有权威服务器被发现超过per-server限额时，
                  请求是应该毫无响应地丢弃还是回应SERVFAIL。
                  缺省是<literal>fail</literal>。
		</para>
		<para>
		  如果<command>fetches-per-server</command>被设置为0，
                  对每个请求的解析数没有限制，不会丢弃请求。缺省是0.
		</para>
		<para>
		  响应中的<command>fetches-per-server</command>限额是
                  动态调整以检测拥塞。发给服务器的请求要么被响应，要么
                  超时，会计算一个响应超时比率的指数加权移动平均值。
                  如果当前平均超时比率上升到超过“高”限，那台服务器的
                  <command>fetches-per-server</command>被减小。
                  如果超时比率下降到“低”限以下，
                  <command>fetches-per-server</command>被增加。
		  <command>fetch-quota-params</command>选项可以用来
                  调整这个计算的参数。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>fetch-quota-params</command></term>
	      <listitem>
		<para>
                  设置用于动态增减<option>fetches-per-server</option>
                  限额的参数。上述限额是在响应中检测拥塞。
		</para>
		<para>
		  第一个参数是一个整数，指示重新计算对每个服务器响应超时
                  比率的移动平均值的频率。缺省值是100，意谓着每100个请求
                  被回答或超时之后我们重新计算平均比率。
		</para>
		<para>
                  剩余三个参数表示“低”限（缺省是0.1的超时比率），
                  “高”限（缺省是0.3的比率）和移动平均值的折扣率
                  （缺省是0.7）。
                  越大的折扣率在计算移动平均值时使最近的事件权重更大；
                  越小的折扣率使更远的事件权重更大，平滑掉超时比率中的
                  短期噪点。
		  这些参数都是定点数，精度为1/100：小数点后至少2位是要
                  保留的。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>reserved-sockets</command></term>
              <listitem>
                <para>
                  为TCP，标准输入输出等保留的文件描述符个数。这个数需要足够
                  大，以覆盖<command>named</command>监听的接口数加上用于提供
		  向外TCP请求和入向区传送的<command>tcp-clients</command>。
		  缺省是<literal>512</literal>。最小值是
		  <literal>128</literal>，最大值是maxsockets (-S)减
                  <literal>128</literal>。这个选项在将来可能被去掉。
                </para>
                <para>
                  这个选项在Windows上几乎没有效果。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>max-cache-size</command></term>
              <listitem>
                <para>
		  用于服务器缓存的最大内存量，以字节或物理内存总量的百分比%计。
		  当缓存中的数据量达到这个限制时，服务器将使用一个基于LRU的策略
		  使记录提前作废以免超过限制。
                  关键字<userinput>unlimited</userinput>，或值0，将使缓存大小
                  没有限制；
                  记录将在TTL过期时才将其从缓存中清除。
                  任何小于2MB的正数都被忽略并重置为2MB。
                  在一个带多个视图的服务器上，这个限制分别应用到各个视图的缓
                  存上。缺省为<userinput>90%</userinput>。
                  在不支持检测物理内存的系统上，以%表示的值回退为无限制。
		  注意对物理内存的检测仅在启动时做一次，所以如果运行时发生
		  物理内存数量变化，<command>named</command>将不会调整缓存大小。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>tcp-listen-queue</command></term>
              <listitem>
                <para>
                  监听队列长度。缺省值和最小值都是10。如果内核支持接受过滤器
                  “dataready”，这个也可以控制有多少TCP连接可以在内核空间中排
                  队以等待数据被接收。小于10的非零值将被静默地提升。也可以使用
                  0；在大多数平台上这将会将监听队列长度设置为一个系统定义的
                  缺省值。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>tcp-initial-timeout</command></term>
	      <listitem>
		<para>
		  服务器等待一个新的TCP连接上客户端的第一个消息的总时间
		  （以100毫秒为单位）。
		  缺省是300（30秒），最小值是25（2.5秒），最大值是1200（2分钟）。
		  超过最大值或者低于最小值将被调整，并在日志中记录告警。
		  （注意：这个值必须大于期望的往返延迟时间；否则没有客户端
		  能够有足够的时间提交一个消息。）
                  这个值可以在运行时使用<command>rndc tcp-timeouts</command>
                  更改。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>tcp-idle-timeout</command></term>
	      <listitem>
		<para>
		  当客户端不使用EDNS TCP keepalive选项时，服务器在关闭一个
		  空闲的TCP连接之前等待的总时间（以100毫秒为单位）。
		  缺省是300（30秒），最大值是1200（2分钟），最小值是1
		  （十分之一秒）。
		  超过最大值或者低于最小值将被调整，并在日志中记录告警。
                  参见<command>tcp-keepalive-timeout</command>
                  查看客户端使用EDNS TCP keepalive选项。
                  这个值可以在运行时使用<command>rndc tcp-timeouts</command>
                  更改。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>tcp-keepalive-timeout</command></term>
	      <listitem>
		<para>
		  当客户端使用EDNS TCP keepalive选项时，服务器在关闭一个
		  空闲的TCP连接之前等待的总时间（以100毫秒为单位）。
		  缺省是300（30秒），最大值是65535（大约1.8小时），最小值是1
		  （十分之一秒）。
		  超过最大值或者低于最小值将被调整，并在日志中记录告警。
                  这个值可以大于<command>tcp-idle-timeout</command>，
                  因为使用EDNS TCP keepalive选项的客户端期望使用TCP连接
                  传送多个消息。
                  这个值可以在运行时使用<command>rndc tcp-timeouts</command>
                  更改。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>tcp-advertised-timeout</command></term>
	      <listitem>
		<para>
		  服务器在包含EDNS TCP keepalive选项的响应中发送的超时
		  值（100毫秒为单位）。
		  它通知一个客户端应该保持会话打开的总时间。
		  缺省是300（30秒），最大值是65535（大约1.8小时），最小值是0，
		  这表示客户端必须立即关闭TCP连接。
                  通常这应该被设置为与<command>tcp-keepalive-timeout</command>
                  相同的值。
                  这个值可以在运行时使用<command>rndc tcp-timeouts</command>
                  更改。
		</para>
	      </listitem>
	    </varlistentry>

          </variablelist>

        </section>

        <section xml:id="intervals"><info><title>周期的内部任务</title></info>

          <variablelist>

            <varlistentry>
              <term><command>cleaning-interval</command></term>
              <listitem>
                <para>
		  这个间隔事实上被废除了。先前，服务器将会每
		  <command>cleaning-interval</command>分钟清理一次
                  缓存，从中删除过期的资源记录。
		  <acronym>BIND</acronym> 9现在以一个更复杂的方式管理
		  缓存，并不再依赖于定期清理。
		  因此指定这个选项对服务器的行为没有任何影响。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>heartbeat-interval</command></term>
              <listitem>
                <para>
                  服务器将对所有标记为<command>dialup</command>的区执行区
                  维护任务，无论本时间间隔是否过期。缺省是60分钟。1天
                  （1440分钟）以内的值都是合理的。最大值是28天（40320分钟）。
                  如果设置为0，就不会对这些区进行区维护。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>interface-interval</command></term>
              <listitem>
                <para>
                  服务器将每<command>interface-interval</command>分钟对网络接口
                  列表进行扫描。缺省是60分钟。最大值是28天（40320分钟）。
                  如果设置为0，仅在配置文件装载后，才会进行接口扫描。
                  扫描后，服务器将开始在新发现的端口监听请求（假定这些端口在
                  <command>listen-on</command>配置中被允许），
                  并会停止在已经不存在的端口上的监听。
                  为方便起见，可以用TTL风格的时间单位后缀来指定这个值。
                </para>
              </listitem>
            </varlistentry>

          </variablelist>

        </section>

        <section xml:id="the_sortlist_statement"><info><title><command>sortlist</command>语句</title></info>

          <para>
            一个DNS请求的响应由多个资源记录（Resource Record，RR）构成，它们
            形成了一个资源记录集（RRset）。名字服务器的通常返回中，资源记录集
            中的资源记录的顺序是不确定的（但可参见
            <xref linkend="rrset_ordering"/>中的<command>rrset-order</command>
            语句）。客户端解析器代码应该适当
            地重新对资源记录排序，即，优先使用本地网络中的任何地址，然后是其它
            地址。然而，不是所有的解析器可以完成这项工作，或者被错误配置。当一
            个客户端使用一个本地服务器时，排序可以基于客户端的地址在服务器上完
            成。这仅需要配置名字服务器，完全不需要配置客户端。
          </para>

          <para>
            <command>sortlist</command>语句（见下）接受一个
	    <command>address_match_list</command>，并以一个特殊的方式解释它。
	    每个<command>sortlist</command>中的顶级语句必须使用一个或两个元素
	    在<command>address_match_list</command>中显式地指定其自身。每个
            顶级列表的第一个元素（必须是一个IP地址，一个IP前缀，一个ACL名或者
            一个嵌套的<command>address_match_list</command>）与请求的源地址
            比较，直到匹配。
          </para>

          <para>
            一旦请求的源地址匹配，如果顶级语句只包含一个元素，实际与源地址匹配
            的元素用于选择响应中的地址，通过放在响应的开始处来实现。如果语句是
	    两个元素的列表，第二个元素被解释成一个拓扑优先列表。
	    每个顶级元素被指定一个距离，响应中具有最小距离的地址被放在响应的
	    开始。
          </para>

          <para>
            在下面的例子中，从主机的任何地址所收到的任何请求将会优先得到任何本
            地连接网络地址的响应。下一个优先的是在192.168.1/24网络上的地址，然
            后是192.168.2/24或192.168.3/24网络，这两个网络之间没有优先关系。来
            自192.168.1/24网络上的主机的请求比192.168.2/24和192.168.3/24网络的
            地址优先。来自192.168.4/24或192.168.5/24网络的主机的请求将仅仅比主
            机直接连接的其它地址优先。
          </para>

<programlisting>sortlist {
    // IF the local host
    // THEN first fit on the following nets
    { localhost;
        { localnets;
            192.168.1/24;
            { 192.168.2/24; 192.168.3/24; }; }; };
    // IF on class C 192.168.1 THEN use .1, or .2 or .3
    { 192.168.1/24;
        { 192.168.1/24;
            { 192.168.2/24; 192.168.3/24; }; }; };
    // IF on class C 192.168.2 THEN use .2, or .1 or .3
    { 192.168.2/24;
        { 192.168.2/24;
            { 192.168.1/24; 192.168.3/24; }; }; };
    // IF on class C 192.168.3 THEN use .3, or .1 or .2
    { 192.168.3/24;
        { 192.168.3/24;
            { 192.168.1/24; 192.168.2/24; }; }; };
    // if .4 or .5, prefer that net
    { { 192.168.4/24; 192.168.5/24; };
    };
};</programlisting>

          <para>
            下列例子给出本地主机和本地主机直接连接网络下的合理行为。它与
            <acronym>BIND</acronym> 4.9.x中的地址排序行为很相似。发给来自本地
            主机请求的响应优先选用任何直接连接的网络。发给来自直接连接网络的其
            它主机请求的响应优先选用同一网络的地址。发给其它请求的响应不排序。
          </para>

<programlisting>sortlist {
           { localhost; localnets; };
           { localnets; };
};
</programlisting>

        </section>
        <section xml:id="rrset_ordering"><info><title id="rrset_ordering_title">资源记录集排序</title></info>

          <para>
            在一个回答中有多个记录时，配置响应中记录的顺序可能非常有用。
            <command>rrset-order</command>语句允许在一个多记录响应中配置记录的
            顺序。参见<command>sortlist</command>语句，
            <xref linkend="the_sortlist_statement"/>。
          </para>

          <para>
            <command>order_spec</command>按下列格式定义：
          </para>

          <para>
	    <optional>class <replaceable>class_name</replaceable></optional>
            <optional>type <replaceable>type_name</replaceable></optional>
            <optional>name <replaceable>"domain_name"</replaceable></optional>
	    order <replaceable>ordering</replaceable>
	  </para>
          <para>
            如果没有指定类，缺省为<command>ANY</command>。
            如果没有指定类型，缺省是<command>ANY</command>。
            如果没有指定名字，缺省是“<command>*</command>”（星号）。
          </para>

          <para>
            合法的<command>ordering</command>值是：
          </para>
          <informaltable colsep="0" rowsep="0">
            <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="4Level-table">
              <colspec colname="1" colnum="1" colsep="0" colwidth="0.750in"/>
              <colspec colname="2" colnum="2" colsep="0" colwidth="3.750in"/>
              <tbody>
                <row rowsep="0">
                  <entry colname="1">
                    <para><command>fixed</command></para>
                  </entry>
                  <entry colname="2">
                    <para>
                      以区文件中定义的顺序返回记录。
                      这个选项仅在<acronym>BIND</acronym>编译时以
                      “--enable-fixed-rrset”配置时才可用。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><command>random</command></para>
                  </entry>
                  <entry colname="2">
                    <para>
                      以随机的顺序返回记录。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><command>cyclic</command></para>
                  </entry>
                  <entry colname="2">
                    <para>
                      以循环轮转的顺序返回记录，每次请求轮转一条记录。
                    </para>
                    <para>
		      如果<acronym>BIND</acronym>在编译时使用了
                      "--enable-fixed-rrset"选项，资源记录集的初始顺序
		      会与区文件中指定的一致；
		      否则，初始顺序是不确定的。
                    </para>
                  </entry>
                </row>
		<row rowsep="0">
		  <entry colname="1">
		    <para><command>none</command></para>
		  </entry>
		  <entry colname="2">
		    <para>
		      以从数据库中提取到的顺序返回记录。
		      这个顺序是不确定的，但是会保持一致，只要数据库
		      没有被修改。
		      当没有指定顺序时，这是缺省值。
		    </para>
		  </entry>
		</row>
              </tbody>
            </tgroup>
          </informaltable>
          <para>
	  </para>
          <para>
            例如：
          </para>
<programlisting>rrset-order {
   class IN type A name "host.example.com" order random;
   order cyclic;
};
</programlisting>
          <para>
            将使响应中任何类为IN类型为A并有
            “<literal>host.example.com</literal>”
            后缀的记录以随机的顺序返回。所有其它的记录都以轮转的顺序返回。
          </para>
          <para>
            如果出现了多个<command>rrset-order</command>语句，它们不会
            组合 — 只有最后一个起作用。
          </para>
          <para>
            缺省时，记录以<command>random</command>顺序返回。
          </para>

          <note>
            <simpara>
              在这个版本的<acronym>BIND</acronym> 9中，缺省时
              <command>rrset-order</command>语句不支持“固定”顺序。可以
	      在编译时在"configure"命令行指定"--enable-fixed-rrset"打开
	      固定顺序。
            </simpara>
          </note>
        </section>

        <section xml:id="tuning"><info><title>调优</title></info>

          <variablelist>

            <varlistentry>
              <term><command>lame-ttl</command></term>
              <listitem>
                <para>
                  设置跛服务器指示的缓存秒数。0关掉缓存。（这是
                  <emphasis role="bold">不</emphasis>推荐的。）缺省为值
                  <literal>600</literal>（10分钟），最大值为
                  <literal>1800</literal>（30分钟）。
                </para>

              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>servfail-ttl</command></term>
	      <listitem>
		<para>
		  设置由于DNSSEC验证失败或者其它通用的服务器失败而导致
		  SERVFAIL响应被缓存的秒数。
		  如果设置为<literal>0</literal>，关闭SERVFAIL缓存。
		  如果一个请求带有CD（Checking Disabled）位，SERVFAIL
		  缓存不被查询；这允许由于DNSSEC验证而失败的请求能够
		  重试，而不是等待SERVFAIL的TTL过期。
		</para>
		<para>
		  最大值是<literal>30</literal>秒；更高的值将被
		  静默地减小。缺省是<literal>1</literal>秒。
		</para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>min-ncache-ttl</command></term>
	      <listitem>
		<para>
		  为了减少网络流量和提高性能，服务器存储否定响应。
                  <command>min-ncache-ttl</command>用于设置这些响应在服务器中最
                  小持时间，单位为秒。
                  为方便起见，TTL风格的时间单位后缀也可用于指定这个值。
                  缺省的<command>min-ncache-ttl</command>值是<literal>0</literal>秒。
		  <command>min-ncache-ttl</command>不能超过90秒，如果设置为更大
		  的值将被截断成90秒。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>min-cache-ttl</command></term>
	      <listitem>
		<para>
		  设置服务器缓存普通（肯定）响应的最小时间，单位为秒。
		  为方便起见，TTL风格的时间单位后缀也可用于指定这个值。
                  缺省的<command>min-cache-ttl</command>值是<literal>0</literal>秒。
		  <command>min-cache-ttl</command>不能超过90秒，如果设置为更大
		  的值将被截断成90秒。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>max-ncache-ttl</command></term>
              <listitem>
                <para>
                  为了减少网络流量和提高性能，服务器会存储否定响应。
                  <command>max-ncache-ttl</command>用于设置这些响应在服务器中最
                  大保持时间，单位为秒。
                  为方便起见，TTL风格的时间单位后缀也可用于指定这个值。
                  缺省的<command>max-ncache-ttl</command>值为
                  <literal>10800</literal>（3小时）。
                  <command>max-ncache-ttl</command>
                  不能超过7天，如果设置为更大的值，将会静默地被截为7天。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>max-cache-ttl</command></term>
              <listitem>
                <para>
		  设置服务器缓存普通（肯定）响应的最大时间，单位为秒。
                  为方便起见，TTL风格的时间单位后缀也可用于指定这个值。
		  缺省值是604800（一周）。
                  值为0可能导致所有的请求都返回SERVFAIL，因为在解析过程中会丢失
                  中间资源记录集（如NS和粘着AAAA/A记录）的缓存。
                </para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>max-stale-ttl</command></term>
	      <listitem>
		<para>
		  如果旧响应被开启，
                  <command>max-stale-ttl</command>设置服务器保留
                  那些超期记录的最大时间。
                  这些超期记录在其服务器不可达时将作为旧记录响应。
		  缺省是1周。允许的最小值是1秒；一个为0的值将被
		  静默地更新为1秒。
		</para>
		<para>
		  要返回旧记录，它们必须被开启，要么在配置文件中
                  使用<command>stale-answer-enable</command>，或者通过
		  <command>rndc serve-stale on</command>。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>sig-validity-interval</command></term>
              <listitem>
                <para>
                  指定DNSSEC签名在未来失效前的天数，这个签名是作为动态更新
                  （<xref linkend="dynamic_update"/>）的结果自动生成的。
		  有一个可选的第二字段指定在失效之前多长时间重新生成签名。
		  如果未指定，就在基本间隔的1/4时重新生成签名。如果基本间隔
		  大于7天，第二字段以天数指定，否则就以小时数指定。
		  缺省的基本间隔是<literal>30</literal>天，对应的重签名间隔
		  是7又1/2天。最大值是10年（3660天）。
                </para>
                <para>
		  签名的开始时间被无条件地设为当前时间之前一小时，以允许
		  有限的时钟误差。
                </para>
		<para>
		  <command>sig-validity-interval</command>可以为了DNSKEY记录
		  被覆盖，通过设置
		  <command>dnskey-sig-validity</command>。
		</para>
		<para>
		  <command>sig-validity-interval</command>应该至少是SOA过期
		  间隔的几倍，以允许在不同计时器和过期日期之间合理的互操作。
		</para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>dnskey-sig-validity</command></term>
	      <listitem>
		<para>
		  指定在未来的一个天数，在这个时候，为DNSKEY资源记录集
		  而自动生成的，且作为动态更新
                  （<xref linkend="dynamic_update"/>）的结果的DNSSEC
                  签名将会过期。
		  如果设置为一个非零值，这将覆盖由
		  <command>sig-validity-interval</command>所设置的值。
		  缺省是零，表示使用
		  <command>sig-validity-interval</command>。
		  最大值是3660天（10年），更大的值将被拒绝。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>sig-signing-nodes</command></term>
	      <listitem>
		<para>
		  指定在使用一个新DNSKEY签名一个区时，在每个量中检查的节点
		  的最大数目。缺省是<literal>100</literal>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>sig-signing-signatures</command></term>
	      <listitem>
		<para>
		  指定在使用一个新DNSKEY签名一个区时，签名数目的上限，如果
		  超过将会终止对一个量的处理。缺省是<literal>10</literal>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>sig-signing-type</command></term>
	      <listitem>
		<para>
		  指定一个在生成签名状态记录时会用到的私有RDATA类型。
		  缺省是<literal>65534</literal>。
		</para>
		<para>
		  一旦有了一个标准类型，预料这个参数在将来的版本中会
		  被去掉。
		</para>
		<para>
		  签名状态记录是用于<command>named</command>，用来跟踪一个区
                  签名进程的当前状态。即，它是否还存活或者已经完成。这些记录
                  可以使用命令
                  <command>rndc signing -list <replaceable>zone</replaceable></command>
                  检查。
		  一旦<command>named</command>使用一个特定密钥完成对一个区的
                  签名，与那个密钥相关的签名状态记录就可以通过执行
		  <command>rndc signing -clear <replaceable>keyid/algorithm</replaceable> <replaceable>zone</replaceable></command>
                  删除。
		  要删除一个区的所有已完成签名状态记录，使用
		  <command>rndc signing -clear all <replaceable>zone</replaceable></command>。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>min-refresh-time</command></term>
              <term><command>max-refresh-time</command></term>
              <term><command>min-retry-time</command></term>
              <term><command>max-retry-time</command></term>
              <listitem>
                <para>
                  这些选项控制服务器在刷新一个区（请求SOA看是否有变化）或者重试
		  失败的传送时的行为。通常是使用区的SOA值，直到一个硬编码的最大
		  24周的过期值。然而，这些值是由主服务器设置的，只给辅服务器管
		  理员一点点对内容的控制权。
                </para>
                <para>
		  这些选项允许管理员针对每个区，每个视图或者全局设置一个以秒计
		  的最小和最大的刷新和重试时间。
		  这些选项对辅区和存根区有效，将SOA的刷新和重试时间指定到
		  特定的值上。
                </para>
                <para>
                  下列为相应的缺省值。<command>min-refresh-time</command>
                  300秒，<command>max-refresh-time</command>
                  2419200秒（4周），<command>min-retry-time</command> 500秒，
                  <command>max-retry-time</command> 1209600秒（2周）。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>edns-udp-size</command></term>
              <listitem>
                <para>
                  设置被广告的以字节计的EDNS UDP缓存的最大大小，用以控制从
                  权威服务器接收的作为递归响应的包的大小。
                  有效值为从512到4096（超出这个范围的值将被静默地调整为范围内
                  最接近的值）。缺省值是4096。
                </para>
                <para>
                  设置<command>edns-udp-size</command>为
		  非缺省值的通常的原因是为了让UDP回答穿过坏的防火墙，这样的防火
		  墙阻止碎包和（或）阻止大于512字节的UDP DNS包通过。
                </para>
		<para>
		  当<command>named</command>首次请求一个远程服务器时，它会广告
                  一个512字节的UDP缓冲区，这样在首次试探中有最大的成功机会。
		</para>
		<para>
                  如果初始的请求，其带有512字节缓存的EDNS广告，成功后，
                  <command>named</command>将逐步在后继的请求中广告一个更大的
                  缓存，直到响应超时或者达到<command>edns-udp-size</command>。
		</para>
		<para>
                  <command>named</command>使用的缺省缓存大小为512，1232，1432和
                  4096，但不超过<command>edns-udp-size</command>。
                  （选择值1232和1432是为了让一个IPv4/IPv6封装的UDP消息能够不被
                  分片地在最小MTU的以太网和IPv6网络中发送。）
		</para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>max-udp-size</command></term>
              <listitem>
                <para>
		  设置<command>named</command>所发送的EDNS UDP消息的最大字节数。
		  有效值为从512到4096（超出这个范围的值将被静默地调整为范围内
                  最接近的值）。缺省值是4096。
                </para>
                <para>
                  这个值应用在一个服务器发出的响应；要设置请求中广告的缓存大小，
                  参见<command>edns-udp-size</command>。
                </para>
                <para>
                  设置<command>max-udp-size</command>
		  为非缺省值的通常的原因是为了让UDP回答穿过坏的防火墙，这样的防
		  火墙阻止碎包和（或）阻止大于512字节的UDP包通过。
                  这是独立于所广播的接收缓存
                  （<command>edns-udp-size</command>）。
		</para>
		<para>
		  这个值设置得越小，就会鼓励越多的TCP流量到达名字服务器。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>masterfile-format</command></term>
	      <listitem>
	        <para>
	          指定区文件的格式（参见<xref linkend="zonefile_format"/>）。缺
	          省值是<constant>text</constant>，即标准的文本表示，除非对辅区，
                  对后者缺省值为<constant>raw</constant>。
	          <constant>text</constant>之外的文件格式一般是用
	          <command>named-compilezone</command>工具生成，或由
                  <command>named</command>导出。
	        </para>
	        <para>
                  需要注意的是，
	          如果一个非<constant>text</constant>格式的区文件被装载，
	          <command>named</command>将省略某些只对<constant>text</constant>
	          格式文件才做的检查。特别的，<command>check-names</command>检
	          查不会应用到<constant>raw</constant>格式。这就意谓着
	          <constant>raw</constant>格式的区文件必须以
	          <command>named</command>配置文件中所指定的同样检查级别来生成。
                  而且，<constant>map</constant>格式的文件通过内存映射直接装
                  入内存，只有最低限度的检查。
	        </para>
	        <para>
	          本语句为所有区设置<command>masterfile-format</command>，但是
	          可以通过在配置文件中的<command>zone</command>或
	          <command>view</command>块中包含
	          <command>masterfile-format</command>语句而被覆盖成以每个服务
	          器为基础。
	        </para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>masterfile-style</command></term>
	      <listitem>
		<para>
		  当<option>masterfile-format</option>为
		  <constant>text</constant>，在导出时指定区文件的格式。
		  （在带有任何其它<option>masterfile-format</option>
		  时，这个选项被忽略。）
		</para>
		<para>
		  当设置为<constant>relative</constant>时，记录以多行格式
		  输出，其属主名被表示成相对于一个共享的起点。
		  当设置为<constant>full</constant>，记录以单行格式输出，
		  并带有绝对的属主名。
		  当一个区文件需要被一个脚本自动化处理时，
		  <constant>full</constant>格式是最适合的。
		  <constant>relative</constant>格式更适合阅读，更适合
		  手工编辑一个区。缺省是<constant>relative</constant>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xml:id="max-recursion-depth">
	      <term><command>max-recursion-depth</command></term>
	      <listitem>
		<para>
		  设置在提供递归请求服务时任意一个时刻允许的递归层级的
                  最大数目。解析一个名字时可能要求查找一个名字服务器的
                  地址，这会导致要求解析另外的名字，等等；如果间接查询
                  的次数超过了这个值，递归请求会被终止并返回SERVFAIL。
                  缺省是7.
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry xml:id="max-recursion-queries">
	      <term><command>max-recursion-queries</command></term>
	      <listitem>
		<para>
		  设置提供递归请求服务时可以发出的迭代查询的最大数目。
                  如果需要发出更多的请求，递归请求会被终止并返回
                  SERVFAIL。对诸如"com"和"net"等顶级域和DNS根区进行查找的请求
                  被豁免在这个限制之外。缺省是75。
		</para>
	      </listitem>
	    </varlistentry>

            <varlistentry>
              <term><command>notify-delay</command></term>
              <listitem>
                <para>
                  在发送一个区的通知消息集之间的延迟，单位为秒。缺省是
		  五（5）秒。
                </para>
                <para>
                  所有区所发出的NOTIFY消息的整体速率是由
                  <command>serial-query-rate</command>来控制。
                </para>
              </listitem>
            </varlistentry>

          <varlistentry>
            <term><command>max-rsa-exponent-size</command></term>
              <listitem>
                <para>
		  在验证时接受的最大RSA指数的位数。有效值是从35到4096位。
                  缺省值零（0）也可以接受，并且等效于4096.
		</para>
              </listitem>
            </varlistentry>

	    <varlistentry>
	      <term><command>prefetch</command></term>
	      <listitem>
		<para>
		  当收到一个有缓存且即将过期的请求，<command>named</command>
                  可以立即从权威服务器刷新数据，确保缓存总有答复可用。
		</para>
		<para>
		  <option>prefetch</option>指定"trigger" TTL值，在这个值将
                  进行当前请求的预取：当一个低TTL值的缓存记录在查询过程中
                  遇到，它将被刷新。有效的触发TTL值是1到10秒。超过10秒的值
                  将被静默地减到10。
                  设置一个触发TTL为零（0）将关闭预取功能。
                  缺省的触发TTL是<literal>2</literal>。
		</para>
		<para>
		  一个可选的第二参数指定"eligibility" TTL：对于一个适宜预取
                  的记录可接受的最小<emphasis>original</emphasis> TTL值。
                  适宜TTL必须至少比触发TTL大六秒：如果不是这样，
                  <command>named</command>将静默地向大调整。
                  缺省的适宜TTL是<literal>9</literal>。
		</para>
	      </listitem>
	    </varlistentry>

	    <varlistentry>
	      <term><command>v6-bias</command></term>
	      <listitem>
		<para>
		  在决定要试探的下一个名字服务器时，优先IPv6的名字服务器
		  这个毫秒数。缺省是<literal>50</literal>毫秒。
		</para>
	      </listitem>
	    </varlistentry>
	  </variablelist>

        </section>

        <section xml:id="builtin"><info><title>服务器内置信息区</title></info>

          <para>
            服务器通过在伪顶级域<literal>bind</literal>的
            <command>CHAOS</command>类中的一些内置区提供了一些有用的诊断信息。
            这些区是类<command>CHAOS</command>中内置视图
            （参见<xref linkend="view_statement_grammar"/>）的一部份，与类
            <command>IN</command>的缺省视图是分开的。
            大多数全局配置选项（<command>allow-query</command>等等）将会应用到
            这个视图，但是有一些是局部被覆盖的：<command>notify</command>，
            <command>recursion</command>和
            <command>allow-new-zones</command>总是被设置为
            <userinput>no</userinput>，并且<command>rate-limit</command>被设置
            为允许三个响应每秒。
          </para>
          <para>
            如果你需要关掉这些区，使用下面的选项，或者通过定义一个
            <command>CHAOS</command>类下的匹配所有客户端的显式视图来隐藏内置的
            <command>CHAOS</command>视图。
          </para>

          <variablelist>

            <varlistentry>
              <term><command>version</command></term>
              <listitem>
                <para>
                  服务器在收到一个类型为<command>TXT</command>，
                  类为<command>CHAOS</command>，
                  名为<literal>version.bind</literal>的请求时应该报告的版本。
                  缺省是这个服务器的真实版本号。
                  指定<command>version none</command>关掉对这个请求的处理。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>hostname</command></term>
              <listitem>
                <para>
                  服务器在收到一个类型为<command>TXT</command>，
                  类为<command>CHAOS</command>，
                  名为<filename>hostname.bind</filename>的请求时应该报告的主机
                  名。缺省为运行名字服务器的主机名，并且可以通过gethostname()
                  函数查到。这个请求的主要目的是判定在一组anycast服务器中是哪一
                  台实际回应你的请求。指定<command>hostname none;</command>
                  关掉对这个请求的处理。
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term><command>server-id</command></term>
              <listitem>
                <para>
                  服务器在收到一个名字服务器标识符（Name Server Identifier, NSID）
		  请求，或一个类型为<command>TXT</command>，
                  类为<command>CHAOS</command>，
                  名为<filename>ID.SERVER</filename>的请求时应该报告其ID。
		  这类请求的主要目的是判定在一组anycast服务器中是
                  哪一台实际回应你的请求。指定
                  <command>server-id none;</command>关掉对这个请求的处理。指定
                  <command>server-id hostname;</command>将使
		  <command>named</command>使用由
                  gethostname()函数所查到的主机名。
                  缺省<command>server-id</command>是<command>none</command>。
                </para>
              </listitem>
            </varlistentry>

          </variablelist>

        </section>

        <section xml:id="empty"><info><title>内置空区</title></info>

	  <para>
            <command>named</command>服务器有一些内置空区（仅含有SOA和NS记录）。
            这是通常情况下只应在本地
	    响应而不应该发到互联网的根服务器上的请求。覆盖这些名字空间的官方服
	    务器会对这些请求响应NXDOMAIN。特别地，这些覆盖了来自于RFC 1918，
            RFC 4193，RFC 5737和RFC 6598。这些也包含IPv6本地地址（本地分配的）
            的反向名字空间，IPv6链路本地地址，IPv6环回地址和IPv6未知地址。
	  </para>
	  <para>
	    服务器将试图决定是否一个内置区已经存在或者是激活的（被一个
	    forward-only的转发定义所覆盖），并且在此情况不会创建一个空区。
	  </para>
	  <para>
	    当前的空区列表为：
	    <itemizedlist>
	      <listitem>10.IN-ADDR.ARPA</listitem>
	      <listitem>16.172.IN-ADDR.ARPA</listitem>
	      <listitem>17.172.IN-ADDR.ARPA</listitem>
	      <listitem>18.172.IN-ADDR.ARPA</listitem>
	      <listitem>19.172.IN-ADDR.ARPA</listitem>
	      <listitem>20.172.IN-ADDR.ARPA</listitem>
	      <listitem>21.172.IN-ADDR.ARPA</listitem>
	      <listitem>22.172.IN-ADDR.ARPA</listitem>
	      <listitem>23.172.IN-ADDR.ARPA</listitem>
	      <listitem>24.172.IN-ADDR.ARPA</listitem>
	      <listitem>25.172.IN-ADDR.ARPA</listitem>
	      <listitem>26.172.IN-ADDR.ARPA</listitem>
	      <listitem>27.172.IN-ADDR.ARPA</listitem>
	      <listitem>28.172.IN-ADDR.ARPA</listitem>
	      <listitem>29.172.IN-ADDR.ARPA</listitem>
	      <listitem>30.172.IN-ADDR.ARPA</listitem>
	      <listitem>31.172.IN-ADDR.ARPA</listitem>
	      <listitem>168.192.IN-ADDR.ARPA</listitem>
	      <listitem>64.100.IN-ADDR.ARPA</listitem>
	      <listitem>65.100.IN-ADDR.ARPA</listitem>
	      <listitem>66.100.IN-ADDR.ARPA</listitem>
	      <listitem>67.100.IN-ADDR.ARPA</listitem>
	      <listitem>68.100.IN-ADDR.ARPA</listitem>
	      <listitem>69.100.IN-ADDR.ARPA</listitem>
	      <listitem>70.100.IN-ADDR.ARPA</listitem>
	      <listitem>71.100.IN-ADDR.ARPA</listitem>
	      <listitem>72.100.IN-ADDR.ARPA</listitem>
	      <listitem>73.100.IN-ADDR.ARPA</listitem>
	      <listitem>74.100.IN-ADDR.ARPA</listitem>
	      <listitem>75.100.IN-ADDR.ARPA</listitem>
	      <listitem>76.100.IN-ADDR.ARPA</listitem>
	      <listitem>77.100.IN-ADDR.ARPA</listitem>
	      <listitem>78.100.IN-ADDR.ARPA</listitem>
	      <listitem>79.100.IN-ADDR.ARPA</listitem>
	      <listitem>80.100.IN-ADDR.ARPA</listitem>
	      <listitem>81.100.IN-ADDR.ARPA</listitem>
	      <listitem>82.100.IN-ADDR.ARPA</listitem>
	      <listitem>83.100.IN-ADDR.ARPA</listitem>
	      <listitem>84.100.IN-ADDR.ARPA</listitem>
	      <listitem>85.100.IN-ADDR.ARPA</listitem>
	      <listitem>86.100.IN-ADDR.ARPA</listitem>
	      <listitem>87.100.IN-ADDR.ARPA</listitem>
	      <listitem>88.100.IN-ADDR.ARPA</listitem>
	      <listitem>89.100.IN-ADDR.ARPA</listitem>
	      <listitem>90.100.IN-ADDR.ARPA</listitem>
	      <listitem>91.100.IN-ADDR.ARPA</listitem>
	      <listitem>92.100.IN-ADDR.ARPA</listitem>
	      <listitem>93.100.IN-ADDR.ARPA</listitem>
	      <listitem>94.100.IN-ADDR.ARPA</listitem>
	      <listitem>95.100.IN-ADDR.ARPA</listitem>
	      <listitem>96.100.IN-ADDR.ARPA</listitem>
	      <listitem>97.100.IN-ADDR.ARPA</listitem>
	      <listitem>98.100.IN-ADDR.ARPA</listitem>
	      <listitem>99.100.IN-ADDR.ARPA</listitem>
	      <listitem>100.100.IN-ADDR.ARPA</listitem>
	      <listitem>101.100.IN-ADDR.ARPA</listitem>
	      <listitem>102.100.IN-ADDR.ARPA</listitem>
	      <listitem>103.100.IN-ADDR.ARPA</listitem>
	      <listitem>104.100.IN-ADDR.ARPA</listitem>
	      <listitem>105.100.IN-ADDR.ARPA</listitem>
	      <listitem>106.100.IN-ADDR.ARPA</listitem>
	      <listitem>107.100.IN-ADDR.ARPA</listitem>
	      <listitem>108.100.IN-ADDR.ARPA</listitem>
	      <listitem>109.100.IN-ADDR.ARPA</listitem>
	      <listitem>110.100.IN-ADDR.ARPA</listitem>
	      <listitem>111.100.IN-ADDR.ARPA</listitem>
	      <listitem>112.100.IN-ADDR.ARPA</listitem>
	      <listitem>113.100.IN-ADDR.ARPA</listitem>
	      <listitem>114.100.IN-ADDR.ARPA</listitem>
	      <listitem>115.100.IN-ADDR.ARPA</listitem>
	      <listitem>116.100.IN-ADDR.ARPA</listitem>
	      <listitem>117.100.IN-ADDR.ARPA</listitem>
	      <listitem>118.100.IN-ADDR.ARPA</listitem>
	      <listitem>119.100.IN-ADDR.ARPA</listitem>
	      <listitem>120.100.IN-ADDR.ARPA</listitem>
	      <listitem>121.100.IN-ADDR.ARPA</listitem>
	      <listitem>122.100.IN-ADDR.ARPA</listitem>
	      <listitem>123.100.IN-ADDR.ARPA</listitem>
	      <listitem>124.100.IN-ADDR.ARPA</listitem>
	      <listitem>125.100.IN-ADDR.ARPA</listitem>
	      <listitem>126.100.IN-ADDR.ARPA</listitem>
	      <listitem>127.100.IN-ADDR.ARPA</listitem>
	      <listitem>0.IN-ADDR.ARPA</listitem>
	      <listitem>127.IN-ADDR.ARPA</listitem>
	      <listitem>254.169.IN-ADDR.ARPA</listitem>
	      <listitem>2.0.192.IN-ADDR.ARPA</listitem>
	      <listitem>100.51.198.IN-ADDR.ARPA</listitem>
	      <listitem>113.0.203.IN-ADDR.ARPA</listitem>
	      <listitem>255.255.255.255.IN-ADDR.ARPA</listitem>
	      <listitem>0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA</listitem>
	      <listitem>1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.IP6.ARPA</listitem>
	      <listitem>8.B.D.0.1.0.0.2.IP6.ARPA</listitem>
	      <listitem>D.F.IP6.ARPA</listitem>
	      <listitem>8.E.F.IP6.ARPA</listitem>
	      <listitem>9.E.F.IP6.ARPA</listitem>
	      <listitem>A.E.F.IP6.ARPA</listitem>
	      <listitem>B.E.F.IP6.ARPA</listitem>
              <listitem>EMPTY.AS112.ARPA</listitem>
              <listitem>HOME.ARPA</listitem>
	    </itemizedlist>
	  </para>
	  <para>
	    可以在视图一级设置空区，并且只应用到IN类的视图。仅当没有在视图一级
	    指定被禁止的空区时，被禁止的空区才派生自options。要重载被禁止区的选
	    项列表，你需要在视图一级禁止根区，例如：
<programlisting>
	    disable-empty-zone ".";
</programlisting>
	  </para>
	  <para>
	    如果你正在使用这里所列的地址范围，你应该已经有反向区来覆盖你所用的
	    地址。在实际中，不会出现这样的情况，即许多请求发向基础的服务器来查
	    找这个空间中的名字。在实际情况中有太多这样的情况，需要部署牺牲服务
	    器来将查询负载从基础服务器引导出来。
	  </para>
	  <note><simpara>
	    在这些区的真实的上级服务器中，应该禁止其下的所有空区。对真正的根服
	    务器，这都是内建空区。这使它们能够返回树中对更深一级的引用。
	  </simpara></note>
          <variablelist>
	    <varlistentry>
	      <term><command>empty-server</command></term>
	      <listitem>
	        <para>
		  指定出现在空区的SOA记录中的服务器名字。如果未指定，
		  就使用区的名字。
	        </para>
	       </listitem>
	    </varlistentry>
	      
	    <varlistentry>
	      <term><command>empty-contact</command></term>
	      <listitem>
	        <para>
		  指定出现在空区的SOA记录中的联系人名字。如果未指定，
		  就使用“.”。
	        </para>
	      </listitem>
	    </varlistentry>
  
	    <varlistentry>
	      <term><command>empty-zones-enable</command></term>
	      <listitem>
	        <para>
		  打开或关闭所有的空区。缺省是打开的。
	        </para>
	      </listitem>
	    </varlistentry>
  
	    <varlistentry>
	    <term><command>disable-empty-zone</command></term>
	      <listitem>
	        <para>
		  关闭单独的空区。缺省没有空区是关闭的。这个选项可以多次指定。
	        </para>
	      </listitem>
	    </varlistentry>
          </variablelist>
        </section>
  
        <section xml:id="content_filtering"><info><title>内容过滤</title></info>

	  <para>
	    <acronym>BIND</acronym> 9提供了过滤来自外部DNS服务器的，
	    在回答部份包含某种类型数据的DNS响应的能力。
	    特别地，如果相关的IPv4或IPv6地址与
	    <command>deny-answer-addresses</command>所给出的
	    <varname>address_match_list</varname>匹配，它可以拒绝
	    地址（A或者AAAA）记录。
	    它也可以拒绝CNAME或DNAME记录，如果“别名”（即CNAME
	    别名或由于DNAME而被替换的请求名）与
	    <command>deny-answer-aliases</command>选项所给出的
	    <varname>namelist</varname>匹配时，这里所指的“匹配”
	    表示别名是<varname>name_list</varname>中一个元素的
	    一个子域。
	    如果伴随<command>except-from</command>指定了可选的
	    <varname>namelist</varname>，请求名与列表匹配的记录也会
	    被接受，而不考虑过滤设置。
	    同样地，如果别名是相应区的一个子域，
	    <command>deny-answer-aliases</command>过滤器也不会生效；
	    例如，即使给<command>deny-answer-aliases</command>
	    指定了“example.com”，
	  </para>
<programlisting>www.example.com. CNAME xxx.example.com.</programlisting>

	  <para>
	    来自一个“example.com”服务器的响应也会被接受。
	  </para>

	  <para>
	    在<command>deny-answer-addresses</command>选项的
	    <varname>address_match_list</varname>中，只有
	    <varname>ip_addr</varname>和
	    <varname>ip_prefix</varname>有意义；任何
	    <varname>key_id</varname>将会被静默地忽略。
	  </para>

	  <para>
	    如果一个响应消息因为过滤而被拒绝，整个消息将会被丢弃
	    并且不会缓存，还会返回一个SERVFAIL错误给客户端。
	  </para>

	  <para>
	    这个过滤器是为了阻止“DNS重绑定攻击”，在这种攻击中，攻击者
	    对查询一个攻击者所控制的域名的请求，返回一个你自己网络内的
	    IP地址或者一个你自己域内的一个别名。
	    一个幼稚的网页浏览器或者脚本可能无意会充当代理，会让
	    攻击者访问你的局域网络中的内部节点，而这本不是外部
	    所能够访问到的。
	    关于这个攻击更详细的内容参见
            <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://portal.acm.org/citation.cfm?id=1315245.1315298">
	    http://portal.acm.org/citation.cfm?id=1315245.1315298
	    </link>
	    处的论文。
	  </para>

	  <para>
	    例如，如果你拥有一个域名“example.net”并且你的内部网络
	    使用192.0.2.0/24的IPv4前缀，你可能设定如下规则：
	  </para>

<programlisting>deny-answer-addresses { 192.0.2.0/24; } except-from { "example.net"; };
deny-answer-aliases { "example.net"; };
</programlisting>

	  <para>
	    如果一个外部攻击者让你局域网内的一个网页浏览器查找
	    “attacker.example.com”的IPv4地址，攻击者的DNS服务器会
	    返回一个在回答部份中有像这样记录的响应：
	  </para>

<programlisting>attacker.example.com. A 192.0.2.1</programlisting>

	  <para>
	    由于这个记录（IPv4地址）的rdata与所设定的前缀192.0.2.0/24
	    匹配，这个响应将会被忽略。
	  </para>

	  <para>
	    另一方面，如果浏览器查找一个合法的内部web服务器
	    “www.example.net”并且下列响应被返回给
	    <acronym>BIND</acronym> 9服务器
	  </para>

<programlisting>www.example.net. A 192.0.2.2</programlisting>

	  <para>
	    这个响应会被接受，因为属主名“www.example.net”与
	    <command>except-from</command>的设置“example.net”匹配。
	  </para>

	  <para>
	    注意这个本身并非真正是对DNS的攻击。实际上，一个“外部的”
	    名字映射到你“内部的”IP地址或者来自一个视图点上的域名
	    没有任何错误。
	    它实际上可能被用作合法目的，例如调试。
	    由于这个映射表是由正确的属主所提供的，在DNS中检测这个映射的
	    目的是否合法就是不可能的或者是没有意义的。
	    “重绑定”攻击首先必须由使用DNS的应用进行防护。然而，对一个
	    大的站点，立即保护所有可能的应用是很困难的。
	    提供这个过滤特征仅仅是为了对这种运行环境有所帮助；
	    通常是不鼓励打开这个功能，除非你很清楚没有其它的选择，并且
	    攻击对你的应用而言是一个现实的威胁。
	  </para>

	  <para>
	    如果你想在地址段127.0.0.0/8中使用这个选项，就需要特别小心。
	    这些地址显然是“内部的”地址，但是许多应用传统上依赖DNS将
	    某些名字映射到这样的地址。
	    过滤包含这类地址的DNS记录可能会破坏这类应用。
	  </para>
	</section>
        <section xml:id="rpz"><info><title>响应策略区（RPZ）重写</title></info>

	  <para>
	    <acronym>BIND</acronym> 9包含了一个限制机制，它修改请求
            的DNS响应，类似于电子邮件中的反垃圾邮件DNS黑名单。响应
            可以被修改成某个域名不存在（NXDOMAIN），某个域名的IP地址不存在
            （NODATA），或者包含其它的IP地址或数据。
	  </para>

	  <para>
            响应策略区在视图中的<command>response-policy</command>选项中
            命名，或者当视图中没有response-policy选项时在全局选项中命名。
	    响应策略区是普通的DNS区，包含资源记录集，
            在允许时可以进行普通的查询。
            通常最好使用某些规则限制那些请求，如：
	    <command>allow-query { localhost; };</command>。
            注意，使用了<command>masterfile-format map</command>的区不能
            用作策略区。
	  </para>

	  <para>
            <command>response-policy</command>选项可以支持多个策略区。
            为最大化性能，使用一个基数树来快速识别包含与当前查询匹配的触发器
            的响应策略区。这强制一个<command>response-policy</command>选项中
            策略区的数量上限为64；超过那个数就是一个配置错误。
	  </para>
          <para>
            在响应策略区中编码的规则在
            <link linkend="access_control">访问控制表（ACL）</link>之后处理。
            来自不被允许访问本解析器的客户端的所有请求都将得到
            带一个 REFUSED 状态码的回复，而不管所配置的RPZ规则。
          </para>

	  <para>
	    在RPZ记录中可以编码五种策略触发器。
	    <variablelist>
	      <varlistentry>
		<term><command>RPZ-CLIENT-IP</command></term>
		<listitem>
		  <para>
                    IP记录由DNS客户端的IP地址触发。
                    客户端IP地址触发器被编码到的记录中，其属主名是
                    <userinput>rpz-client-ip</userinput>的子域名，它相对于
                    策略区原点名字，并编码一个地址或地址块。
                    IPv4地址被表示为
	            <userinput>prefixlength.B4.B3.B2.B1.rpz-client-ip</userinput>。
                    IPv4前缀长度必须在1和32之间。
	            所有四个字节，B4，B3，B2和B1，都必须出现。
	            B4是IPv4地址中的最低字节的十进制数值，如同在IN-ADDR.ARPA
                    中一样。
		  </para>
		  <para>
	            IPv6被编码成类似于标准的IPv6文本表示格式，
	            <userinput>prefixlength.W8.W7.W6.W5.W4.W3.W2.W1.rpz-client-ip</userinput>。
	            W8，...，W1中的每个都是一个一到四位的十六进制数，表示IPv6
                    地址中的16位，如同IPv6地址的标准文本表示法，但是是如同
                    IN6.ARPA中的反向表示的。（注意，这个IPv6地址表示是与IP6.ARPA中
                    的每个16进制数字占据一个标记是不同的。）
	            所有的8个双字节都必须出现，除非一个连续值为零的双字节集合，
                    后者被替换为<userinput>.zz.</userinput>，类似于标准IPv6文本
                    编码中的双冒号（::）。
	            IPv6前缀长度必须在1和128之间。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>QNAME</command></term>
		<listitem>
		  <para>
                    QNAME策略记录由请求中的请求名所触发，并且CNAME记录所指向的
                    目标被解析用以生成响应。
                    一个QNAME策略记录的属主名是与策略区相对的请求名。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>RPZ-IP</command></term>
		<listitem>
		  <para>
                    IP触发器是一个响应中ANSWER部份中的一个A或AAAA记录中的
                    IP地址。
                    它们被编码成类似客户端IP触发器，除了作为
                    <command>rpz-ip</command>的子域名之外。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>RPZ-NSDNAME</command></term>
		<listitem>
		  <para>
	            NSDNAME触发器用权威服务器的名字去匹配请求名，一个请求名的
                    父域，一个请求名的CNAME或者一个CNAME的父域。它们被编码成
                    相对于RPZ原点的<userinput>rpz-nsdname</userinput>的子域名。
	            NSIP触发器用A和AAAA资源记录集中的IP地址匹配域名，后者可以与
                    NSDNAME策略记录比对。
		    <command>nsdname-enable</command>子句为单一策略区或所有
		    策略区关闭或打开 NSDNAME 触发器。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>RPZ-NSIP</command></term>
		<listitem>
		  <para>
		    NSIP触发器匹配权威服务器的IP地址。
		    他们被编码成类似IP触发器，除了作为
                    <userinput>rpz-nsip</userinput>的子域名之外。
                    NSDNAME和NSIP触发器仅在名字至少带有
                    <command>min-ns-dots</command>个点时才被检查。
                    <command>min-ns-dots</command>的缺省值是1，以排除顶级域。
		    <command>nsip-enable</command>子句为单一策略区或所有
		    策略区关闭或打开 NSIP 触发器。
		  </para>
		  <para>
		    如果一个名字服务器的IP地址还是未知，
		    <command>named</command>将在应用一条RPZ-NSIP规则
		    之前递归查找这个IP地址。
		    这会导致处理延迟。
		    要以精确的成本来加速处理，可以使用
		    <command>nsip-wait-recurse</command>选项：
		    当设置为<userinput>no</userinput>时，RPZ-NSIP规则
		    仅应用在一个名字服务器的IP地址已经被查找并缓存的
		    情况。
		    如果一个名字服务器的IP地址不在缓存中，RPZ-NSIP规则
		    将被忽略，但地址将在后台被查找，这条规则将应用到
		    后续的请求上。
		    缺省是<userinput>yes</userinput>，表示RPZ-NSIP规则
		    应该总是应用，即使一个地址需要先查找。
		  </para>
		</listitem>
	      </varlistentry>
	    </variablelist>
	  </para>

	  <para>
	    查询响应将与所有响应策略区进行比对，所以两条或多条策略记录可以被
            一条响应所触发。由于DNS响应根据至多一条策略记录被重写，必须选择一条
            策略编码一个动作（除<command>DISABLED</command>策略之外）。
	    以下列顺序为重写选择编码它们的触发器或记录：
            <orderedlist inheritnum="ignore" continuation="restarts">
	      <listitem>选择区中最先在<command>response-policy</command>选项中
                出现的触发器记录。
	      </listitem>
	      <listitem>在单个区中，按CLIENT-IP，QNAME，IP，NSDNAME，NSIP的顺序
                使用触发器。
	      </listitem>
	      <listitem>在NSDNAME触发器中，优先使用匹配DNSSEC顺序下最小名字的
                触发器。
	      </listitem>
	      <listitem>在IP或者NSIP触发器之间，优先选择具有最长前缀的触发器。
	      </listitem>
	      <listitem>在带有相同前缀长度的触发器之间，优先选择匹配最小IP地址
                的IP或NSIP触发器。
	      </listitem>
	    </orderedlist>
	  </para>

	  <para>
	    当一个响应的处理被重新开始解析DNAME或CNAME记录并且没有策略记录被
            触发，所有的响应策略区被重新针对DNAME或者CNAME名字和地址查找。
	  </para>

	  <para>
	    RPZ记录集是除了DNAME或DNSSEC之外的任何类型的DNS记录，它编码了
            针对请求的动作或响应。
            任何策略可以与任何触发器一起使用。例如，
            <command>TCP-only</command>策略通常与
            <command>client-IP</command>触发器一起使用，但它也可以与任意
            其它类型的触发器一起使用，并强制一个区中对属主名的响应使用TCP。
	    <variablelist>
	      <varlistentry>
		<term><command>PASSTHRU</command></term>
		<listitem>
		  <para>
                    白名单策略由一个目标为<command>rpz-passthru</command>的
                    CNAME所指定。
		    它使响应不被重写，通常用于在CIDR块的策略中"挖出小洞"。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>DROP</command></term>
		<listitem>
		  <para>
                    黑名单策略由一个目标为<command>rpz-drop</command>的
                    CNAME所指定。
                    它使响应被丢弃。不发送任何响应给DNS客户端。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>TCP-Only</command></term>
		<listitem>
		  <para>
                    "slip"策略由一个目标为<command>rpz-tcp-only</command>的
                    CNAME所指定。
                    它修改UDP响应为短小的、被截断的DNS响应，要求DNS客户端使用
                    TCP重试。
                    它用于缓解分布式DNS反射攻击。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>NXDOMAIN</command></term>
		<listitem>
		  <para>
                    未定义域名响应由一个目标为根域（.）的CNAME编码。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>NODATA</command></term>
		<listitem>
		  <para>
		    资源记录的空集由目标为通配顶级域（*.）的CNAME指定。
                    它重写响应为NODATA或ANCOUNT=0。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>Local Data</command></term>
		<listitem>
		  <para>
                    一个普通DNS记录所组成的集合可以用于回答请求。
                    请求不在集合中的记录类型将会得到NODATA应答。
		  </para>

		  <para>
                    本地数据的一个特殊形式是一条目标为一个通配符，如
                    *.example.com，的CNAME。
                    它通常被用作一个普通的CNAME，在星号（*）被请求名替换之后。
                    这个特殊形式的目的是在围墙花园（原文：walled garden）内的
                    权威DNS服务器上作请求日志。
		  </para>
		</listitem>
	      </varlistentry>
	    </variablelist>
	  </para>

            一个使用由另一个组织所提供的RPZ的组织可以使用这个机制来重定向域名
            到它自己的围墙花园。
	  <para>
            在一个策略区中所有由全部单个记录指定的动作可以被
            <command>response-policy</command>选项中的
            <command>policy</command>字句所覆盖。
            一个使用由另一个组织所提供的策略区的组织可以使用这个机制来重定向
            域名到它自己的围墙花园。
	    <variablelist>
	      <varlistentry>
		<term><command>GIVEN</command></term>
		<listitem>
		  <para>站位符策略表示"不覆盖但是执行区中所指定的动作。"
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>DISABLED</command></term>
		<listitem>
		  <para>
	            测试覆盖策略导致策略区记录不做任何事情，但是记录如果策略区
                    未被关闭时可能做的事情。
                    对DNS请求的应答将根据任何被触发的未被关闭的策略记录被重写
                    （或不被重写）。
                    关闭的策略区应放在最前面，因为如果一个更高优先级的触发器
                    在前面时，它们通常都不会被记录。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>PASSTHRU</command></term>,
		<term><command>DROP</command></term>,
		<term><command>TCP-Only</command></term>,
		<term><command>NXDOMAIN</command></term>
		和
		<term><command>NODATA</command></term>
		<listitem>
		  <para>
		    使用对应的每记录策略覆盖。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		  <term><command>CNAME domain</command></term>
		  <listitem>
		    <para>
	              导致所有RPZ策略记录表现为好像它们是"cname domain"记录。
		    </para>
		  </listitem>
		</varlistentry>
	    </variablelist>
	  </para>

	  <para>
	    缺省时，在一个响应策略区中编码的动作仅应用到要求递归（RD=1）的请求。
            这个缺省可以在一个视图中使用一条
            <command>recursive-only no</command>子句为一个策略区或全部
            响应策略区而被改变。
            这个特性在下面的情况很有用，在一个RFC 1918云的内部和外部有同样的
            区文件，并使用RPZ来删除外部可见的名字服务器或视图上可能包含的
            RFC 1918值。
	  </para>

	  <para>
	    同样缺省的是，RPZ动作仅应用于那些要么不要求DNSSEC元数据（DO=0），
            要么在原始区中没有请求名的DNSSEC记录的DNS请求中。
            这个缺省可以在一个视图中使用<command>break-dnssec yes</command>
            子句而对所有响应策略区被改变。
            在这种情况下，RPZ动作被应用而不考虑DNSSEC。子句选项的名字反映了
            被RPZ动作所重写的结果不能被验证的事实。
	  </para>

	  <para>
	    对一个QNAME或Client-IP触发器，不需要DNS记录。
            名字或者IP地址自身就已足够，所以原则上请求名不需要被递归解析。
            但是，不解析请求名可能泄漏使用了策略区重写和名字被列入一个策略区
            的事实给所列名字的服务器的操作者。
            为阻止这个信息泄漏，缺省一个请求所需的任何递归查询都在任何策略
            触发器被考虑之前完成。因为列出的域名通常有较慢的权威服务器，
            这个行为可能花费大量时间。
	    当递归查询不能改变一个非错误响应时，
            <command>qname-wait-recurse yes</command>选项覆盖缺省并开启这个行为。
            这个选项不影响列在其它包含IP，NSIP和NSDNAME触发器的区之后的策略区中
            的QNAME或client-IP触发器，因为那些（触发器）可能依赖在递归解析中会被
            发现的A，AAAA和NS记录。
            它也不影响DNSSEC请求（DO=1），除非使用了
            <command>break-dnssec yes</command>，因为响应会依赖解析中是否发现了
            RRSIG记录。
            使用这个选项可能导致诸如出现SERVFAIL的错误响应被重写，由于没有
            递归查询被完成，以发现权威服务器中的问题。
	  </para>

	  <para>
	    <command>dnsrps-enable yes</command>选项打开DNS响应策略服务
	    （DNSRPS）接口，如果它已经使用
	    <command>configure --enable-dnsrps</command>编译进了
	    <command>named</command>。
	  </para>

	  <para>
	    <command>dnsrps-options</command>块提供额外的RPZ配置设置，它会
	    被传递给DNSRPS提供者库。
            在一个<command>dnsrps-options</command>串中的多个DNSRPS设置
            应当使用分号分开。
	    The DNSRPS provider, librpz, is passed a configuration string
	    consisting of the <command>dnsrps-options</command> text,
	    concatenated with settings derived from the
	    <command>response-policy</command> statement.
	  </para>

	  <para>
	    注意：<command>dnsrps-options</command>文本只能包含与具体DNSRPS
	    提供者相关的配置设置。例如，来自Farsight Security的DNSRPS提供者
	    使用的选项有
	    <command>dnsrpzd-conf</command>，
	    <command>dnsrpzd-sock</command>和
	    <command>dnzrpzd-args</command>（关于这些选项的详细信息，
	    参见<command>librpz</command>文档）。
	    其它RPZ配置设置也可以被包含进
	    <command>dnsrps-options</command>，但是如果
	    <command>named</command>通过设置<command>dnsrps-enable</command>
	    为“no”而切换到传统的RPZ时，这些选项都会被忽略。
	  </para>

	  <para>
	    一个被RPZ策略所修改的记录的TTL根据策略区中相关记录的TTL来设置。
            它被限制为一个最大值。
            <command>max-policy-ttl</command>子句从其缺省值5改变最大值秒数。
            为方便起见，TTL风格的时间单位后缀也可用于指定这个值。
	  </para>

	  <para>
	    例如，你可能使用这个选项语句
          </para>
<programlisting>    response-policy { zone "badlist"; };</programlisting>
          <para>
            和这个区语句
          </para>
<programlisting>    zone "badlist" {type master; file "master/badlist"; allow-query {none;}; };</programlisting>
          <para>
            以及这个区文件
          </para>
<programlisting>$TTL 1H
@                       SOA LOCALHOST. named-mgr.example.com (1 1h 15m 30d 2h)
                        NS  LOCALHOST.

; QNAME policy records.  There are no periods (.) after the owner names.
nxdomain.domain.com     CNAME   .               ; NXDOMAIN policy
*.nxdomain.domain.com   CNAME   .               ; NXDOMAIN policy
nodata.domain.com       CNAME   *.              ; NODATA policy
*.nodata.domain.com     CNAME   *.              ; NODATA policy
bad.domain.com          A       10.0.0.1        ; redirect to a walled garden
                        AAAA    2001:2::1
bzone.domain.com        CNAME   garden.example.com.

; do not rewrite (PASSTHRU) OK.DOMAIN.COM
ok.domain.com           CNAME   rpz-passthru.

; redirect x.bzone.domain.com to x.bzone.domain.com.garden.example.com
*.bzone.domain.com      CNAME   *.garden.example.com.


; IP policy records that rewrite all responses containing A records in 127/8
;       except 127.0.0.1
8.0.0.0.127.rpz-ip      CNAME   .
32.1.0.0.127.rpz-ip     CNAME   rpz-passthru.

; NSDNAME and NSIP policy records
ns.domain.com.rpz-nsdname   CNAME   .
48.zz.2.2001.rpz-nsip       CNAME   .

; blacklist and whitelist some DNS clients
112.zz.2001.rpz-client-ip    CNAME   rpz-drop.
8.0.0.0.127.rpz-client-ip    CNAME   rpz-drop.

; force some DNS clients and responses in the example.com zone to TCP
16.0.0.1.10.rpz-client-ip   CNAME   rpz-tcp-only.
example.com                 CNAME   rpz-tcp-only.
*.example.com               CNAME   rpz-tcp-only.

</programlisting>
          <para>
            RPZ会影响服务器性能。每个已配置的响应策略区都会使一个请求被回答前
            要求服务器执行一到四次额外的数据库查找。
            例如，一个DNS服务器有四个策略区，每个有四种类型的响应触发器，
            QNAME，IP，NSIP和NSDNAME，会要求进行相当于一个没有响应策略区的普通
            DNS服务器17倍的数据库查找。
            一个<acronym>BIND9</acronym>服务器，带有足够内存和一个带QNAME和IP
            触发器的响应策略区可能比最大每秒请求数下降约20%。一个有四个带
            QNAME和IP触发器的响应策略区的服务器可能比最大QPS下降约50%。
          </para>

          <para>
            由RPZ所重写的响应在<command>RPZRewrites</command>统计中被计数。
          </para>

	  <para>
	    可以使用<command>log</command>子句来选择性关闭对某个特定响应策略区
	    的重写日志。缺省时，所有重写都被记录到日志。
	  </para>

	  <para>
	    <command>add-soa</command>选项控制RPZ的SOA记录是否被添加到附加部份
	    以回溯这个区中的变化。这个可以在单独的策略区级别或者在响应策略级别
	    设置。
            缺省是<literal>yes</literal>。
	  </para>

	  <para>
	    对RPZ区的更新是异步处理的；如果存在多个更新，它们会被捆绑在一起。
	    如果一个队RPZ区的更新（例如，通过IXFR）在最近的更新之后还不到
            <option>min-update-interval</option>秒，这个改变就不会被执行，
            直到这个间隔时间之后。
            缺省是<literal>60</literal>秒。
            为方便起见，TTL风格的时间单位后缀也可用于指定这个值。
	  </para>
        </section>

	<section xml:id="rrl"><info><title>响应比率限制</title></info>

	  <para>
            过多的几乎同样的UDP<emphasis>responses</emphasis>可以通过在一个
            <command>options</command>或<command>view</command>语句中
            配置<command>rate-limit</command>子句来控制。
            这个机制使权威的BIND 9免于被用于放大反射拒绝服务（DoS）攻击。
            可以通过发送短截断（TC=1）响应来提供按比率限制的响应给位于一个
            伪造的、受攻击的IP地址范围中的合法客户端。
	    合法的客户端对丢弃或截断响应的反应分别是使用UDP或TCP重试。
	  </para>

	  <para>
	    这个机制目的是用于权威DNS服务器。它也可以用于递归服务器但会减慢
            诸如SMTP服务器（邮件接收者）和HTTP客户端（web浏览器）这些反复请求
            同一个域的应用。
	    在可能情况下，关闭“公开”递归服务器是更好的选择。
	  </para>

	  <para>
	    响应比率限制使用一个“信用（credit）”或“代价桶（token bucket）”
            方案。每个同一响应和客户端的组合有一个概念上的帐户，会每秒挣得
            一个特定数目的信用值。
	    一个预期的响应将会从其帐户上减一。
            当帐户是负值时，响应将被丢弃或者被截断。
            响应在一个缺省值为15秒的时间轮转窗口中被跟踪，窗口大小可以使用
            <command>window</command>选项配置为从1到3600秒（1小时）之间的
            任意值。
            帐号不能大于每秒限制值或者小于<command>window</command>乘以每秒
            限制值。
            当一类响应的指定信用值被设为0，这些响应没有比率限制。
	  </para>

	  <para>
            对比率限制中的“同一响应（identical response）”和“DNS客户端”
            的概念是不能简单化理解的。
            所有到一个地址块的响应被统计为如同到一个单一地址。
	    地址块的前缀长度由<command>ipv4-prefix-length</command>
            （缺省24）和<command>ipv6-prefix-length</command>（缺省56）指定。
	  </para>

	  <para>
	    所有针对一个有效域名（qname）和记录类型（qtype）的非空响应都是
            相同的，有一个由<command>responses-per-second</command>指定的
            限制(缺省为0或没有限制)。
            所有针对一个有效域名，不管其请求类型的空（NODATA）响应也是相同的。
            NODATA这一类响应被<command>nodata-per-second</command>所限制
	    （缺省是<command>responses-per-second</command>）。
	    对一个给定的有效域名的任何及所有未定义的子域的请求而产生的
            NXDOMAIN错误，不考虑请求类型，都是同一的。
	    它们由<command>nxdomains-per-second</command>限制
	    （缺省是<command>responses-per-second</command>）。
            这控制某些使用随机域名的攻击，但能够在期望许多合法NXDOMAIN响应
            的服务器上被放松或关闭（设置为0），例如来自反垃圾黑名单。
            指向或授权到一个给定域名的服务器都是同一的并可以被
            <command>referrals-per-second</command>所限制
            （缺省是<command>responses-per-second</command>）。
	  </para>

	  <para>
	    由本地通配符产生的响应被计数并限制，如同对于其父域名一样。
            这使用random.wild.example.com控制泛洪。
	  </para>

	  <para>
            所有导致DNS错误，例如SERVFAIL和FORMERR，而不是NXDOMAIN的请求都是
            相同的，而不考虑请求名（qname）或记录类型（qtype）。这控制使用
            无效请求或使用陌生、缺陷权威服务器的攻击。
	    缺省时，对错误的限制与<command>responses-per-second</command>值
            一致，但它也可以被独立地使用<command>errors-per-second</command>
            设置。
	  </para>

	  <para>
            许多利用DNS的攻击涉及伪造源地址的UDP请求。
            比率限制阻止利用BIND 9由于对伪造源地址请求的响应而对一个网络进行
            泛洪攻击，但是可以让一个第三方阻塞对合法请求响应。
            有一个机制可以回复一些来自一个其地址被伪造而用于泛洪攻击的客户端的
            合法请求。
            设置<command>slip</command>为2（其缺省值）将使每隔一个UDP请求在回复
            时带有一个小截断（TC=1）响应。
            “slipped”响应的大小较小且缩小了频率，就缺乏放大效应，使其对反射
            DoS攻击没有吸引力。
            <command>slip</command>必须介于0到10之间。
            值为0表示不“slip”：因比率限制而不发出被截断的响应，所有响应都不丢弃。
            值为1使每个响应都slip；
            值为2到10之间使每N个响应slip一次。
            一些错误响应，包括REFUSE和SERVFAIL，不能被替代成截断的响应，
	    而是以<command>slip</command>比率返回响应。
	  </para>

	  <para>
            （注意：从一个权威服务器丢弃响应可能减小一个第三方成功伪造响应到
            一个递归解析器的难度。针对伪造响应的最安全方法，对权威服务器的
            操作者而言是使用DNSSEC签名自己的区，对递归服务器的操作者而言是验证
            响应。当这不是一个可选项时，对更关心响应完整性而不是缓解泛洪攻击的
            操作者，可以考虑设置<command>slip</command>为1，将使所有比率限制
            响应都被截断而不是被丢弃。这就减小了针对反射攻击的比率限制的效果。）
	  </para>

	  <para>
            当大致的每秒请求率超过了<command>qps-scale</command>值，
            <command>responses-per-second</command>，
	    <command>errors-per-second</command>，
	    <command>nxdomains-per-second</command>和
	    <command>all-per-second</command>的值就减小一个比率，即当前比率比
            <command>qps-scale</command>。
            这个特性可以在攻击时增强抵抗能力。
            例如，设置
            <command>qps-scale 250; responses-per-second 20;</command>并且一个
            包含TCP的所有DNS客户端的所有请求的总请求率为1000次请求/秒，这时的
            '有效响应/秒'限制变为(250/1000)*20或5。
	    通过TCP发送的响应不会被限制，但是会被计数，以计算每秒请求率。
	  </para>

	  <para>
	    DNS客户端社区可以给出其自身的参数，或完全没有比率限制，即将
            <command>rate-limit</command>语句放入<command>view</command>语句中
            而不是<command>option</command>中。
	    一个视图中的<command>rate-limit</command>语句是替代而不是增补了
            主配置中的<command>rate-limit</command>语句。
	    在一个视图中的DNS客户端可以通过<command>exempt-clients</command>
            子句免出比率限制。
	  </para>

	  <para>
	    所有类型的UDP响应可以由<command>all-per-second</command>短句限制。
	    这个比率限制不同于在一个DNS服务器上由
            <command>responses-per-second</command>，
            <command>errors-per-second</command>和
            <command>nxdomains-per-second</command>所提供的比率限制，后者
            通常都是DNS反射攻击的受害者所看不到的。
	    除非攻击者伪造的请求与受害者的合法请求完全一致，受害者的请求是不受
            影响的。
	    受一个<command>all-per-second</command>限制影响的响应总是被丢弃；
            <command>slip</command>值没有任何效果。
	    一个<command>all-per-second</command>限制至少是其它限制的4倍大，
            因为单一的DNS客户端通常爆发出合法的请求。
	    例如，在考虑到进入的SMTP/TCP/IP连接时，单个邮件消息的接收者可能
            产生来自一个SMTP服务器的对NS，PTR，A和AAAA记录的请求。
	    这个SMTP服务器在它考虑SMTP的<command>Mail From</command>命令时，
            可能需要额外的NS，A，AAAA，MX，TXT和SPF记录。
	    Web浏览器通常重复地解析在一页的HTML &lt;IMG&gt;标签中重复出现的
            同样名字。
	    <command>All-per-second</command>类似于防火墙所提供的比率限制，
            但通常不如后者。
	    忽略DNS响应内容的攻击更像是对服务器本身的攻击（原文：
	    Attacks that justify ignoring the
	    contents of DNS responses are likely to be attacks on the
	    DNS server itself.）
	    它们通常应该在DNS服务器花费资源建立TCP连接或分析DNS请求之前被
            丢弃，但是比率限制必须在DNS服务器见到请求之前完成。
	  </para>

	  <para>
	    用于跟踪请求和比率限制响应的表的最大大小，通过
            <command>max-table-size</command>设置。
            表中每个条目介于40到80字节之间。
            表中需要的条目数大致是每秒收到的请求数。
	    缺省是20,000。
	    为减小冷启动时的表增长，<command>min-table-size</command>
            （缺省是500）可以设置最小的表大小。
	    打开<command>rate-limit</command>类日志以监控表的增长并获取关于
            选择表大小初始值和最大值的信息。
	  </para>

	  <para>
	    使用<command>log-only yes</command>测试比率限制参数而不会实际丢掉
            任何请求。
	  </para>

	  <para>
	    被比率限制所丢弃的响应被包含在<command>RateDropped</command>和
            <command>QryDropped</command>统计中。
	    被比率限制所截断的响应被包含在<command>RateSlipped</command>和
            <command>RespTruncated</command>统计中。
	  </para>
	</section>

	<section title="NXDOMAIN Redirection"><info/>
	  <para>
	    Named通过两个方法支持NXDOMAIN重定向：
	    <itemizedlist>
	      <listitem>重定向区<xref linkend="zone_statement_grammar"/></listitem>
	      <listitem>重定向名字空间</listitem>
	    </itemizedlist>
	  </para>
	  <para>
	    在这两种方法中，当named收到一条NXDOMAIN响应，它检查一个
	    独立的名字空间查看NXDOMAIN响应是否应该被替换为可供选择
	    的响应。
	  </para>
	  <para>
	    在一个重定向区（<command>zone "." { type redirect; };</command>），
	    用于替换NXDOMAIN的数据保存在一个单独的区中，它不是通常的
	    名字空间的一部分。
	    所有重定向信息都存放在这个区中；其中没有授权。
	  </para>
	  <para>
            在一个重定向名字空间
	    （<command>option { nxdomain-redirect &lt;suffix&gt; };</command>），
	    用于替换NXDOMAIN的数据是普通名字空间的一部份，通过在
	    原始请求名后添加指定的后缀来查找。
	    这大致使所需的缓存增加一倍，以处理NXDOMAIN响应，因为你
	    具有原始的NXDOMAIN响应和替代数据或者一个NXDOMAIN指示不存在
	    替代者。
	  </para>
	  <para>
	    如果一个重定向区和一个重定向名字空间都被配置了，
	    首先是要重定向区。
	  </para>
	</section>
      </section>

      <section xml:id="server_statement_grammar"><info><title><command>server</command>语句语法</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="server.grammar.xml"/>
      </section>

        <section xml:id="server_statement_definition_and_usage"><info><title><command>server</command>语句定义和用法</title></info>

          <para>
            <command>server</command>语句定义与一个远程名字服务器相关的特性。如
            果指定一个前缀长度，就覆盖一个范围的服务器。只有最特定的server子句
            应用不考虑在<filename>named.conf</filename>中的顺序。
          </para>

          <para>
            <command>server</command>语句可以出现在配置文件的顶级，也可以在一个
            <command>view</command>语句中。如果一个<command>view</command>语句
            中包含一个或多个<command>server</command>语句时，只有这些会应用到视
            图中，而任何顶级的都被忽略。如果一个视图不包含
            <command>server</command>语句，任何顶级<command>server</command>语
            句都作为缺省使用。
          </para>

          <para>
            如果你发现一个远程服务器发出错误的数据，将其标志为bogus而阻止再发请
            求给它。<command>bogus</command>的缺省值是<command>no</command>。
          </para>
          <para>
            <command>provide-ixfr</command>子句决定本地服务器在作为主服务器时，
            当远程服务器，一个辅服务器请求时是否使用一个增量区传送进行应答。如
            果设为<command>yes</command>，无论何时都提供增量区传送。如果设为
            <command>no</command>，所有到远程服务器的区传送都不会使用增量方式。
            如果未设置，就使用视图或者全局选项块中的
            <command>provide-ixfr</command>选项值作为缺省值。
          </para>

          <para>
            <command>request-ixfr</command>子句决定本地服务器，作为一个辅服务器
            时，将向给定的远程服务器，即主服务器，请求增量区传送。如果未设置，
            就使用视图或者全局选项块中的<command>request-ixfr</command>选项值作
            为缺省值。它也可在区块中设置，如果在那里设置，它会对那个区覆盖全局
            和视图中的设置。
          </para>

          <para>
            IXFR请求如果发送到不支持IXFR的服务器上，将会自动降格为AXFR。所以，
            不需要手工列出哪个服务器支持IXFR和哪个服务器不支持；全局缺省值
            <command>yes</command>将总能够工作。
            <command>provide-ixfr</command>和<command>request-ixfr</command>
            子句的目的是即使主服务器和辅服务器都支持IXFR时可以关掉它，例如如果
            一个服务器在使用IXFR时，有许多bug并宕掉或者数据损坏。
          </para>

	  <para>
	    <command>request-expire</command>子句决定本地服务器在
	    作为辅服务器时，是否请求EDNS EXPIRE值。
	    EDNS EXPIRE指示在区数据将要过期并需要被刷新之前剩余的
	    时间。
	    这用于一个辅服务器从另一个辅服务器传送一个区；当从
	    主服务器传送时，过期计数器是使用SOA记录中的EXPIRE字段
	    来设置。
	    缺省是<command>yes</command>。
	  </para>

          <para>
            <command>edns</command>子句决定在与远程服务器通信时，
            是否企图使用EDNS。缺省是<command>yes</command>。
          </para>

          <para>
            <command>edns-udp-size</command>选项设置EDNS UDP的大小，这个值在
            <command>named</command>向远程服务器发出请求时广播出去。有效值是
	    从512到4096字节（在这个范围之外的值将被静默地调整到范围内最接近的
            值）。这个选项是
	    用于你想要广播一个与你全局广播值不同的值到这个服务器时，例如，
	    当远程站点有一个防火墙阻止较大的响应时。
            （注意：当前，这对所有发送给这个服务器的包设置了一个UDP大小；
            <command>named</command>将不会偏离这个值。
            这与<command>options</command>或者<command>view</command>语句中的
            <command>edns-udp-size</command>的行为方式有所不同，后者指定一个
            最大值。
            在将来的版本中，<command>server</command>语句的行为可能与
            <command>options/view</command>的行为一致。）
	  </para>

	  <para>
	    <command>edns-version</command>选项设置解析器能够发送
	    给服务器的最大EDNS VERSION。实际发送的EDNS版本仍然服从
	    通常的EDNS版本协商规则（参见RFC 6891），服务器所支持的
	    最大EDNS版本，以及其它线索指示的一个更低版本应被发送。
	    这个选项的意图是用于一个远程服务器对一个给定的EDNS版本
	    或更高版本反应错误时；它应该被设置为远程服务器为外界
	    所知的能够支持的最高版本。
	    有效值是0到255；更大的值将被静默地调整。
	    这个选项在比0更高的EDNS版本被使用之前将不需要。
	  </para>

          <para>
	    <command>max-udp-size</command>选项设置<command>named</command>发出
	    的EDNS UDP消息的最大大小。有效值是从512到4096字节（在这个范围之外的
	    值将被静默地调整）。这个选项是用于当你知道有防火墙阻止来自
	    <command>named</command>的大回复包时。
	  </para>

	  <para>
	    <command>padding</command>选项为发出的消息增加EDNS填充
	    选项，增加包的大小为一批特定的块大小。有效块大小范围从0
	    （缺省，关闭使用ENS填充）到512字节。
	    更大的值将被缩减成512，并在日志中记录告警。
	    注意：这个选项当前不兼容于TSIG或SIG(0)，因为包含填充的
	    EDNS OPT记录必须被添加到已经被签名的包中。
	  </para>

	  <para>
	    <command>tcp-only</command>选项设置传输协议为TCP。缺省是
	    使用UDP传输，并仅在收到一个截断响应时回退到TCP。
	  </para>

	  <para>
	    <command>tcp-keepalive</command>选项添加EDNS TCP keepalive
	    到经过TCP发送的消息。
	    注意当前响应中的空闲超时被忽略。
	  </para>

          <para>
            服务器支持两种区传送方法。第一种，<command>one-answer</command>，
            使用一个DNS消息传送一个资源记录。<command>many-answers</command>将
            尽可能多的资源记录封装在一个消息中。<command>many-answers</command>
            更有效率，但它只能被<acronym>BIND</acronym> 9，
            <acronym>BIND</acronym> 8.X和打补丁的<acronym>BIND</acronym> 4.9.5
            所识别。你可以在<command>transfer-format</command>选项中指定对一个
            服务器使用哪种方法。如果<command>transfer-format</command>未指定，
            将使用<command>options</command>选项中所指定的
            <command>transfer-format</command>。
          </para>

          <para>
            <command>transfers</command>用于限制从指定的服务器进来的并发区传送
            的数目。如果没有设定<command>transfers</command>子句，就根据
            <command>transfers-per-ns</command>选项设定限制。
          </para>

          <para>
            <command>keys</command>子句标识一个由<command>keys</command>语句所
            定义的<command>key_id</command>，在与远程服务器通讯时，用于事务安全
            （TSIG，<xref linkend="tsig"/>）。当一个请求发向远程服务器时，就使
            用这里所指定的key来生成一个请求签名并将其添加到消息尾部。一个源自远
            程服务器的请求不要求被这个key签名。
          </para>

          <para>
            当前只支持每个服务器一个key。
          </para>

          <para>
            <command>transfer-source</command>和
            <command>transfer-source-v6</command>子句分别指定用于同远程服务器进
            行区传送的IPv4和IPv6源地址。对一个IPv4远程服务器，仅需要指定
            <command>transfer-source</command>。类似的，对一个IPv6远程服务器，
            仅需要指定<command>transfer-source-v6</command>。更多细节，参见
            <xref linkend="zone_transfers"/>中对
            <command>transfer-source</command>和
            <command>transfer-source-v6</command>的描述。
          </para>

	  <para>
	    <command>notify-source</command>和
	    <command>notify-source-v6</command>子句分别指定用于向远程服务器发送
	    通知消息的IPv4和IPv6源地址。对一个IPv4远程服务器，仅需要指定
	    <command>notify-source</command>。类似的，对一个IPv6远程服务器，
	    仅需要指定<command>notify-source-v6</command>。
	  </para>

	  <para>
	    <command>query-source</command>和
	    <command>query-source-v6</command>子句分别指定用于向远程服务器发送
	    请求的IPv4和IPv6源地址。对一个IPv4远程服务器，仅需要指定
	    <command>query-source</command>。类似的，对一个IPv6远程服务器，
	    仅需要指定<command>query-source-v6</command>。
	  </para>

	  <para>
	    <command>request-nsid</command>子句决定本地服务器在发送请求给这个
            服务器时是否需要添加一个NSID EDNS选项。这个覆盖在视图级和option级
            的<command>request-nsid</command>设置。
	  </para>

	  <para>
	    <command>send-cookie</command>子句决定本地服务器在发送到
	    其它服务器的请求中是否要添加一个COOKIE EDNS选项。
	    这覆盖视图或全局选项中的
	    <command>request-cookie</command>设置。
	    <command>named</command>服务器可以决定远程服务器不支持COOKIE
            并且不在请求中添加一个COOKIE EDNS选项。
	  </para>
	</section>

      <section xml:id="statschannels"><info><title><command>statistics-channels</command>语句语法</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="statistics-channels.grammar.xml"/>
      </section>

      <section xml:id="statistics_channels"><info><title><command>statistics-channels</command>语句定义和用法</title></info>

        <para>
	  <command>statistics-channels</command>语句声明了系统管理员用来获取
	  名字服务器统计信息的通信通道。
        </para>

        <para>
	  这个语句是打算在将来能够灵活地支持多个通信协议，但是当前只
	  支持HTTP访问。
	  它要求带有libxml2和/或json-c（也被称为libjson0）编译BIND 9；
	  即使在编译时没有提供库，
	  <command>statistics-channels</command>语句也被接受，但是任何
	  HTTP访问都会失败并返回一个错误。
        </para>

        <para>
	  一个<command>inet</command>控制通道是一个监听在特定
	  <command>ip_addr</command>，可以是一个IPv4或IPv6地址，上的特定
	  <command>ip_port</command>的TCP套接字，一个
	  为<literal>*</literal>（星号）的<command>ip_addr</command>将被解释
	  为IPv4通配地址；到系统的任何IPv4地址的连接都会被接受。
	  要监听在IPv6的通配地址，使用为<literal>::</literal>的
	  <command>ip_addr</command>。
        </para>

        <para>
	  如果没有指定端口，给HTTP通道使用端口80。
	  星号"<literal>*</literal>"不能用作<command>ip_port</command>。
        </para>

        <para>
	  打开一个统计通道的企图被可选的<command>allow</command>所限制。
	  到统计通道的连接基于<command>address_match_list</command>而允许。
	  如果没有提供<command>allow</command>子句，<command>named</command>
	  接受任何地址来的连接企图；由于统计可能包含敏感的内部信息，强烈
	  推荐正确地限制连接源。
        </para>

        <para>
	  如果没有提供<command>statistics-channels</command>语句，
	  <command>named</command>将不会打开任何通信通道。
        </para>

        <para>
          统计以不同格式和视图提供，依赖于访问它们所使用的URI。例如，
          如果配置了统计通道并监听在127.0.0.1的8888端口，就可以以XML格式在
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/">http://127.0.0.1:8888/</link>或
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/xml">http://127.0.0.1:8888/xml</link>
          访问统计。
          引入一个CSS文件，在使用一个样式表兼容的浏览器查看时，可以将XML统计
          转换格式为表格，在使用一个支持javascript的浏览器查看时，可以使用
          Google Charts API将其转换格式为图表和图形。
        </para>

	<para>
          统计的单独子项可以在下列位置查看
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/xml/v3/status">http://127.0.0.1:8888/xml/v3/status</link>
	  （服务器运行时间和上次修改配置时间），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/xml/v3/server">http://127.0.0.1:8888/xml/v3/server</link>
	  （服务器和解析器统计），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/xml/v3/zones">http://127.0.0.1:8888/xml/v3/zones</link>
	  （区统计），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/xml/v3/net">http://127.0.0.1:8888/xml/v3/net</link>
	  （网络状态和套接字统计），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/xml/v3/mem">http://127.0.0.1:8888/xml/v3/mem</link>
	  （内存管理统计），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/xml/v3/tasks">http://127.0.0.1:8888/xml/v3/tasks</link>
	  （任务管理统计）和
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/xml/v3/traffic">http://127.0.0.1:8888/xml/v3/traffic</link>
	  （流量大小）。
	</para>

	<para>
	  也可以JSON格式读取完整的统计集合
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/json">http://127.0.0.1:8888/json</link>,
	  在下列位置查看单独子项
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/json/v1/status">http://127.0.0.1:8888/json/v1/status</link>
	  （服务器运行时间和上次修改配置时间），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/json/v1/server">http://127.0.0.1:8888/json/v1/server</link>
	  （服务器和解析器统计），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/json/v1/zones">http://127.0.0.1:8888/json/v1/zones</link>
	  （区统计），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/json/v1/net">http://127.0.0.1:8888/json/v1/net</link>
	  （网络状态和套接字统计），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/json/v1/mem">http://127.0.0.1:8888/json/v1/mem</link>
	  （内存管理统计），
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/json/v1/tasks">http://127.0.0.1:8888/json/v1/tasks</link>
	  （任务管理统计）和
	  <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://127.0.0.1:8888/json/v1/traffic">http://127.0.0.1:8888/json/v1/traffic</link>
	  （流量大小）。
	</para>
      </section>

      <section xml:id="trusted-keys"><info><title><command>trusted-keys</command>语句语法</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="trusted-keys.grammar.xml"/>
        </section>
	<section xml:id="trusted_keys"><info><title><command>trusted-keys</command>语句定义和用法</title></info>

	  <para>
	    <command>trusted-keys</command>语句定义DNSSEC安全根。DNSSEC在
	    <xref linkend="DNSSEC"/>中描述。一个安全根被定义，当一个非授权区的
	    公钥被公开，但是不能通过DNS获得安全，要么因为它是DNS根区，要么因为
	    它的父区未签名。一旦一个密钥被配置成可信任密钥，它就被当作已验证和
	    被证实为安全。解析器试图DNSSEC验证一个安全根子域的所有DNS数据。
	  </para>
	  <para>
	    所有<command>trusted-keys</command>中列出的密钥（和相应的区）都被认
	    为是存在，并与父区所说无关。所有<command>trusted-keys</command>中列
	    出的密钥的相似地是，仅仅这些密钥在验证DNSKEY资源记录集时被用到。
	    父区的DS资源记录集不会被用到。
	  </para>
	  <para>
	    <command>trusted-keys</command>语句可以包含多个密钥条目，每个条目由
	    密钥域名，标志，协议，算法和Base64表示的密钥数据组成。
	    密钥数据中的空格，制表符，换行和回车被忽略，所以配置可以分割
	    放入多行中。
	  </para>
	  <para>
	    <command>trusted-keys</command>可以被设置在
	    <filename>named.conf</filename>的顶级或者在一个视图内。如果
	    它在两个地方都被设置了，它们都会被添加：在顶级定义的密钥
	    被所有的视图所继承，但是在一个视图内部定义的密钥只能用于
	    那个视图。
	  </para>
	  <para>
	    在指定名字之下的验证可以使用<command>rndc nta</command>暂时
	    关闭。
	  </para>
	</section>

        <section xml:id="managed_keys"><info><title><command>managed-keys</command>语句语法</title></info>
        <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="managed-keys.grammar.xml"/>
        </section>
	<section xml:id="managed-keys"><info><title><command>managed-keys</command>语句定义和用法</title></info>

	  <para>
	    于<command>trusted-keys</command>相似，
	    <command>managed-keys</command>语句定义DNSSEC安全根。
	    差别是<command>managed-keys</command>可以自动保持更新，
	    无须解析器管理员干预。
	  </para>
	  <para>
	    例如，假设一个区的密钥签名密钥被攻破了，区的所有者必须撤销
	    并替代这个密钥。在<command>trusted-keys</command>语句中
	    拥有一个旧密钥的解析器就不能再验证这个区的数据；它的回答会
	    带有一个SERVFAIL响应码。这会一直持续下去，直到解析器管理员
	    使用新的密钥更新<command>trusted-keys</command>语句。
	  </para>
	  <para>
            然而，如果区被列入到<command>managed-keys</command>中，区的
            所有者可以预先给区增加一个“备用的”密钥。
            <command>named</command>将会存储这个备用的密钥，并在原始的
            密钥被撤销时，<command>named</command>将能够平滑地过渡到新的
            密钥。它也能够识别旧密钥已经被撤销，并停止使用旧密钥验证
            回答，最小化被攻破的密钥所能够带来的损害。
	  </para>
          <para>
            一个<command>managed-keys</command>语句包含了要管理的密钥的
	    列表，以及这些密钥在开始的时候如何被初始化的信息。
	    当前所支持的唯一初始化方法是<literal>initial-key</literal>。
            这表示<command>managed-keys</command>语句必须包含一个初始化
            密钥的拷贝。（将来的版本可能允许密钥以其它方式初始化，从而
            取消这项要求。）
	  </para>
          <para>
            所以，一个<command>managed-keys</command>语句表面上与一个
            <command>trusted-keys</command>相似，区别出现在第二个字段，
            前者包含了关键字<literal>initial-key</literal>。区别是，
            在<command>trusted-keys</command>中列出的密钥可以一直被
            信任，直到其从<filename>named.conf</filename>中删除掉，
            而在<command>managed-keys</command>语句中列出的一个初始化
            密钥只被信任<emphasis>一次</emphasis>：因为它装载被管理的
            密钥数据库并开始RFC 5011密钥维护进程。
	  </para>
          <para>
            当<command>named</command>第一次带有一个配置在
	    <filename>named.conf</filename>中的被管理密钥运行时，它直接
	    从区顶点取得DNSKEY资源记录集，并使用
	    <command>managed-keys</command>语句中所指定的密钥验证它。
	    如果这个DNSKEY资源记录集是有效签名的，它就被用作一个新的
	    被管理密钥数据库的基础。
	  </para>
          <para>
	    从那个点开始，无论<command>named</command>何时运行，它
	    看见了<command>managed-keys</command>语句，检查并确认针对
	    指定域的RFC 5011密钥维护已经被初始化，如果是，它只是简单地
	    继续。在<command>managed-keys</command>语句中所指定的密钥并
	    不用于校验回答；它被储存在被管理的密钥数据库中的一个或
	    多个密钥所替代。
          </para>
          <para>
	    在一个名字从<command>managed-keys</command>语句中
	    <emphasis>删除</emphasis>之后下一次运行
	    <command>named</command>时，对应的区将会从被管理密钥数据库
	    中删除，并且RFC 5011密钥维护将不再用于这个域。
	  </para>
	  <para>
            在当前实现中，被管理密钥数据库是以一个master-format
            （主区格式）区文件存放的，
	  </para>
	  <para>
	    在没有使用视图的服务器上，这个文件被命名为
	    <filename>managed-keys.bind</filename>。
	    当使用了视图时，对每个视图有一个独立的被管理密钥数据库；
	    文件名是视图名（或者，如果一个视图名包含了使其成为非法
	    文件名的字符，则是视图名的一个hash），后跟后缀
	    <filename>.mkeys</filename>。
	  </para>
	  <para>
	    当密钥数据库被改变时，区就被更新。
	    与其它任何动态区一样，改变会被写入到一个日志文件中，例如，
	    <filename>managed-keys.bind.jnl</filename>或
	    <filename>internal.mkeys.jnl</filename>。
	    随后改变会尽快被提交到主文件；这个通常发生在30秒之内。
	    所以，无论何时<command>named</command>
	    采用了自动密钥管理，区文件和日志文件将会存在在工作目录中。
	    （因为这个以及其它原因，工作目录应该总是<command>named</command>
            可写的。）
	  </para>
	  <para>
	    如果<command>dnssec-validation</command>选项被设为
	    <userinput>auto</userinput>，<command>named</command>会
	    自动为根区初始化一个被管理密钥。
	    用于初始化密钥维护进程的密钥存储在
	    <filename>bind.keys</filename>；这个文件的位置可以使用
	    <command>bindkeys-file</command>选项覆盖。
	    如果没有找到<filename>bind.keys</filename>，作为回退，
	    初始化密钥也被直接编译进<command>named</command>。
	  </para>
	</section>

        <section xml:id="view_statement_grammar"><info><title><command>view</command>语句语法</title></info>

<programlisting><command>view</command> <replaceable>view_name</replaceable> [ <replaceable>class</replaceable> ] <command>{</command>
    <command>match-clients {</command> <replaceable>address_match_list</replaceable> <command>}</command> ;
    <command>match-destinations {</command> <replaceable>address_match_list</replaceable> <command>}</command> ;
    <command>match-recursive-only</command> <replaceable>yes_or_no</replaceable> ;
  [ <replaceable>view_option</replaceable> ; ... ]
  [ <replaceable>zone_statement</replaceable> ; ... ]
<command>} </command>;
</programlisting>

        </section>
        <section xml:id="view_statement"><info><title><command>view</command>语句定义和用法</title></info>

          <para>
            <command>view</command>语句是<acronym>BIND</acronym> 9的一个强大功
            能，它使一个名字服务器在回答一个DNS请求时，可以依据是谁在请求而有所
            不同。这在实现分割的DNS设置却不需要运行多个服务器时特别有用。
          </para>

          <para>
            每个<command>view</command>语句定义了一个被一些客户子集所看到的DNS
            名字空间的视图。一个客户匹配一个视图是指它的源地址与视图的
            <command>match-clients</command>子句中的
            <varname>address_match_list</varname>匹配并且它的目的地址与视图的
            <command>match-destinations</command>子句中的
            <varname>address_match_list</varname>匹配。如果未指定，
            <command>match-clients</command>和
            <command>match-destinations</command>缺省都是匹配所有地址。除了检查
            IP地址，<command>match-clients</command>和
            <command>match-destinations</command>也可以使用
            <command>keys</command>，它给客户端提供了一个选择视图的机制。一个视
            图也可以指定成为<command>match-recursive-only</command>，它表示仅仅
            来自匹配客户的递归请求才匹配此视图。<command>view</command>语句的顺
            序非常重要 — 一个客户端请求将在它所匹配的第一个
            <command>view</command>的上下文中被解析。
          </para>

          <para>
            在一个<command>view</command>语句中定义的区只能被与这个
            <command>view</command>相匹配的客户端访问。通过在多个视图中定义同样
            名字的区，可以为不同的客户端提供不同的区数据，例如，在一个分割的DNS
            上建立“internal”和“external”客户端。
          </para>

          <para>
            许多在<command>options</command>语句中给出的选项也可以用在
            <command>view</command>语句中，并且仅仅在解析这个视图之内的请求时生
            效。当没有给出按视图指定的值时，缺省试验<command>options</command>
            语句中的值。同样，区选项也使用在<command>view</command>语句中指定的
            值做缺省值；这些按视图指定的缺省值优先于其在
            <command>options</command>语句中的值。
          </para>

          <para>
            视图是按类划分的。如果没有给出类，假设为IN类。注意所有的非IN视图必
            须包含一个暗示区，因为只有IN类有一个预编译的缺省暗示区。
          </para>

          <para>
            如果配置文件中没有<command>view</command>语句，就自动在IN类中建立一
            个匹配所有客户端的缺省视图。然后在配置文件的顶层所指定的
            <command>zone</command>语句都是这个缺省视图的一部份，
            <command>options</command>语句将会应用到这个缺省视图。如果提供任何
            显式的<command>view</command>语句，所有<command>zone</command>语句
            都必须出现在<command>view</command>语句之内。
          </para>

          <para>
            这里是使用<command>view</command>语句实现分割DNS的一个典型设置：
          </para>

<programlisting>view "internal" {
      // This should match our internal networks.
      match-clients { 10.0.0.0/8; };

      // Provide recursive service to internal
      // clients only.
      recursion yes;

      // Provide a complete view of the example.com
      // zone including addresses of internal hosts.
      zone "example.com" {
            type master;
            file "example-internal.db";
      };
};

view "external" {
      // Match all clients not matched by the
      // previous view.
      match-clients { any; };

      // Refuse recursive service to external clients.
      recursion no;

      // Provide a restricted view of the example.com
      // zone containing only publicly accessible hosts.
      zone "example.com" {
           type master;
           file "example-external.db";
      };
};
</programlisting>

        </section>
        <section xml:id="zone_statement_grammar"><info><title><command>zone</command>语句语法</title></info>

<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="master.zoneopt.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="slave.zoneopt.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="mirror.zoneopt.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="hint.zoneopt.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="stub.zoneopt.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="static-stub.zoneopt.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="forward.zoneopt.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="redirect.zoneopt.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="delegation-only.zoneopt.xml"/>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="in-view.zoneopt.xml"/>

        </section>
        <section xml:id="zone_statement"><info><title><command>zone</command>语句定义和用法</title></info>

          <section xml:id="zone_types"><info><title>区类型</title></info>
            <para>
              <command>zone</command>配置要求<command>type</command>关键字，
              除非它时一个<command>in-view</command>配置。可以接受的值包括：
	      <varname>master</varname>（或<varname>primary</varname>），
	      <varname>slave</varname>（或<varname>secondary</varname>），
	      <varname>mirror</varname>，
              <varname>delegation-only</varname>，
	      <varname>forward</varname>，
	      <varname>hint</varname>，
	      <varname>redirect</varname>，
              <varname>static-stub</varname>
              和<varname>stub</varname>。
            </para>

            <informaltable colsep="0" rowsep="0">
              <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="3Level-table">
                <!--colspec colname="1" colnum="1" colsep="0" colwidth="1.108in"/-->
                <!--colspec colname="2" colnum="2" colsep="0" colwidth="4.017in"/-->
		<colspec colname="1" colnum="1" colsep="0"/>
                <colspec colname="2" colnum="2" colsep="0" colwidth="4.017in"/>
                <tbody>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>master</varname>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        服务器拥有区数据的主拷贝，并能够提供关于这个区的
                        权威回答。类型<varname>primary</varname>与
                        <varname>master</varname>是同义词。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>slave</varname>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        一个辅区是一个主区的一份复制。
                        类型<varname>secondary</varname>与
                        <varname>slave</varname>是同义词。
                        <command>masters</command>列表指定一个或多个主服务器，
                        辅服务器从其更新自己的区拷贝。主服务器列表元素也可以是
                        其它主服务器列表的名字。缺省时，自53端口发出区传送；这
                        个也可以通过在IP地址列表之前指定一个端口号修改，这对所
                        有服务器都适用；或者在IP地址之后指定端口，这个就依每个
                        服务器而不同。对主服务器的认证也可以基于每个服务器的
                        TSIG密钥来做。如果指定了一个文件，无论何时区有了改变，
                        就将复制来的数据写到这个文件中，并在服务重新启动时重新
                        装入这个文件。推荐使用一个文件，因为这常常会加速服务的
                        启动并消除不必要的带宽浪费。注意，对一个服务器上大量的
                        区（数万或数十万），最好对区文件名使用两级命名机制。例
                        如，区<literal>example.com</literal>的辅服务器可能将区
                        的内容放进名为<filename>ex/example.com</filename>的文件
                        中，在这里<filename>ex/</filename>仅仅是区名的头两个字
                        母。（如果你将100000个文件放在一个目录中，大多数操作系
                        统操作都非常缓慢。）
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>stub</varname>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        存根（stub）区类似于一个辅区，差别仅仅是它只复制一个
                        主区中的NS记录而不是整个区。存根区不是DNS的标准部份；
                        它只是<acronym>BIND</acronym>实现的一个特性。
                      </para>

                      <para>
                        存根区可以用来消除父区中粘着NS记录的需求，代价是维护一
                        个存根区条目和<filename>named.conf</filename>中名字服务
                        器地址的集合。在新配置中不推荐这种用法，并且BIND 9仅仅
                        以有限的方式支持它。在<acronym>BIND</acronym> 4/8中，对
                        父区的区传送会包含这个区中存根孩子的NS记录。这意谓着，
                        在某些情况下，用户可以不用配置孩子的存根，而仅在主服务
                        器中为父区配置。<acronym>BIND</acronym> 9从来不以这样的
                        方式混淆不同区中的区数据。所以，如果一个
                        <acronym>BIND</acronym> 9配置成父区的主服务器，并配置了
                        子区的存根区，那么所以父区的辅服务器也都需要配置同样的
                        子区的存根区。
                      </para>

                      <para>
                        存根区也可以用于强制使用某个特定权威服务器集合来解析某
                        一给定域名。例如，使用RFC1918地址的某个私有网络上的缓存
                        服务器可能为<literal>10.in-addr.arpa</literal>配置存根
                        区，并使用内部名字服务器的一个集合作为这个区的
                        权威服务器。
                      </para>
                    </entry>
                  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>mirror</varname>
		      </para>
		    </entry>
		    <entry colname="2">
		      <para>
                        <emphasis role="bold">注意：</emphasis>在根区之
                        外的任何区使用这个区类型都被认为是
                        <emphasis>试验性的</emphasis>并可能带来性能问题，
                        特别是对较大和/或频繁更新的区。
		      </para>
		      <para>
		        一个镜像区就像一个类型为
		        <userinput>secondary</userinput>的区，其数据
		        在用于响应之前会被DNSSEC验证。
		        验证在区传送过程中（包括AXFR和IXFR）被执行，
		        当<command>named</command>重启时，区文件从磁盘
		        装载时又会再次进行验证。
		        如果对一个新版本镜像区的验证失败，就调度一次
		        重传，并使用最近正确验证的这个区的版本，直到其
		        过期；如果这个区的一个更新的版本后来正确验证了，
		        它将替代先前使用的版本。
		        如果一个镜像区没有可以使用的区数据（要么是因为
		        从来没有从磁盘装载并且还没有从主服务器完成传送，
		        要么是因为其最近的正确验证版本已经过期），
		        作为替代，传统的DNS递归将会被用来查找答案。
		      </para>
		      <para>
		        虽然任何区都可以被配置成这个类型，但是其意图
		        还是用于设置一个快速的根区的本地拷贝，类似于
		        在RFC 7706中所描述的。
		        注意，镜像区不应该增加RFC 7706提供的配置示例，
		        而是完全替代它。
		      </para>
		      <para>
		        一个缺省的IANA根区主服务器列表是內建于
		        <command>named</command>，它的镜像可以使用下列
		        配置来打开：
		      </para>
<programlisting>zone "." {
	type mirror;
};</programlisting>
		      <para>
		        为了设置任何其它区的镜像，需要使用
		        <command>masters</command>选项提供一个显式的
			主服务器列表（参见<xref linkend="masters_grammar"/>
                        获取详细信息）。
		      </para>
		      <para>
                        要使镜像区内容在<command>named</command>重启间
                        持久，使用
		        <xref endterm="file_option_term" linkend="file_option"/>
		        选项。
		      </para>
		      <para>
		        镜像区验证总是发生在整个区内容，即没有“增量验证”
		        发生，即使对于IXFR也是如此。
		        这需要确保解析器所使用的每个版本的区在DNSSEC
		        方面是自相一致的。
		        另外，将来可能增加更有效率的区验证方法。
		      </para>
		      <para>
                        为验证成功，必须在<filename>named.conf</filename>中
                        配置一个区的密钥签名密钥（KSK）作为一个信任锚：
                        即一个区的密钥必须被指定要么在
		        <command>managed-keys</command>中，要么在
		        <command>trusted-keys</command>中。
		        在根区的情况，你也可依赖內建的根信任锚，它是在
		        当<xref endterm="dnssec_validation_term"
			  linkend="dnssec_validation"/>被设置为缺省值
			<userinput>auto</userinput>时被开启的。
		      </para>
		      <para>
			来自一个镜像区的响应看起来非常类似来自一个类型为
		        <userinput>secondary</userinput>的区的响应，但有
		        明显的例外，AA位（“权威响应”）未设置，而AD位
		        （“认证数据”）被设置。
		      </para>
		      <para>
		        由于镜像区目标是被递归解析器使用的，将其放在
		        一个关闭递归的视图中将被认为是一个配置错误。
		      </para>
		      <para>
		        当为一个镜像区配置NOTIFY时，仅能使用
		        <userinput>notify no;</userinput>和
		        <userinput>notify explicit;</userinput>。
		        在区级使用任何其它<command>notify</command>设置
		        都是一个配置错误。
		        在<command>options</command>或者
		        <command>view</command>级使用任何其它
		        <command>notify</command>设置将导致这个设置
		        被镜像区的
		        <userinput>notify explicit;</userinput>所覆盖。
		        由于<command>notify</command>选项的全局缺省值是
		        <userinput>yes</userinput>，镜像区缺省是配置为
		        <userinput>notify explicit;</userinput>。
		      </para>
		      <para>
		        镜像区的出向区传送缺省是被关闭的，但是可以使用
		        <xref endterm="allow_transfer_term" linkend="allow_transfer"/>
		        开启。
		      </para>
		    </entry>
		  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>static-stub</varname>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                      静态存根（static-stub）区类似于存根区，仅仅有下列例外：
                      区数据是静态配置而不是从主服务器传送而来；当一个匹配某个
                      静态存根区的请求需要递归时，总是使用本地配置的数据（名字
                      服务器的名字和粘连地址），即使其缓存了不同的权威信息。
                      </para>
                      <para>
                      区数据使用<command>server-addresses</command>和
                      <command>server-names</command>区选项来配置。
                      </para>
                      <para>
                      区数据在内部是以NS和（如果需要）粘连的A或者AAAA资源记录
                      的形式维护，可以使用<command>rndc dumpdb -all</command>
                      将区数据库转储为可读的格式。
                      </para>
                      <para>
                      由于数据是静态配置的，对于一个静态存根区来说，不会发生
                      区维护动作。例如，没有定期刷新，收到的通知消息将会
                      被拒绝，并带有一个NOTAUTH的响应码（rcode）。
                      </para>
                      <para>
                      每个静态存根区都被配置为带有内部生成的NS和（如果需要）
                      粘连的A或者AAAA资源记录。
                      </para>
                    </entry>
                  </row>

                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>forward</varname>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        一个“转发区”是基于域名配置转发的方式。一个
                        <command>forward</command>类型的<command>zone</command>
                        语句可以包含<command>forward</command>和/或
                        <command>forwarders</command>语句，这将对由区名所给出的
                        域内的请求起作用。如果没有<command>forwarders</command>
                        语句或者为<command>forwarders</command>配置一个空表，这
                        个域就不会有转发动作，即取消了
                        <command>options</command>语句中任何转发者的效果。这样
                        如果你想使用这种类型的区来改变全局
                        <command>forward</command>选项（即，“forward first”，
                        然后“forward only”，或者相反，但是想要使用同样的
                        服务器作为全局设置），你需要重新指定全局转发者。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>hint</varname>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        使用一个“hint zone”来指定初始的根名字服务器集合。在服
                        务器启动时，它使用根提示信息来找到一个根名字服务器并从
                        后者获取最近的根名字服务器名单。如果没有为类IN指定提示
                        区，服务器使用编译内建的根服务器提示集合。IN之外的其它
                        类没有内建缺省提示。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>redirect</varname>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        重定向区用于在普通解析将导致返回一个NXDOMAIN时，而
                        给请求提供一个回答。
			每个视图只支持一个重定向区。可以使用
                        <command>allow-query</command>限制哪些客户端可以看见
                        这些回复。
                      </para>
                      <para>
			如果客户端请求DNSSEC记录（DO=1）并且NXDOMAIN响应被
                        签名，就不会发生任何替换。
                      </para>
                      <para>
                        要重定向所有的NXDOMAIN响应到100.100.100.2和
                        2001:ffff:ffff::100.100.100.2，需要配置一个名为“.”的
                        典型(type)重定向区，其区文件中包含指向期望地址的通配符记录：
                        <literal>"*. IN A 100.100.100.2"</literal>
                        和
                        <literal>"*. IN AAAA 2001:ffff:ffff::100.100.100.2"</literal>.
                      </para>
                      <para>
                        要重定向所有西班牙名字（在.ES下面），需要使用类似的
                        名字，但要用“*.ES.”替代“*.”。要重定向所有商业西班牙
                        名字（在.COM.ES下面），需要使用通配符条目“*.COM.ES.”。
                      </para>
                      <para>
                        注意重定向区支持所有可能的类型；它不限于A和AAAA记录。
                      </para>
		      <para>
			如果一个重定向区配置了一个
			<option>masters</option>选项，那么它就会像一个辅区
			一样从外面做区传送。
			否则，它就会如同一个主区一样从一个文件装载。
		      </para>
                      <para>
                        由于重定向区不会直接被名字引用，它们不保存在普通主区
                        和辅区的区查找表中。因此，当前不可能使用
                        要重新装载一个重定向区，使用
                        <command>rndc reload -redirect</command>，
                        要重新传输一个作为辅区配置的重定向区，使用
                        <command>rndc retransfer -redirect</command>。
                        当使用
                        <command>rndc reload</command>而不指定一个区名时，
                        重定向区将会随着其它区被重载。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>delegation-only</varname>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        这个用于强制基础区（如COM，NET，ORG）为只授权状态。任何
                        收到的回答在权威部份没有一个显式或隐式的授权时都会被当
                        做NXDOMAIN。这个不应用在区顶点。这不应该应用在叶子区。
                      </para>
                      <para>
                        <varname>delegation-only</varname>对从转发服务器来的回
                        答没有效果。
                      </para>
                      <para>
			参见<xref linkend="root_delegation_only"/>中的说明。
                      </para>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </informaltable>
          </section>

          <section xml:id="class"><info><title>类</title></info>

            <para>
              作为可选项，区的名字后面可以跟一个类。如果未指定类，就设定为类
              <literal>IN</literal>（表示<varname>Internet</varname>）。这在
              大多数情况下是正确的。
            </para>
            <para>
              <literal>hesiod</literal>类是表示来自MIT的雅典娜项目的一种信息服
              务。它用于在不同系统数据库之间共享信息，如用户、组、打印机等等。
              关键字<literal>HS</literal>是hesiod的符号。
            </para>
            <para>
              另一个MIT开发的是Chaosnet，一个创建于1970年代中期的局域网协议。
              它的区数据可以使用<literal>CHAOS</literal>类指定。
            </para>
          </section>

          <section xml:id="zone_options"><info><title>区选项</title></info>

            <variablelist>

              <varlistentry>
                <term><command>allow-notify</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="access_control"/>中对
                    <command>allow-notify</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>allow-query</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="access_control"/>中对
                    <command>allow-query</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>allow-query-on</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="access_control"/>中对
                    <command>allow-query-on</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>allow-transfer</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="access_control"/>中对
                    <command>allow-transfer</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>allow-update</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="access_control"/>中对
                    <command>allow-update</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>update-policy</command></term>
                <listitem>
                  <para>
                    指定一个“简单安全更新”策略。参见
                    <xref linkend="dynamic_update_policies"/>。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>allow-update-forwarding</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="access_control"/>中对
                    <command>allow-update-forwarding</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>also-notify</command></term>
                <listitem>
                  <para>
                    仅在这个区的<command>notify</command>是激活时有意义。会收到
                    这个区的<literal>DNS NOTIFY</literal>消息的机器集由所有列出
                    的区名字服务器（主服务器除外）和
                    <command>also-notify</command>所指定的任何IP地址。可以在每
                    个<command>also-notify</command>地址指定通知消息要送达的端
                    口，缺省为53。也可以指定一个TSIG密钥，让
                    <literal>NOTIFY</literal>被给出的密钥签名。
                    <command>also-notify</command>对存根区没有意义。缺省是空表。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>check-names</command></term>
                <listitem>
                  <para>
                    这个选项用于限制某些域名的字符集和语法，这些域名包括来自主
                    文件和/或来自网络的DNS响应。缺省值是依区类型的不同而
                    不同的。对<command>master</command>区缺省值是
                    <command>fail</command>。
                    对<command>slave</command>区缺省值
                    是<command>warn</command>。
                    对于<command>hint</command>区没有实现。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>check-mx</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>check-mx</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>check-spf</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>check-spf</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>check-wildcard</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>check-wildcard</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>check-integrity</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>check-integrity</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>check-sibling</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>check-sibling</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>zero-no-soa-ttl</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>zero-no-soa-ttl</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

	      <varlistentry>
	        <term><command>update-check-ksk</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>update-check-ksk</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>dnssec-loadkeys-interval</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="options"/>中对
                    <command>dnssec-loadkeys-interval</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>dnssec-update-mode</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="options"/>中对
                    <command>dnssec-update-mode</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

	      <varlistentry>
	        <term><command>dnssec-dnskey-kskonly</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>dnssec-dnskey-kskonly</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

	      <varlistentry>
	        <term><command>try-tcp-refresh</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>try-tcp-refresh</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>database</command></term>
                <listitem>
                  <para>
                    指定用于存放区数据的数据库类型。<command>database</command>
                    关键字后跟的字符串被解释为一个空格分隔的单词列表。第一个单
                    词标识数据库类型，接下来的单词作为参数传递给数据库，并按照
                    数据库类型所指定的处理方式来解释。
                  </para>
                  <para>
                    缺省是<userinput>“rbt”</userinput>，BIND 9的原生内存红黑
                    树数据库。这个数据库不需要参数。
                  </para>
                  <para>
                    如果有附加的数据库驱动被链接到服务器，也可能有其它值。在分
                    发包中包含一些简单的驱动，但是缺省没有被链接进来。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>dialup</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>dialup</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>delegation-only</command></term>
                <listitem>
                  <para>
                    这个标志只用于转发区，提示区和存根区。如果设置为
                    <userinput>yes</userinput>，区将被当成一个只授权类型的区。
                  </para>
                  <para>
		    参见<xref linkend="root_delegation_only"/>中的说明。
                  </para>
                </listitem>
              </varlistentry>

	      <varlistentry xml:id="file_option">
		<term xml:id="file_option_term"><command>file</command></term>
		<listitem>
		  <para>
		    设置区的文件名，在<command>master</command>
		    <command>hint</command>和<command>redirect</command>
		    这些没有<command>masters</command>定义的区中，区数据
		    是从这个文件装载。
                    在<command>slave</command>，<command>mirror</command>，
                    <command>stub</command>和
		    <command>redirect</command>这些有
		    <command>masters</command>定义的区中，区数据是来自
		    另一个服务器并保存在这个文件中。
		    这个选项对于其它区类型是不可接受的。
		  </para>
		</listitem>
	      </varlistentry>

              <varlistentry>
                <term><command>forward</command></term>
                <listitem>
                  <para>
                    仅在区有一个转发者列表的时候有意义。<command>only</command>
                    值将会在试探转发者但没有回答之后导致查找失败，而
                    <command>first</command>值将会允许进行一个普通查找的试探。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>forwarders</command></term>
                <listitem>
                  <para>
                    用于重载全局转发者列表。如果没有指定区类型为
                    <command>forward</command>，对此区就没有转发，
                    也不使用全局选项。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>journal</command></term>
                <listitem>
                  <para>
                    允许覆盖缺省的日志文件名。缺省为区文件后增
                    “<filename>.jnl</filename>”。这个应用于
                    <command>master</command>和<command>slave</command>区中。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>max-journal-size</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="server_resource_limits"/>中对
                    <command>max-journal-size</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

	      <varlistentry>
		<term><command>max-records</command></term>
		<listitem>
		  <para>
                    参见<xref linkend="server_resource_limits"/>中对
                    <command>max-records</command>的描述。
		  </para>
		</listitem>
	      </varlistentry>

              <varlistentry>
                <term><command>max-transfer-time-in</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>max-transfer-time-in</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>max-transfer-idle-in</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>max-transfer-idle-in</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>max-transfer-time-out</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>max-transfer-time-out</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>max-transfer-idle-out</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>max-transfer-idle-out</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>notify</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>notify</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>notify-delay</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="tuning"/>中对
                    <command>notify-delay</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>notify-to-soa</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>notify-to-soa</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>zone-statistics</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="options"/>中对
                    <command>zone-statistics</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>server-addresses</command></term>
                <listitem>
                  <para>
                    仅对静态存根区有意义。这是一个IP地址列表，在递归解析这个区
                    时，请求将被发向这个列表。
                    为这个选项配置一个非空列表，将会在内部配置顶点NS资源记录及
                    附带的粘连A或者AAAA记录。
                  </para>
                  <para>
                    例如，如果“example.com”被配置成一个静态存根区，在一个
                    <command>server-addresses</command>选项中配置192.0.2.1和
                    2001:db8::1234，内部将被配置为下列资源记录。
                  </para>
<programlisting>example.com. NS example.com.
example.com. A 192.0.2.1
example.com. AAAA 2001:db8::1234</programlisting>
                  <para>
                    这些记录将会被用于解析这个静态存根区下的名字。例如，如果
                    服务器收到一个带RD位的“www.example.com”请求，服务器将
                    发起一个递归解析，将请求发给192.0.2.1和/或2001:db8::1234。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>server-names</command></term>
                <listitem>
                  <para>
                    仅对静态存根区有意义。这是一个名字服务器域名的列表，充当
                    这个静态存根区的权威服务器。
                    在<command>named</command>需要发送请求到这些服务器时，这些
                    名字将被解析成IP地址。
                    为使这个补充解析能够成功，这些名字必须不能是静态存根区原点
                    名的子域名。即，当一个静态存根区的原点是“example.net”时，
                    “ns.example”和“master.example.com”可以设定在
                    <command>server-names</command>选项中，但是
                    “ns.example.net”不能，它将被配置分析器拒绝。
                  </para>
                  <para>
                    为这个选项配置一个非空列表，将会使用指定的名字在内部配置
                    顶点NS资源记录。例如，如果“example.com”被配置为一个静态
                    存根区，并在一个<command>server-names</command>选项配置
                    “ns1.example.net”和“ns2.example.net”，内部将被配置为
                    下列资源记录。
                  </para>
<programlisting>example.com. NS ns1.example.net.
example.com. NS ns2.example.net.
</programlisting>
                  <para>
                    这些记录将会被用于解析这个静态存根区下的名字。例如，如果
                    服务器收到一个带RD位的“www.example.com”请求，服务器将
                    发起一个递归解析，先将“ns1.example.net”和/或
                    “ns2.example.net”解析成IP地址，再将请求发给（一个或多个）
                    这些地址。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>sig-validity-interval</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="tuning"/>中对
                    <command>sig-validity-interval</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>sig-signing-nodes</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="tuning"/>中对
                    <command>sig-signing-nodes</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>sig-signing-signatures</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="tuning"/>中对
                    <command>sig-signing-signatures</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>sig-signing-type</command></term>
                <listitem>
                  <para>
		    参见<xref linkend="tuning"/>中对
		    <command>sig-signing-type</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>transfer-source</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>transfer-source</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>transfer-source-v6</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>transfer-source-v6</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>alt-transfer-source</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>alt-transfer-source</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>alt-transfer-source-v6</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>alt-transfer-source-v6</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>use-alt-transfer-source</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>use-alt-transfer-source</command>的描述。
                  </para>
                </listitem>
              </varlistentry>


              <varlistentry>
                <term><command>notify-source</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>notify-source</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>notify-source-v6</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="zone_transfers"/>中对
                    <command>notify-source-v6</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>min-refresh-time</command></term>
                <term><command>max-refresh-time</command></term>
                <term><command>min-retry-time</command></term>
                <term><command>max-retry-time</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="tuning"/>中的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>ixfr-from-differences</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>ixfr-from-differences</command>的描述。
		    （注意 <command>ixfr-from-differences</command>
		    <userinput>master</userinput>和
		    <userinput>slave</userinput>选择不能用于区这一级。）
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>key-directory</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="options"/>中对
                    <command>key-directory</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>auto-dnssec</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="options"/>中对
                    <command>auto-dnssec</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>serial-update-method</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="options"/>中对
                    <command>serial-update-method</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

              <varlistentry>
                <term><command>inline-signing</command></term>
		<listitem>
		  <para>
                    如果为<literal>yes</literal>，将允许对一个区进行
		    "bump in the wire"签名，这时，一个未签名区通过区传送传入或
                    从磁盘加载，将会生成区的签名版本，可能带有一个不同的
                    序列号。此特性缺省是关闭的。
		  </para>
		</listitem>
	      </varlistentry>

              <varlistentry>
                <term><command>multi-master</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>multi-master</command>的描述。
                  </para>
                </listitem>
              </varlistentry>
	
	      <varlistentry>
		<term><command>masterfile-format</command></term>
		<listitem>
		  <para>
                    参见<xref linkend="tuning"/>中对
                    <command>masterfile-format</command>的描述。
		  </para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><command>max-zone-ttl</command></term>
		<listitem>
		  <para>
                    参见<xref linkend="options"/>中对
		    <command>max-zone-ttl</command>的描述。
		  </para>
		</listitem>
	      </varlistentry>

              <varlistentry>
                <term><command>dnssec-secure-to-insecure</command></term>
                <listitem>
                  <para>
                    参见<xref linkend="boolean_options"/>中对
                    <command>dnssec-secure-to-insecure</command>的描述。
                  </para>
                </listitem>
              </varlistentry>

            </variablelist>

          </section>
          <section xml:id="dynamic_update_policies"><info><title>动态更新策略</title></info>

            <para>
              <acronym>BIND</acronym> 9支持两种方法来授权客户端对一个区执行动态
              更新，分别是配置<command>allow-update</command>和
              <command>update-policy</command>选项。
            </para>
            <para>
              <command>allow-update</command>子句是一个简单的访问控制表，
	      任何与其匹配的客户端被授权可以更改区中的任意记录。
            </para>
            <para>
              <command>update-policy</command>子句允许对所授权的更新
	      作更细粒度的控制。
	      它指定一个规则集，其中的每个规则是授权或禁止区中一个或
	      多个名字被一个或多个身份所更新。
	      身份是由密钥决定的，这个密钥使用TSIG或者SIG(0)签名更新请求。
	      大多数情况下，<command>update-policy</command>仅仅应用于
	      基于密钥的身份。没法指定基于客户端源地址更新权限。
            </para>
            <para>
	      <command>update-policy</command>规则仅对
	      <command>master</command>类型的区有意义，不能用于任何其它
	      类型的区中。
	      同时指定<command>allow-update</command>和
	      <command>update-policy</command>会报出一个配置错误。
            </para>
	    <para>
	      一个预定义的<command>update-policy</command>规则，可以
	      使用命令<command>update-policy local;</command>打开。
              在一个区内使用这个会导致<command>named</command>生成
              一个TSIG会话密钥，并在启动时将其存放在一个文件中；在
              <command>named</command>运行时这个密钥可以被本机客户端
              用于更新区。
	      缺省时，会话密钥存放在文件
	      <filename>/var/run/named/session.key</filename>，密钥名
              是“local-ddns”，密钥算法是HMAC-SHA256。
              这些值可由
	      <command>session-keyfile</command>，
	      <command>session-keyname</command>和
	      <command>session-keyalg</command>选项分别配置。
              一个运行在本地系统上的客户端，如果以合适的授权运行，
              可以从密钥文件读取会话密钥并使用它对更新请求签名。
	      并使用密钥来签名更新请求。
	      区的签名策略将会被设置为允许那个密钥改变区中的任何记录。
	      假设密钥名是“local-ddns”，这个等效于：
            </para>

            <programlisting>update-policy { grant local-ddns zonesub any; };
            </programlisting>

	    <para>
	      ...带有附加限制条件，即只有从本地系统连接来的客户端
	      才被允许发送更新。
	    </para>
	    <para>
              注意，仅有一个会话密钥被<command>named</command>生成；
              所有配置为使用
	      <command>update-policy local</command>的区将接受同一个密钥。
	    </para>
	    <para>
              命令<command>nsupdate -l</command>实现了这个特性，发送请求
	      到本机，并使用从会话密钥文件中取得的密钥对其签名。
	    </para>

            <para>
              其它的规则看起来像这个：
            </para>

<programlisting>
( <command>grant</command> | <command>deny</command> ) <replaceable>identity</replaceable> <replaceable>ruletype</replaceable> <optional> <replaceable>name</replaceable> </optional> <optional> <replaceable>types</replaceable> </optional>
</programlisting>

            <para>
              每条规则授予或禁止权限。
              规则按其在<command>update-policy</command>语句中指定的顺序进行
              检查。
              一旦一条消息成功地匹配了一条规则，立即进行授予或禁止操作，
              而不再进行更多的规则检查。
              存在13种类型的规则；规则类型由<command>ruletype</command>字段	
              指定，并且对其它字段的解释是变化的，这依赖于规则类型。
            </para>
            <para>
              通常，一条规则匹配是指对一个更新请求签名的密钥与
              <command>identity</command>字段匹配，将被更新记录的名字与
	      <command>name</command>字段匹配（由<command>ruletype</command>
              字段所指定的方式），并且将被更新记录的类型与
              <command>types</command>字段匹配。每种规则类型的详细情况将在
              下面描述。
            </para>
            <para>
              <command>identity</command>字段必须设置成一个完整域名。
              在大多数情况，表示必须被用于签名更新请求的TSIG或者SIG(0)
              密钥的名字。
              如果指定的名字是一个通配符，它服从DNS通配符扩展规范，并且
              规则可以应用到多个个体。当使用一个TKEY交换来创建一个共享
              密钥时，用于认证TKEY交换的密钥标识将被用作共享密钥的标识。
              一些规则类型使用标识与客户端的Kerberos principal
              （例如，<userinput>"host/machine@REALM"</userinput>）或
              Windows realm（<userinput>machine$@REALM</userinput>）匹配。
            </para>
            <para>
              <replaceable>name</replaceable>字段也指定一个完整域名。
              这通常标识将被更新的记录的名字。
              对这个字段的解释依赖于规则类型。
            </para>
            <para>
              如果显式指定<command>types</command>，一条规则就匹配除了
              RRSIG，NS，SOA，NSEC和NSEC3之外的所有类型。
              类型可以由名字指定，包括“ANY”（ANY匹配除了NSEC和NSEC3，
              这两个不能被更新，之外的所有类型）。
              注意当企图删除与一个名字相联系的所有记录时，会针对每种
              存在的记录检查规则。
            </para>
            <para>
              <replaceable>ruletype</replaceable>字段有16个值：
              <varname>name</varname>，<varname>subdomain</varname>，
              <varname>wildcard</varname>，<varname>self</varname>，
	       <varname>selfsub</varname>，<varname>selfwild</varname>,
	      <varname>krb5-self</varname>，<varname>ms-self</varname>，
              <varname>krb5-selfsub</varname>, <varname>ms-selfsub</varname>，
	      <varname>krb5-subdomain</varname>，
	      <varname>ms-subdomain</varname>，
	      <varname>tcp-self</varname>，<varname>6to4-self</varname>,
	      <varname>zonesub</varname>和<varname>external</varname>。
            </para>
            <informaltable>
              <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="4Level-table">
                <!--colspec colname="1" colnum="1" colsep="0" colwidth="0.819in"/-->
                <!--colspec colname="2" colnum="2" colsep="0" colwidth="3.681in"/-->
                <colspec colname="1" colnum="1" colsep="0" colwidth="1.108in"/>
                <colspec colname="2" colnum="2" colsep="0" colwidth="4.017in"/>
                <tbody>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>name</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			精确匹配语义。当被更新的名字与
			<replaceable>name</replaceable>字段内容一致时，
			这个规则匹配。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>subdomain</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			当被更新的名字是<replaceable>name</replaceable>字段内容
			的子域或与其一致时，这个规则匹配。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>zonesub</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			这个规则与subdomain类似，除了当被更新的名字
			是配置了<command>update-policy</command>语句
			的区的子域时，它会匹配。这就排除了两次输入
			区名的需要，并且能够在多个区中使用标准的
			<command>update-policy</command>语句而不需要
			修改。
		      </para>
		      <para>
                        在使用这条规则时，<replaceable>name</replaceable>
                        字段会被忽略。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>wildcard</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			<replaceable>name</replaceable>字段服从DNS通配符扩展，
			当被更新的名字是一个通配符的有效扩展时，这条规则匹配。
		      </para>
		    </entry>
		  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>self</varname>
                      </para>
                    </entry>
                    <entry colname="2">
		      <para>
			当被更新记录的名字匹配<replaceable>identity</replaceable>字
			段的内容时，这条规则匹配。
			<replaceable>name</replaceable>字段被忽略。
			为避免混淆，推荐奖这个字段设置为与
			<replaceable>identity</replaceable>字段一致或为“.”。
                      </para>
		      <para>
			在允许为每个更新名字使用一个密钥时，<varname>self</varname>
			规则类型是最有用的，这时密钥与被更新的记录有同样的名字。
			这种情况下，<replaceable>identity</replaceable>字段可以被
			指定为<constant>*</constant>（星号）。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>selfsub</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			这条规则与<varname>self</varname>相似，除了
			<varname>self</varname>的子域也可以被更新之外。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>selfwild</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			这条规则与<varname>self</varname>相似，除了仅仅只有
			<varname>self</varname>的子域才能被更新之外。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>ms-self</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
                        当一个客户端使用一个Windows机器标识（例如，
			'machine$@REALM'）发送一个UPDATE，这条规则允许带有
			绝对名字'machine.REALM'的记录被更新。
                      </para>
                      <para>
			要匹配的域（译注：realm）在
			<replaceable>identity</replaceable>字段中指定。
                      </para>
                      <para>
			<replaceable>name</replaceable>字段在本规则中没有
			效果；作为占位符，它应被设置为“.”。
                      </para>
                      <para>
			效果；作为占位符，它应被设置为“.”。
			例如，<userinput>grant EXAMPLE.COM ms-self . A AAAA</userinput>
			允许域<userinput>EXAMPLE.COM</userinput>中所有带有
			一个有效标记的机器更新它自己的地址记录。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>ms-selfsub</varname>
                      </para>
                    </entry> <entry colname="2">
                      <para>
			一个有效标记的机器更新它自己的地址记录。
			这个与<command>ms-self</command>相似，除了它还允许更新
			在Windows机器标记下指定名字的任何子域，而不仅仅它自身。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>ms-subdomain</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			当一个客户端使用一个Windows机器标识（例如，
			‘machine$@REALM’）发送一个UPDATE时，这条规则允许
			在指定域（译注：realm）中的任何机器更新区中或
			区的指定子域中的任何记录。
                      </para>
                      <para>
			要匹配的域（译注：realm）在
                        <replaceable>identity</replaceable>字段中指定。
		      </para>
                      <para>
                        <replaceable>name</replaceable>指定可能被更新
			的子域。
			如果设置为“.”（或任何在区顶点及之上的任何其它
			名字），任何区内的名字都可以被更新。
                      </para>
                      <para>
	                例如，如果区“example.com”的
			<command>update-policy</command>包含
			<userinput>grant EXAMPLE.COM ms-subdomain hosts.example.com. A AAAA</userinput>，
			任何在域（译注：realm）<userinput>EXAMPLE.COM</userinput>
			内带有有效标识（译注：principal）的机器都能够更新
			在“hosts.example.com”或之下的地址记录。
                      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>krb5-self</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			这条规则接受Kerberos机器标识（host/machine@REALM）作为
			当一个客户端使用一个Kerberos机器标识（例如，
			发送一个UPDATE时，这条规则允许带有完全‘machine’名字的
			记录被更新，假如它已被REALM认证了。
                        这个类似于<command>ms-self</command>，但不完全与后者
                        相同，这是由于Kerberos标识的‘machine’部份是一个完全
                        名字而不是一个不完全的名字。
		      </para>
		      <para>
                        要匹配的领域在<replaceable>identity</replaceable>字段
                        中指定。
		      </para>
		      <para>
                        <replaceable>name</replaceable>字段对这条规则没有影响；
                        它应该被设置为“.”作为一个占位符。
		      </para>
		      <para>
                        例如，
                        <userinput>grant EXAMPLE.COM krb5-self . A AAAA</userinput>
                        允许任何在域<userinput>EXAMPLE.COM</userinput>带有一个
                        有效标识的机器更新其自身的地址记录。
		      </para>
		    </entry>
		  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <varname>krb5-selfsub</varname>
                      </para>
                    </entry> <entry colname="2">
                      <para>
                        这条类似于<command>krb5-self</command>，除了它也允许
                        更新在Kerberos标识的‘machine’部份中指定的名字的任何
                        子域，而不仅仅是名字自身，之外。
                      </para>
                    </entry>
                  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>krb5-subdomain</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			这条规则与<command>ms-subdomain</command>相同，除了
			它使用Kerberos机器标识（例如，‘host/machine@REALM’）
			工作，而不是使用Windows机器标识。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>tcp-self</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			这条规则允许通过TCP发送更新，并且对这些更新，
			从客户端的IP地址到<literal>in-addr.arpa</literal>
			和<literal>ip6.arpa</literal>
			名字空间的标准映射与被更新的名字进行匹配。
			<command>identity</command>字段必须与名字匹配。
			<command>name</command>字段应该被设置为“.”。
                        注意，由于身份是基于客户端的IP地址，不必对更新
                        请求消息进行签名。
		      </para>
		      <note>
			理论上有可能欺骗这些TCP会话。
		      </note>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>6to4-self</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
                        这允许任何来自6to4网络或来自对应的IPv4地址的TCP
                        连接更新与一个6to4 IPv6前缀匹配的名字，如同在RFC 3056
			中所描述的。
			这是刻意允许NS或DNAME资源记录集被添加到
			<literal>ip6.arpa</literal>反向树中。
		      </para>
		      <para>
                        <command>identity</command>字段必须和
			<literal>ip6.arpa</literal>中的6to4前缀相匹配。
			<command>name</command>字段应被设置为“.”。
			注意，由于identity是基于客户端的IP地址，对更新请求信息
			进行签名不是必须的。
		      </para>
		      <para>
			另外，如果指定一个在<literal>2.0.0.2.ip6.arpa</literal>
			名字空间之外的<literal>ip6.arpa</literal>名字，对应的
			/48反向名字可以被更新。
			例如，来自2001:DB8:ED0C::/48的TCP/IPv6连接可以更新
			<literal>C.0.D.E.8.B.D.0.1.0.0.2.ip6.arpa</literal>下
			的记录。
		      </para>
		      <note>
			理论上有可能欺骗这些TCP会话。
		      </note>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			<varname>external</varname>
		      </para>
		    </entry> <entry colname="2">
		      <para>
			这个规则允许<command>named</command>推迟决定是否允许
                        一个给定的更新到一个外部的服务进程。
		      </para>
		      <para>
			和服务进程通信的方法在
                        <replaceable>identity</replaceable>字段中指定，其格式是
			“<constant>local:</constant><replaceable>path</replaceable>”，
			这里<replaceable>path</replaceable>是一个UNIX域套接字
                        的位置。（当前，“local”是唯一支持的机制。）
		      </para>
		      <para>
			到外部服务进程的请求通过UNIX域套接字以数据报发送，其
                        格式为：
		      </para>
		      <programlisting>
   Protocol version number (4 bytes, network byte order, currently 1)
   Request length (4 bytes, network byte order)
   Signer (null-terminated string)
   Name (null-terminated string)
   TCP source address (null-terminated string)
   Rdata type (null-terminated string)
   Key (null-terminated string)
   TKEY token length (4 bytes, network byte order)
   TKEY token (remainder of packet)</programlisting>
		      <para>
			服务进程以网络字节序回应一个四字节值，包含0或者1；0
                        表示指定的更新不被允许，1表示其被允许。
		      </para>
		    </entry>
		  </row>
                </tbody>
              </tgroup>
            </informaltable>
          </section>

	  <section xml:id="multiple_views"><info><title>多视图</title></info>

	    <para>
              当使用了多个视图，一个区可能被在超过一个视图中引用。通常，这些
              视图会对同样的名字包含不同的区，即运行不同的客户端对同样请求收到
              不同的回复。然而，在许多时候，期望多个视图包含同样的区。
              <command>in-view</command>区选项提供一个有效的方法来做这事：它
              允许一个视图引用在之前一个已配置视图中定义的一个区。例如：
	    </para>
	    <programlisting>
view internal {
    match-clients { 10/8; };

    zone example.com {
	type master;
	file "example-external.db";
    };
};

view external {
    match-clients { any; };

    zone example.com {
	in-view internal;
    };
};
	    </programlisting>
	    <para>
	      一个<command>in-view</command>选项不能引用到在配置文件后面定义的
              视图。
	    </para>
	    <para>
              一个使用了<command>in-view</command>选项的<command>zone</command>
              语句不能使用除<command>forward</command>和
              <command>forwarders</command>之外的任何其它选项。
              （这些选项控制包含视图的行为，而不是改变区对象自身。）
	    </para>
            <para>
              区级访问控制表（例如：allow-query，allow-transfer）和
              区的其它详细配置是在定义区的视图中设置。需要足够仔细地
              确保这些访问控制表足够广泛能适应引用区的所有视图。
            </para>
	    <para>
	      一个<command>in-view</command>区不能用作一个响应策略区。
	    </para>
            <para>
              一个 <command>in-view</command>区不能引用一个
              一个<command>forward</command>区。
            </para>

	  </section>

        </section>
      </section>
      <section xml:id="zone_file"><info><title>区文件</title></info>

        <section xml:id="types_of_resource_records_and_when_to_use_them"><info><title>资源记录的类型及使用时机</title></info>

          <para>
            本节很大部份是引用自RFC 1034，描述资源记录（RR）的概念并解释了其使
            用时机。自从RFC 1034公布以来，几种新的RR被确定并在DNS中实现。这些
            RR也被包括进来。
          </para>
          <section><info><title>资源记录</title></info>

            <para>
              一个域名标识一个节点。每个节点有一个资源信息的集合，这个集合可以
              是空的。资源信息集合与一个由分离的资源记录所组成的特定名字相关。
              资源记录在集合中的顺序没有意义，也不会在名字服务器，解析器或DNS的
              其它部份中保存。但是，允许出于优化的目的对多个资源记录排序，
              例如，指定某个特定的附近的服务器第一个被尝试。参见
              <xref linkend="the_sortlist_statement"/>和
              <xref linkend="rrset_ordering"/>。
            </para>

            <para>
              资源记录的组成部份为：
            </para>
            <informaltable colsep="0" rowsep="0">
              <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="4Level-table">
                <colspec colname="1" colnum="1" colsep="0" colwidth="1.000in"/>
                <colspec colname="2" colnum="2" colsep="0" colwidth="3.500in"/>
                <tbody>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        owner name
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        域名，用于确定资源记录的位置。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        type
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        一个编码的16位值，指定资源记录的类型。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        TTL
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        资源记录的生存时间。这个字段是以一个32位整数表示秒数，
                        主要用于解析器缓存资源记录时。TTL描述一个资源记录在其被
                        丢弃前可以被缓存多长的时间。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        class
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        一个编码的16位值，指定一个协议族或一个协议的实例。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        RDATA
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        资源数据。数据的格式是与类型（有时包括类）相关的。
                      </para>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </informaltable>
            <para>
              以下是有效资源记录的<emphasis>类型</emphasis>：
            </para>
            <informaltable colsep="0" rowsep="0">
              <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="4Level-table">
                <colspec colname="1" colnum="1" colsep="0" colwidth="0.875in"/>
                <colspec colname="2" colnum="2" colsep="0" colwidth="3.625in"/>
                <tbody>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        A
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        一个主机地址。在IN类中，这是一个32位的IP地址。
                        在RFC 1035中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        AAAA
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        IPv6地址。在RFC 1886中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        A6
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        IPv6地址。它可以是一部份地址（一个后缀）加上一个可以找
                        到其余部份地址（前缀）的间接指向的名字。试验性的。
                        在RFC 2874中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        AFSDB
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        AFS数据库服务器的位置。试验性的。在RFC 1183中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        AMTRELAY
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        自动组播隧道中继（Automatic Multicast Tunneling Relay）
                        发现记录。
                        进展中的 draft-ietf-mboned-driad-amt-discovery。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        APL
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        地址后缀列表。试验性的。在RFC 3123中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        ATMA
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        ATM地址。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        AVC
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        应用可见性和控制记录。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        CAA
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        确定哪个证书权威可以发放这个域的证书，以及它们在
                        这样做时需要遵从哪些规则。在RFC 6844中定义。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        CDNSKEY
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        确定哪个DNSKEY记录应该和DS记录一样在父区中被发布。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        CDS
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        包含可以被父区发布的DS记录的集合。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        CERT
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        存放一个数字签名。在RFC 2538中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        CNAME
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        指定一个别名的正规名。在RFC 1035中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        CSYNC
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        在DNS中从子区到父区的同步，在RFC7477中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        DHCID
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
			用于识别哪一个DHCP客户端被关联到这个名字。
			在RFC 4701中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        DLV
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        一个DNS旁视验证记录，它包含用作在一个DLV名字空间中
                        区的信任锚的记录。在RFC 4431中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        DNAME
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        使用另一个名字替代所指定的名字后进行查找，有效地将域名
                        空间的一个完整子树作为别名，与之相对的使CNAME RR将单个
                        记录作为别名。在RFC 2672中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        DNSKEY
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        存储与一个签名DNS区相关的公钥。在RFC 4034中描述。
                      </para>
                    </entry>
                  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para>
			DOA
		      </para>
		    </entry>
		    <entry colname="2">
		      <para>
			在DNS上实现数字对象体系。试验性。
		      </para>
		    </entry>
		  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        DS
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        存储与一个签名DNS区相关的公钥的hash。在RFC 4034中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        EID
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        终点标识符。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        EUI48
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        一个48位EUI地址。在RFC 7043中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        EUI64
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        一个64位EUI地址。在RFC 7043中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        GID
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        保留。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        GPOS
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        指定全球位置。为LOC所替代。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        HINFO
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        指定主机所用的CPU和OS。在RFC 1035中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        HIP
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        主机身份协议地址。
                        在RFC 5205中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        IPSECKEY
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        提供一个存储DNS中的IPsec keying材料的方法。
                        在RFC 4025中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        ISDN
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        ISDN地址的表示。试验性的。在RFC 1183中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        KEY
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        存放一个与DNS名字相关的公钥。用于最初的DNSSEC；现被
                        DNSSECbis中的DNSKEY所替代，但仍然用于SIG(0)。在RFC 2535
                        和2931中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        KX
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        指定一个DNS名字的密钥交换者。在RFC 2230中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        L32
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        为标识符-定位器网络协议存放32位定位值。
                        在RFC 6742中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        L64
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        为标识符-定位器网络协议存放64位定位值。
                        在RFC 6742中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        LOC
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        存放GPS信息。在RFC 1876中描述。试验性的。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        LP
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        标识符-定位器网络协议。
                        在RFC 6742中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        MB
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        邮箱。已成历史。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        MD
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        邮件目的地。已成历史。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        MF
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        邮件转发者。已成历史。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        MG
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        邮件组。已成历史。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        MINFO
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        邮件信息。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        MR
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        邮件改名。已成历史。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        MX
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        为一个域指定邮件交换者。由邮件交换者的主机名后跟一个16
                        位的优先数（数值越小越优先）。在RFC 974、RFC 1035中描
                        述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NAPTR
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        名字权威指针。在RFC 2915中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NID
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        存放标识符-定位器网络协议中的节点标识符值。
                        在RFC 6742中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NINFO
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        包含区状态信息。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NIMLOC
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        Nimrod定位器。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NSAP
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        一个网络服务访问点。在RFC 1706中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NS
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        域的权威名字服务器。在RFC 1035中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NSEC
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        用于DNSSECbis中，指明在某个名字内部并带有属主名的资源记
                        录不在一个区内，也指明某个存在的名字所提供的资源记录类
                        型。在RFC 4034中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NSEC3
                      </para>
                    </entry>
		    <entry colname="2">
		      <para>
			用于DNSSECbis，以安全地指示在一个区中某一名字
			间隔内不存在某个指定名字的资源记录，以及指示
			一个存在的名字具有那种资源记录类型。NSEC3与
			NSEC的区别是它阻止对区的枚举，但是比NSEC更加
			消耗服务器和客户端的计算资源。在RFC 5155中描述。
		      </para>
		    </entry>
		  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NSEC3PARAM
                      </para>
                    </entry>
		    <entry colname="2">
		      <para>
			用于DNSSECbis，告诉权威服务器哪个NSEC3链是可用
			的。在RFC 5155中描述。
		      </para>
		    </entry>
		  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NULL
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        这是一个不透明容器。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        NXT
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        用于DNSSEC中，安全地指明在某个名字之间的给定属主名的资
                        源记录不存在于一个区中，并指明对一个存在的名字具有哪种
                        类型的资源记录。在原始的DNSSEC中使用；在DNSSECbis中被
                        NSEC取代。在RFC 2535中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        OPENPGPKEY
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        用于保存一个OPENPGPKEY。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        PTR
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        指向域名空间另一部份的指针。在RFC 1035中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        PX
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        在RFC 822和X.400地址之间提供映射。在RFC 2163中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        RKEY
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        资源密钥。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        RP
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        关于域的负责人的信息。试验性的。在RFC 1183中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        RRSIG
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        包含DNSSECbis签名数据。在RFC 4034中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        RT
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        绑定在没有自己的直接的广域网地址的主机上的路由出口。
                        试验性的。在RFC 1183中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        SIG
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        包含DNSSEC签名数据。在原始的DNSSEC中使用；已被DNSSECbis
                        中的RRSIG所替代，但是仍然用作SIG(0)。在RFC 2535和2931中
                        描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        SINK
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        通用容器记录。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        SMIMEA
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        S/MIME安全认证协会。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        SOA
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        标识一个授权区的头部。在RFC 1035中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        SPF
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        包含一个给定电子邮件域名的发送者策略框架信息。
                        在RFC 4408中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        SRV
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        关于众所周知的网络服务的信息（替代WKS）。在RFC 2782中
                        描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        SSHFP
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        提供发布一个安全shell密钥指纹的安全方式。
                        在RFC 4255中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        TA
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        信任锚，试验性。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        TALINK
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        信任锚链，试验性。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        TLSA
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        传输层安全认证协会。在RFC 6698中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        TXT
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        文本记录。在RFC 1035中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        UID
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        保留。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        UINFO
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        保留。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        UNSPEC
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        保留。历史的。
                        Reserved. Historical.
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        URI
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        保存一个URI。在RFC 7553中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        WKS
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        关于一个域所支持的众所周知的网络服务的信息，如SMTP。已
                        成历史。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        X25
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        X.25网络地址的表示。试验性的。在RFC 1183中描述。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        ZONEMD
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        区消息摘要（Zone Message Digest）。
                        进展中的 draft-wessels-dns-zone-digest。
                      </para>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </informaltable>
            <para>
              以下是当前DNS中有效的资源记录的<emphasis>类</emphasis>：
            </para>
            <informaltable colsep="0" rowsep="0"><tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="4Level-table">
                <colspec colname="1" colnum="1" colsep="0" colwidth="0.875in"/>
                <colspec colname="2" colnum="2" colsep="0" colwidth="3.625in"/>
                <tbody>

                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        IN
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        Internet。
                      </para>
                    </entry>
                  </row>

                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        CH
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        CHAOSnet，一个MIT在1970年代中期建立的局域网协议。由于其
                        历史上的目的使用非常少，但是被BIND重新用于服务器内建信
                        息区，如，<literal>version.bind</literal>。
                      </para>
                    </entry>
                  </row>

                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        HS
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        Hesiod，一个由MIT的雅典娜（Athena）项目所开发的
                        信息服务。它用于在不同的系统数据库之间共享信息，
                        如用户，用户组，打印机等等。
                      </para>
                    </entry>
                  </row>

                </tbody>
              </tgroup>
            </informaltable>

            <para>
              主名字通常是隐含的，而不是形成资源记录的一个完整部份。例如，许多
              名字服务器在内部为名字空间形成树或hash结构，和资源记录链节点。其
              余的资源记录部份是固定的头部（类型，类，TTL），对所有的资源记录是
              一致的，还有一个变化的部份（RDATA）要适应其所描述的记录。
            </para>
            <para>
              TTL字段的含义是一个资源记录可以被保留在缓存中的时间长度。这个限制
              不应用到区中的权威数据；它也会过期，但是遵从区的刷新策略。TTL由数
              据源的所在区的区管理员指定。短的TTL可以减少缓存，一个为零的TTL禁
              止缓存，互联网性能的现实建议对典型的主机，这些时间应该在天的
              数量级。如果有一个预期的变化，先在变化之前将TTL减小以在变化期间
              缩短不一致的持续时间，然后在变化之后增加回到其原先的值。
            </para>
            <para>
              资源记录的RDATA部份中的数据作为二进制字符串和域名的一个组成部份被
              携带。域名频繁地被用作指向DNS中其它数据的“指针”。
            </para>
          </section>
          <section xml:id="rr_text"><info><title>文本形式的资源记录表示</title></info>

            <para>
              资源记录在DNS协议包内被表示成二进制形式，而在存放到一个名字服务器
              或解析器中通常被表示成高级编码的形式。在RFC 1034中提供的例子中，
              使用一个类似主文件中的形式来显示资源记录的内容。在这个格式中，大
              多数资源记录显示在一行之内，虽然可以使用括号显示到多行中。
            </para>
            <para>
              一行的开始是资源记录的属主。如果一行以一个空字符开始，属主就假设
              是与上一个资源记录一样。通常包含一些空行以增加可读性。
            </para>
            <para>
              在属主之后，依次列出资源记录的TTL，类型和类。类型和类使用上面所定
              义的缩写，TTL是一个整数，在类型字段之前。为了避免词法分析时的
              二义，类型和类的缩略语不能连着写，TTL是整数，类型缩略语总是在
              最后。IN类和TTL值在例子中通常省略，主要是为了更清楚。
            </para>
            <para>
              资源数据或者资源记录的RDATA部份根据各种数据的表示方法给出。
            </para>
            <para>
              例如，我们可能这样显示在一个消息中所携带的资源记录：
            </para>
            <informaltable colsep="0" rowsep="0"><tgroup cols="3" colsep="0" rowsep="0" tgroupstyle="4Level-table">
                <colspec colname="1" colnum="1" colsep="0" colwidth="1.381in"/>
                <colspec colname="2" colnum="2" colsep="0" colwidth="1.020in"/>
                <colspec colname="3" colnum="3" colsep="0" colwidth="2.099in"/>
                <tbody>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <literal>ISI.EDU.</literal>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        <literal>MX</literal>
                      </para>
                    </entry>
                    <entry colname="3">
                      <para>
                        <literal>10 VENERA.ISI.EDU.</literal>
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para/>
                    </entry>
                    <entry colname="2">
                      <para>
                        <literal>MX</literal>
                      </para>
                    </entry>
                    <entry colname="3">
                      <para>
                        <literal>10 VAXA.ISI.EDU</literal>
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <literal>VENERA.ISI.EDU</literal>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        <literal>A</literal>
                      </para>
                    </entry>
                    <entry colname="3">
                      <para>
                        <literal>128.9.0.32</literal>
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para/>
                    </entry>
                    <entry colname="2">
                      <para>
                        <literal>A</literal>
                      </para>
                    </entry>
                    <entry colname="3">
                      <para>
                        <literal>10.1.0.52</literal>
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <literal>VAXA.ISI.EDU</literal>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        <literal>A</literal>
                      </para>
                    </entry>
                    <entry colname="3">
                      <para>
                        <literal>10.2.0.27</literal>
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para/>
                    </entry>
                    <entry colname="2">
                      <para>
                        <literal>A</literal>
                      </para>
                    </entry>
                    <entry colname="3">
                      <para>
                        <literal>128.9.0.33</literal>
                      </para>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </informaltable>
            <para>
              MX资源记录的RDATA部份由一个16位数字和一个紧随的域名组成。地址资源
              记录使用一个标准的IP地址格式来包含一个32位的互联网地址。
            </para>
            <para>
              上述例子显示6条资源记录，即3个域名，每个域名带有2条资源记录。
            </para>
            <para>
              类似的我们可以看到：
            </para>
            <informaltable colsep="0" rowsep="0"><tgroup cols="3" colsep="0" rowsep="0" tgroupstyle="4Level-table">
                <colspec colname="1" colnum="1" colsep="0" colwidth="1.491in"/>
                <colspec colname="2" colnum="2" colsep="0" colwidth="1.067in"/>
                <colspec colname="3" colnum="3" colsep="0" colwidth="2.067in"/>
                <tbody>
                  <row rowsep="0">
                    <entry colname="1">
                      <para>
                        <literal>XX.LCS.MIT.EDU.</literal>
                      </para>
                    </entry>
                    <entry colname="2">
                      <para>
                        <literal>IN A</literal>
                      </para>
                    </entry>
                    <entry colname="3">
                      <para>
                        <literal>10.0.0.44</literal>
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
		    <entry colname="1"/>
                    <entry colname="2">
                      <para>
                        <literal>CH A</literal>
                      </para>
                    </entry>
                    <entry colname="3">
                      <para>
                        <literal>MIT.EDU. 2420</literal>
                      </para>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </informaltable>
            <para>
              这个例子显示了<literal>XX.LCS.MIT.EDU</literal>的两个地址，分别在
              不同的类中。
            </para>
          </section>
        </section>

        <section xml:id="mx_records"><info><title>对MX记录的讨论</title></info>

          <para>
            如同上面所描述的，域名服务器将消息存放为一系列资源数据，每个资源数
            据都包含一个关于一个给定域名（通常但不总是一个主机）的特定的信息片
            段。理解一个资源记录的最简单的方式是将其作为一个数据对，即一个与一
            个相关数据匹配的域名，和被存储的一些附加类型信息，后者是用以帮助系
            统决定何时资源记录是相关的。
          </para>

          <para>
            MX记录用于控制电子邮件的投递。在记录中指定的数据是一个优先级和一个
            域名。优先级控制电子邮件尝试投递的顺序，数字最小的最优先。如果两个
            优先级相同，就随机选择一个服务器。如果一个给定优先级的服务器没有响
            应，邮件传输代理（MTA，mail transport agent）将会选择下一个更大的优
            先数。优先数大小没有绝对含义 — 它们仅仅是相对于这个域名的其它MX记录
            而言。所给出的域名是邮件将要被投递到的机器。它
            <emphasis>必须</emphasis>有一个相关的地址记录（A或者AAAA） — 
            CNAME是不够的。
          </para>
          <para>
            对于一个给定域，如果同时有一个CNAME记录和一个MX记录，MX记录就是错误
            的，将被忽略。作为替代，邮件将被投递到被CNAME所指向的MX记录所指定的
            服务器上。
            例如：
          </para>
          <informaltable colsep="0" rowsep="0">
            <tgroup cols="5" colsep="0" rowsep="0" tgroupstyle="3Level-table">
              <colspec colname="1" colnum="1" colsep="0" colwidth="1.708in"/>
              <colspec colname="2" colnum="2" colsep="0" colwidth="0.444in"/>
              <colspec colname="3" colnum="3" colsep="0" colwidth="0.444in"/>
              <colspec colname="4" colnum="4" colsep="0" colwidth="0.976in"/>
              <colspec colname="5" colnum="5" colsep="0" colwidth="1.553in"/>
              <tbody>
                <row rowsep="0">
                  <entry colname="1">
                    <para>
                      <literal>example.com.</literal>
                    </para>
                  </entry>
                  <entry colname="2">
                    <para>
                      <literal>IN</literal>
                    </para>
                  </entry>
                  <entry colname="3">
                    <para>
                      <literal>MX</literal>
                    </para>
                  </entry>
                  <entry colname="4">
                    <para>
                      <literal>10</literal>
                    </para>
                  </entry>
                  <entry colname="5">
                    <para>
                      <literal>mail.example.com.</literal>
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para/>
                  </entry>
                  <entry colname="2">
                    <para>
                      <literal>IN</literal>
                    </para>
                  </entry>
                  <entry colname="3">
                    <para>
                      <literal>MX</literal>
                    </para>
                  </entry>
                  <entry colname="4">
                    <para>
                      <literal>10</literal>
                    </para>
                  </entry>
                  <entry colname="5">
                    <para>
                      <literal>mail2.example.com.</literal>
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para/>
                  </entry>
                  <entry colname="2">
                    <para>
                      <literal>IN</literal>
                    </para>
                  </entry>
                  <entry colname="3">
                    <para>
                      <literal>MX</literal>
                    </para>
                  </entry>
                  <entry colname="4">
                    <para>
                      <literal>20</literal>
                    </para>
                  </entry>
                  <entry colname="5">
                    <para>
                      <literal>mail.backup.org.</literal>
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para>
                      <literal>mail.example.com.</literal>
                    </para>
                  </entry>
                  <entry colname="2">
                    <para>
                      <literal>IN</literal>
                    </para>
                  </entry>
                  <entry colname="3">
                    <para>
                      <literal>A</literal>
                    </para>
                  </entry>
                  <entry colname="4">
                    <para>
                      <literal>10.0.0.1</literal>
                    </para>
                  </entry>
                  <entry colname="5">
                    <para/>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para>
                      <literal>mail2.example.com.</literal>
                    </para>
                  </entry>
                  <entry colname="2">
                    <para>
                      <literal>IN</literal>
                    </para>
                  </entry>
                  <entry colname="3">
                    <para>
                      <literal>A</literal>
                    </para>
                  </entry>
                  <entry colname="4">
                    <para>
                      <literal>10.0.0.2</literal>
                    </para>
                  </entry>
                  <entry colname="5">
                    <para/>
                  </entry>
                </row>
              </tbody>
            </tgroup>
            </informaltable><para>
            邮件投递将先尝试<literal>mail.example.com</literal>和
            <literal>mail2.example.com</literal>（以任何顺序），然后如果都没有
            成功，将会尝试投递到<literal>mail.backup.org</literal>。
          </para>
        </section>
        <section xml:id="Setting_TTLs"><info><title>设置TTL</title></info>

          <para>
            资源记录的生存期字段是一个32位的整数，它的单位为秒，主要用于解析器
            缓存资源记录。TTL描述一个资源记录在被丢弃前可以被缓存多长时间。当前
            用于一个区文件中的有以下三种类型的TTL。
          </para>
          <informaltable colsep="0" rowsep="0">
            <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="3Level-table">
              <colspec colname="1" colnum="1" colsep="0" colwidth="0.750in"/>
              <colspec colname="2" colnum="2" colsep="0" colwidth="4.375in"/>
              <tbody>
                <row rowsep="0">
                  <entry colname="1">
                    <para>
                      SOA
                    </para>
                  </entry>
                  <entry colname="2">
                    <para>
                      SOA的最后一个字段是否定缓存TTL。它控制从你发出的没有这个
                      域名（NXDOMAIN）的响应会在其它服务器中缓存多长时间。
                    </para>
                    <para>
                      最大的否定缓存时间是3小时（3h）。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para>
                      $TTL
                    </para>
                  </entry>
                  <entry colname="2">
                    <para>
                      在区文件顶部（在SOA之前）的$TTL指令给出对每个没有指定TTL
                      集的资源记录一个缺省的TTL。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para>
                      RR TTLs
                    </para>
                  </entry>
                  <entry colname="2">
                    <para>
                      每个资源记录可以有一个以秒为单位的TTL，它将控制其它服务器
                      可以缓存它多长时间。
                    </para>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </informaltable>
          <para>
            所有这三种TTL的缺省单位都是秒，虽然单位都可以被显式指定，例如，
            <literal>1h30m</literal>。
          </para>
        </section>
        <section xml:id="ipv4_reverse"><info><title>IPv4中的反向映射</title></info>

          <para>
            反向名字解析（即将IP地址翻译成名字）是通过使用
            <emphasis>in-addr.arpa</emphasis>域和PTR记录来实现的。in-addr.arpa
            域中的条目是以自左向右表示从大到小的方式组成的。这与IP地址通常书写
            方式的顺序相反。这样，一个IP地址为10.1.2.3的机器对应的in-addr.arpa
            名字为3.2.1.10.in-addr.arpa。这个名字应该有一个PTR资源记录，并且其
            数据字段是机器的名字，如果机器有多个名字，作为可选项，也可以有多个
            PTR记录。例如，在<optional>example.com</optional>域中：
          </para>
          <informaltable colsep="0" rowsep="0">
            <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="3Level-table">
              <colspec colname="1" colnum="1" colsep="0" colwidth="1.125in"/>
              <colspec colname="2" colnum="2" colsep="0" colwidth="4.000in"/>
              <tbody>
                <row rowsep="0">
                  <entry colname="1">
                    <para>
                      <literal>$ORIGIN</literal>
                    </para>
                  </entry>
                  <entry colname="2">
                    <para>
                      <literal>2.1.10.in-addr.arpa</literal>
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para>
                      <literal>3</literal>
                    </para>
                  </entry>
                  <entry colname="2">
                    <para>
                      <literal>IN PTR foo.example.com.</literal>
                    </para>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </informaltable>
          <note>
            <para>
              例子中的<command>$ORIGIN</command>行用于提供相对于例子的上下文 —
              仅仅用在实际中不需要出现的地方。它们用于这里，仅仅是指明例子是相
              对于所列出的起点。
            </para>
          </note>
        </section>
        <section xml:id="zone_directives"><info><title>其它区文件指令</title></info>

          <para>
            主文件格式最初由RFC 1035定义，后来被扩展。虽然主文件格式本身是类独
            立的，但主文件中的所有记录都必须是属于同一个类。
          </para>
          <para>
            主文件指令包括<command>$ORIGIN</command>，
            <command>$INCLUDE</command>和<command>$TTL</command>。
          </para>
          <section xml:id="atsign"><info><title>The <command>@</command> (at-sign)</title></info>

            <para>
	      当asperand或at符号（@）（译注：即圈a）用于标记（或名字）
	      字段中时，它表示当前原点。
	      在区文件的开始处，它就是
	      &lt;<varname>zone_name</varname>&gt; （后跟一个结尾的点）。
            </para>
          </section>
          <section xml:id="origin_directive"><info><title><command>$ORIGIN</command>指令</title></info>

            <para>
              语法：<command>$ORIGIN</command>
	      <replaceable>domain-name</replaceable>
              <optional><replaceable>comment</replaceable></optional>
            </para>
            <para>
              <command>$ORIGIN</command>设置域名，它将被添加到任何不完整记录的
              后面。当一个区刚被读入时，有一个隐含的<command>$ORIGIN</command>
              &lt;<varname>zone_name</varname>&gt;<command>.</command>
	      （后跟一个结尾的点）。当前的
              <command>$ORIGIN</command>被添加到<command>$ORIGIN</command>参数
              所指定的域名，如果它不是一个绝对名字。
            </para>

<programlisting>
$ORIGIN example.com.
WWW     CNAME   MAIN-SERVER
</programlisting>

            <para>
              相当于
            </para>

<programlisting>
WWW.EXAMPLE.COM. CNAME MAIN-SERVER.EXAMPLE.COM.
</programlisting>

          </section>
          <section xml:id="include_directive"><info><title><command>$INCLUDE</command>指令</title></info>
            <para>
              语法：<command>$INCLUDE</command>
              <replaceable>filename</replaceable>
              <optional>
<replaceable>origin</replaceable> </optional>
              <optional> <replaceable>comment</replaceable> </optional>
            </para>
            <para>
              读入并处理文件<filename>filename</filename>，就像它在这一点包含此
              文件进来。如果设定了<command>origin</command>，文件就使用
              <command>$ORIGIN</command>所设定的值被处理，否则，使用当前
              <command>$ORIGIN</command>。
            </para>
            <para>
              在被包含的文件被读入之后，起点和当前域名恢复到它们
              <command>$INCLUDE</command>之前的值。
            </para>
            <note>
              <para>
                RFC 1035指定了当前起点应该在一个<command>$INCLUDE</command>指令
                之后恢复，但未对当前域名是否恢复作出规定。BIND 9对两者都恢复。
                这可能构成RFC 1035的一个派生，或者一个特征，也许都是。
              </para>
            </note>
          </section>
          <section xml:id="ttl_directive"><info><title><command>$TTL</command>指令</title></info>

            <para>
              语法：<command>$TTL</command>
              <replaceable>default-ttl</replaceable>
              <optional>
<replaceable>comment</replaceable> </optional>
            </para>
            <para>
              为此命令之后的未定义TTL的记录设置缺省的生存期（TTL）。有效的TTL值
              范围为0-2147483647秒。
            </para>
            <para>
              <command>$TTL</command>在RFC 2308中定义。
            </para>
          </section>
        </section>
        <section xml:id="generate_directive"><info><title><acronym>BIND</acronym>主文件扩展：<command>$GENERATE</command>指令</title></info>

          <para>
            语法：<command>$GENERATE</command>
	    <replaceable>range</replaceable>
	    <replaceable>lhs</replaceable>
            <optional><replaceable>ttl</replaceable></optional>
            <optional><replaceable>class</replaceable></optional>
	    <replaceable>type</replaceable>
	    <replaceable>rhs</replaceable>
            <optional><replaceable>comment</replaceable></optional>
          </para>
          <para><command>$GENERATE</command>
	    用于建立一系列资源记录，它们仅仅只差别一个循环变量。
	    <command>$GENERATE</command>可以轻易地生成在RFC 2317中所描述的支持
	    /24之下的反向授权所要求的一系列记录：无类IN-ADDR.ARPA授权。
          </para>

<programlisting>$ORIGIN 0.0.192.IN-ADDR.ARPA.
$GENERATE 1-2 @ NS SERVER$.EXAMPLE.
$GENERATE 1-127 $ CNAME $.0</programlisting>

          <para>
            等效于
          </para>

<programlisting>0.0.0.192.IN-ADDR.ARPA. NS SERVER1.EXAMPLE.
0.0.0.192.IN-ADDR.ARPA. NS SERVER2.EXAMPLE.
1.0.0.192.IN-ADDR.ARPA. CNAME 1.0.0.0.192.IN-ADDR.ARPA.
2.0.0.192.IN-ADDR.ARPA. CNAME 2.0.0.0.192.IN-ADDR.ARPA.
...
127.0.0.192.IN-ADDR.ARPA. CNAME 127.0.0.0.192.IN-ADDR.ARPA.
</programlisting>

	   <para>
	    生成A和MX记录的集合。注意MX的右侧是一个被引号包含的字符串。
	    在右侧被处理时，引号会被去掉。
	   </para>

<programlisting>
$ORIGIN EXAMPLE.
$GENERATE 1-127 HOST-$ A 1.2.3.$
$GENERATE 1-127 HOST-$ MX "0 ."</programlisting>

          <para>
            等效于
          </para>

<programlisting>HOST-1.EXAMPLE.   A  1.2.3.1
HOST-1.EXAMPLE.   MX 0 .
HOST-2.EXAMPLE.   A  1.2.3.2
HOST-2.EXAMPLE.   MX 0 .
HOST-3.EXAMPLE.   A  1.2.3.3
HOST-3.EXAMPLE.   MX 0 .
...
HOST-127.EXAMPLE. A  1.2.3.127
HOST-127.EXAMPLE. MX 0 .
</programlisting>

          <informaltable colsep="0" rowsep="0">
            <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="3Level-table">
                        <colspec colname="1" colnum="1" colsep="0" colwidth="0.875in"/>
              <colspec colname="2" colnum="2" colsep="0" colwidth="4.250in"/>
              <tbody>
                <row rowsep="0">
                  <entry colname="1">
                    <para><command>range</command></para>
                  </entry>
                  <entry colname="2">
                    <para>
                      这个可以有两种格式：start-stop或start-stop/step。如果使用
                      第一种格式，step就被设为1。start，stop和step都必须是介于0
                      和(2^31)-1之间的正整数。start必须小于等于stop。
                      为正值。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><command>lhs</command></para>
                  </entry>
                  <entry colname="2">
                    <para>
                      描述所建立的资源记录的属主名。任何在
                      <command>lhs</command>串中的单个<command>$</command>（美元
                      符号）都被循环变量所替代。要在输出部份输出$，需要使用一个
                      反斜线<command>\</command>对<command>$</command>进行
                      转义，例如<command>\$</command>。可选地，
                      <command>$</command>符号后可以跟修饰符，其作用是改变
                      循环器、宽度和进制的偏移量。修饰符由一个
                      <command>{</command>（左花括号）
                      引入，它紧接着<command>$</command>符号，即
                      <command>${offset[,width[,base]]}</command>。例如，
                      <command>${-20,3,d}</command>从当前值减去20，打印“作为十
                      进制数，以0填充，宽度为3”的结果。可用的输出格式是十进制
                      （<command>d</command>），
		      八进制（<command>o</command>），
                      十六进制（<command>x</command>或<command>X</command>，
		      后者为大写输出）
		      和半字节（<command>n</command>或<command>N</command>，
                      后者为大写输出）。缺省修饰符是
		      <command>${0,0,d}</command>。
		      如果<command>lhs</command>不是
                      绝对名字，就将当前<command>$ORIGIN</command>添加在
                      名字后面。
                    </para>
		    <para>
		      在半字节模式中，值会被当成一个倒置的十六进制串，
		      每个十六进制数字都是一个单独的标记。宽度域包含
		      标记分隔符。
		    </para>
                    <para>
                      为了对早期版本的兼容，<command>$$</command>仍然被识别，作
                      为指示在输出中的一个字面的$。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><command>ttl</command></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      指定所生成的记录的生存期。如果在这里未指定，就使用正常的
		      TTL继承规则来继承。
                    </para>
                    <para>
                      <command>class</command>和<command>ttl</command>的位置可
                      以互换。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><command>class</command></para>
                  </entry>
                  <entry colname="2">
                    <para>
		      指定所生成的记录的类。如果指定，必须与区的类一致。
                    </para>
                    <para>
                      <command>class</command>和<command>ttl</command>的位置可
                      以互换。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><command>type</command></para>
                  </entry>
                  <entry colname="2">
                    <para>
                      所有有效的类型。
                    </para>
                  </entry>
                </row>
                <row rowsep="0">
                  <entry colname="1">
                    <para><command>rhs</command></para>
                  </entry>
                  <entry colname="2">
                    <para>
                      <command>rhs</command>，可选，被引号包含的字符串。
                    </para>
                  </entry>
                </row>
              </tbody>
            </tgroup>
          </informaltable>
          <para>
            <command>$GENERATE</command>指令是一个<acronym>BIND</acronym>
            的扩展，并不是标准区文件格式的一部份。
          </para>
        </section>

	<section xml:id="zonefile_format"><info><title>附加文件格式</title></info>

	  <para>
	    除了标准的文件格式，BIND 9支持读或者列出其它格式区文件的能力。
	  </para>
	  <para>
            <constant>raw</constant>格式是区数据的一个二进制表示，类似于在
            区传送中使用的方式。由于它不要求对文本进行语法分析，装载时间显著
            缩短。
	  </para>
	  <para>
	    一个更快的替代方法是<constant>map</constant>格式，它是一个
            <acronym>BIND</acronym> 9内存区数据库的镜像；它适合使用
            <command>mmap()</command>函数直接装载到内存中；区几乎可以
            立即开始对请求提供服务。
	  </para>
	  <para>
	    对一个主服务器，一个<constant>raw</constant>或
            <constant>map</constant>格式的区可以通过
	    <command>named-compilezone</command>命令从一个文本区文件生成。对
            辅服务器或者动态区，它是在<command>named</command>完成区传送之后
            转储区或者应用上次的更新时自动生成的（如果使用
	    <command>masterfile-format</command>选项指定了这种格式）。
	  </para>
	  <para>
            如果需要手工修改一个二进制格式的区文件，必须先将其通过
            <command>named-compilezone</command>命令转换为文本格式。所有需要进
            行的修改都应在文本文件中，然后再使用
            <command>named-compilezone</command>命令将其转换为二进制格式。
	  </para>
    	  <para>
            注意<command>map</command>格式是及其体系相关的。一个
            <constant>map</constant>文件<emphasis>不能</emphasis>用于一个与
            生成数据的系统具有不同指针大小、字节序或数据对齐的系统，通常应该
            只用于同样单个系统内部。
            由于<constant>raw</constant>格式使用网络字节顺序避免了体系依赖的数
            据对齐，所以它是尽可能可移植的，但是它还是最好用于同样的单个系统的
            内部。
            为导出一个<constant>raw</constant>或者<constant>map</constant>格式
            的区文件，或者给这样的文件做一个可移植的备份，推荐将其转换为
            <constant>text</constant>格式。
	  </para>
	</section>
      </section>

      <section xml:id="statistics"><info><title>BIND9统计</title></info>
        <para>
	  <acronym>BIND</acronym> 9维护许多统计信息并为用户提供几个
	  接口来访问这些统计。
	  可用的统计包括<acronym>BIND</acronym> 8中可用的并在
	  <acronym>BIND</acronym> 9有意义的所有统计计数器，
	  以及其它被认为有用的信息。
        </para>

        <para>
	  统计信息分类成下列部份。
        </para>

	<informaltable frame="all">
          <tgroup cols="2">
            <colspec colname="1" colnum="1" colsep="0" colwidth="3.300in"/>
            <colspec colname="2" colnum="2" colsep="0" colwidth="2.625in"/>
            <tbody>

	      <row rowsep="0">
                <entry colname="1">
                  <para>Incoming Requests（进入请求）</para>
                </entry>
                <entry colname="2">
                  <para>
		    对每个OPCODE的进入的DNS请求数目。
                  </para>
                </entry>
	      </row>

	      <row rowsep="0">
                <entry colname="1">
                  <para>Incoming Queries（进入查询）</para>
                </entry>
                <entry colname="2">
                  <para>
		    对每个资源记录类型的进入的查询数目。
                  </para>
                </entry>
	      </row>

	      <row rowsep="0">
                <entry colname="1">
                  <para>Outgoing Queries（出去查询）</para>
                </entry>
                <entry colname="2">
                  <para>
		    从内部解析器向外发出的对每个资源记录类型的
		    查询数目。
		    每个视图各自维护。
                  </para>
                </entry>
	      </row>

	      <row rowsep="0">
                <entry colname="1">
                  <para>Name Server Statistics（名字服务器统计）</para>
                </entry>
                <entry colname="2">
                  <para>
                    关于进入请求处理的统计计数器。
                  </para>
                </entry>
	      </row>

	      <row rowsep="0">
                <entry colname="1">
                  <para>Zone Maintenance Statistics（区维护统计）</para>
                </entry>
                <entry colname="2">
                  <para>
                    关于区维护操作，如区传送，的统计计数器。
                  </para>
                </entry>
	      </row>

	      <row rowsep="0">
                <entry colname="1">
                  <para>Resolver Statistics（解析器统计）</para>
                </entry>
                <entry colname="2">
                  <para>
                    关于内部解析器所执行的名字解析的统计计数器。
		    每个视图各自维护。
                  </para>
                </entry>
	      </row>

	      <row rowsep="0">
                <entry colname="1">
                  <para>Cache DB RRsets（缓存数据资源记录集）</para>
                </entry>
                <entry colname="2">
                  <para>
                    与缓存内容相关的统计计数器；每个视图维护一个。
		  </para>
		  <para>
		    “NXDOMAIN”计数器是被当做不存在被缓存的名字的数目。
		    以资源记录类型命名的计数器指示在缓存数据库中每种
		    类型的活跃资源记录集的数目。
		  </para>
                  <para>
		    如果一个资源记录类型名字前面有一个惊叹号（!），
		    它表示特定名字的类型不存在也即“NXRRSET”）。
		    如果一个资源记录类型名字前面有一个井号（#），
		    它表示在缓存中且TTL已经过期的这种类型的资源记录集
		    的数目；这些资源记录集仅用于旧回答被开启时。
		    如果一个资源记录类型名字前面有一个波浪号（~），
                    它表示出现在缓存数据库中但被标记为垃圾回收的
                    这种类型的资源记录集的数目；这些资源记录集不能被使用。
                  </para>
                </entry>
	      </row>

	      <row rowsep="0">
                <entry colname="1">
                  <para>Socket I/O Statistics（套接字I/O统计）</para>
                </entry>
                <entry colname="2">
                  <para>
		    网络相关事件的统计计数器。
                  </para>
                </entry>
	      </row>

	    </tbody>
	  </tgroup>
	</informaltable>

	<para>
	  当<command>zone-statistics</command>被设为
          <userinput>full</userinput>（或<userinput>yes</userinput>
          以便向后兼容）时，对服务器是其权威的每个区，
	  都收集并显示名字服务器统计的一个子集。
	</para>

        <para>
          这些统计计数器和它们的区和视图名一起显示。如果服务器没有
          显式配置视图，视图名被省略。
        </para>

	<para>
	  当前有两种用户接口可以用来访问统计信息。
	  一个是普通文本格式，转印到由<command>statistics-file</command>
	  配置选项所指定的文件中。
	  另一个是通过在配置文件中的<command>statistics-channels</command>
	  语句所指定的统计通道远程访问。
	  （参见<xref linkend="statschannels"/>）。
	</para>

        <section xml:id="statsfile"><info><title>统计文件</title></info>

          <para>
            文本格式的统计转印以类似下面这一行开始：
	  </para>
          <para>
	    <command>+++ Statistics Dump +++ (973798949)</command>
	  </para>
	  <para>
	    括号中的数是标准的UNIX风格的时间戳，是自1970年1月1日以来的秒数。
	    后面紧接的行是一个统计信息的集合，其分类在上面已描述。
	    每部份以类似下面这一行开始：
	  </para>

	  <para>
	    <command>++ Name Server Statistics ++</command>
	  </para>

	  <para>
	    每个部份由一些行组成，每行包含统计计数器的值，后面有文本描述。
	    参见下面的可用的计数器。
	    为简短起见，值为0的计数器没有显示在统计文件中。
	  </para>

	  <para>
	    统计转印结束是一个带有与开始行同样数字的行；例如：
          </para>
          <para>
	    <command>--- Statistics Dump --- (973798949)</command>
          </para>
	</section>

        <section xml:id="statistics_counters"><info><title>统计计数器</title></info>

	  <para>
	    下表概括了<acronym>BIND</acronym>所提供的统计计数器。
	    对表的每一行，最左一列是计数器的缩写符号名。
	    这些符号显示在可以通过HTTP统计通道访问的统计信息页面上。
	    最右列给出了计数器的描述，这也显示在统计文件上（但是，
	    在本文档中，为了更好的可读性可能做了一点修改）。
	    附加的说明也在这列提供。当这两列之间的中间列存在时，
	    它给出<acronym>BIND</acronym> 8统计中对应的计数器名，
	    如果合适的时候。
	  </para>

	  <para>
	    注意：BIND统计计数器在除了32位 Windows 之外的所有平台上
	    都是有符号64位值，而在32位 Windows 上则是有符号32位值。
	    由于32位值得范围大大小于64位值，在32位 Windows 上的BIND
	    计计数器将被其它平台上的更快遇到溢出。
	  </para>

	  <section xml:id="stats_counters"><info><title>名字服务器统计计数器</title></info>

            <informaltable colsep="0" rowsep="0">
              <tgroup cols="3" colsep="0" rowsep="0" tgroupstyle="4Level-table">
		<colspec colname="1" colnum="1" colsep="0" colwidth="1.150in"/>
		<colspec colname="2" colnum="2" colsep="0" colwidth="1.150in"/>
		<colspec colname="3" colnum="3" colsep="0" colwidth="3.350in"/>
		<tbody>
		  <row>
		    <entry colname="1">
                      <para>
			<emphasis>Symbol</emphasis>
                      </para>
		    </entry>
		    <entry colname="2">
                      <para>
			<emphasis>BIND8 Symbol</emphasis>
                      </para>
		    </entry>
		    <entry colname="3">
                      <para>
			<emphasis>Description</emphasis>
                      </para>
		    </entry>
		  </row>

		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Requestv4</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			收到的IPv4请求。
			注意：这也会记录不是查询的请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Requestv6</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			收到的IPv6请求。
			注意：这也会记录不是查询的请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ReqEdns0</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			收到的带EDNS(0)的请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ReqBadEDNSVer</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			收到的带有不支持的EDNS版本的请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ReqTSIG</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			收到的带有TSIG的请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ReqSIG0</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			收到的带有SIG(0)的请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ReqBadSIG</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			收到的带有不正确（TSIG或SIG(0)）签名的请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ReqTCP</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RTCP</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			收到的TCP请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>AuthQryRej</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RUQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			拒绝掉的权威（非递归）请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>RecQryRej</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RURQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			拒绝掉的递归查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>XfrRej</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RUXFR</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			拒绝掉的区传送请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>UpdateRej</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RUUpd</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			拒绝掉的动态更新请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Response</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SAns</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已发出的响应。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>RespTruncated</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已发出的截断响应。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>RespEDNS0</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已发出的带EDNS(0)的响应。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>RespTSIG</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已发出的带TSIG的响应。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>RespSIG0</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已发出的带SIG(0)的响应。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QrySuccess</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致一个成功回答的查询。
			这表示请求返回了一个NOERROR应答，并至少带有
			一个回答资源记录。
			这相当于先前<acronym>BIND</acronym> 9版本
			中的<command>success</command>计数器。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryAuthAns</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致一个权威回答的查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryNoauthAns</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SNaAns</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致一个非权威回答的查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryReferral</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致一个引用回答的查询。
			这相当于先前<acronym>BIND</acronym> 9版本
			中的<command>referral</command>计数器。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryNxrrset</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致在NOERROR响应中没有数据的查询。
			这相当于先前<acronym>BIND</acronym> 9版本
			中的<command>nxrrset</command>计数器。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QrySERVFAIL</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SFail</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致SERVFAIL的查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryFORMERR</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SFErr</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致FORMERR的查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryNXDOMAIN</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SNXD</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致NXDOMAIN的查询。
			这相当于先前<acronym>BIND</acronym> 9版本
			中的<command>nxdomain</command>计数器。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryRecursion</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RFwdQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致服务器执行递归解析以获取最终回答的查询。
			这相当于先前<acronym>BIND</acronym> 9版本
			中的<command>recursion</command>计数器。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryDuplicate</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RDupQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			导致服务器试图进行递归解析但是却发现已经存在
			一个具有同样IP地址、端口、查询ID、名字、类型
			和类的查询并且已经被处理过的查询。
			这相当于先前<acronym>BIND</acronym> 9版本
			中的<command>duplicate</command>计数器。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryDropped</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			服务器所发现的已有的对同一名字、类型和类的递归查询
			并随后被丢弃的巨量递归查询。
			这是由于<command>clients-per-query</command>
			和<command>max-clients-per-query</command>
			选项（参见关于
                        <xref endterm="cpq_term" linkend="clients-per-query"/>
			的描述）所解释的原因而被丢弃的查询的数目。
			这相当于先前<acronym>BIND</acronym> 9版本
			中的<command>dropped</command>计数器。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryFailure</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			其它查询失败。
			这相当于先前<acronym>BIND</acronym> 9版本
			中的<command>failure</command>计数器。
			注意：提供这个计数器主要是为了向后兼容以前的版本。
			通常情况一些更细粒度的计数器如
			<command>AuthQryRej</command>和
			<command>RecQryRej</command>也落在这个计数器范围中，
			所以在实际中，这个计数器的意义不大。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryNXRedir</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
                        导致NXDOMAIN而被重定向的请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryNXRedirRLookup</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
                        导致NXDOMAIN而被重定向并且结果是一个成功的远程查询的请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>XfrReqDone</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已完成的所请求的区传送。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>UpdateReqFwd</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已转发的更新请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>UpdateRespFwd</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已转发的更新响应。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>UpdateFwdFail</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已失败的动态更新转发。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>UpdateDone</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已完成的动态更新。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>UpdateFail</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已失败的动态更新。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>UpdateBadPrereq</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			由于先决条件失败而被拒绝的动态更新。
		      </para>
		    </entry>
		  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para><command>RateDropped</command></para>
                    </entry>
                    <entry colname="2">
                      <para><command/></para>
                    </entry>
                    <entry colname="3">
                      <para>
                        被比率限制丢弃的响应。
                      </para>
                    </entry>
                  </row>
                  <row rowsep="0">
                    <entry colname="1">
                      <para><command>RateSlipped</command></para>
                    </entry>
                    <entry colname="2">
                      <para><command/></para>
                    </entry>
                    <entry colname="3">
                      <para>
                        被比率限制截断的响应。
                      </para>
                    </entry>
                  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>RPZRewrites</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			响应策略区重写。
		      </para>
		    </entry>
		  </row>
		</tbody>
              </tgroup>
            </informaltable>
          </section>

	  <section xml:id="zone_stats"><info><title>区维护统计计数器</title></info>

            <informaltable colsep="0" rowsep="0">
              <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="4Level-table">
		<colspec colname="1" colnum="1" colsep="0" colwidth="1.150in"/>
		<colspec colname="2" colnum="2" colsep="0" colwidth="3.350in"/>
		<tbody>
		  <row>
		    <entry colname="1">
                      <para>
			<emphasis>Symbol</emphasis>
                      </para>
		    </entry>
		    <entry colname="2">
                      <para>
			<emphasis>Description</emphasis>
                      </para>
		    </entry>
		  </row>

		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>NotifyOutv4</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			已发送的IPv4通知。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>NotifyOutv6</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			已发送的IPv6通知。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>NotifyInv4</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			收到的IPv4通知。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>NotifyInv6</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			收到的IPv6通知。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>NotifyRej</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			拒绝掉的进入通知。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>SOAOutv4</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			发送出的IPv4 SOA查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>SOAOutv6</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			发送出的IPv6 SOA查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>AXFRReqv4</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			已请求的IPv4 AXFR。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>AXFRReqv6</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			已请求的IPv6 AXFR。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>IXFRReqv4</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			已请求的IPv4 IXFR。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>IXFRReqv6</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			已请求的IPv6 IXFR。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>XfrSuccess</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			已成功的区传送请求。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>XfrFail</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			已失败的区传送请求。
		      </para>
		    </entry>
		  </row>
		</tbody>
              </tgroup>
            </informaltable>
	  </section>

	  <section xml:id="resolver_stats"><info><title>解析器统计计数器</title></info>

            <informaltable colsep="0" rowsep="0">
              <tgroup cols="3" colsep="0" rowsep="0" tgroupstyle="4Level-table">
		<colspec colname="1" colnum="1" colsep="0" colwidth="1.150in"/>
		<colspec colname="2" colnum="2" colsep="0" colwidth="1.150in"/>
		<colspec colname="3" colnum="3" colsep="0" colwidth="3.350in"/>
		<tbody>
		  <row>
		    <entry colname="1">
                      <para>
			<emphasis>Symbol</emphasis>
                      </para>
		    </entry>
		    <entry colname="2">
                      <para>
			<emphasis>BIND8 Symbol</emphasis>
                      </para>
		    </entry>
		    <entry colname="3">
                      <para>
			<emphasis>Description</emphasis>
                      </para>
		    </entry>
		  </row>

		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Queryv4</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SFwdQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已发送的IPv4查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Queryv6</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SFwdQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已发送的IPv6查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Responsev4</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RR</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已收到的IPv4响应。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Responsev6</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RR</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已收到的IPv6响应。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>NXDOMAIN</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RNXD</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已收到的NXDOMAIN。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>SERVFAIL</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RFail</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已收到的SERVFAIL。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>FORMERR</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RFErr</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已收到的FORMERR。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>OtherError</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RErr</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已收到的其它错误。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>EDNS0Fail</command></para>
						 </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			EDNS(0)查询失败。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Mismatch</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RDupR</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已收到的不匹配响应。
			DNS ID，响应的源地址和（或）响应的源端口与
			预计的不匹配。
			（端口必须是53或<command>port</command>所
			定义的。）这可能暗示一个缓存污染攻击。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Truncated</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已收到的截断响应。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Lame</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>RLame</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			已收到的不完整授权。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>Retry</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SDupQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			执行过的查询重试。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QueryAbort</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
		        由于配额控制而被终止的查询。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QuerySockFail</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			打开查询套接字时的失败。
			这类失败的一个通常原因是由于在文件描述符
			上的限制而导致打开一个新套接字失败。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QueryTimeout</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			查询超时。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>GlueFetchv4</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SSysQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			发起的取IPv4 NS的地址操作。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>GlueFetchv6</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command>SSysQ</command></para>
		    </entry>
		    <entry colname="3">
		      <para>
			发起的取IPv6 NS的地址操作。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>GlueFetchv4Fail</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			失败的取IPv4 NS的地址操作。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>GlueFetchv6Fail</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			失败的取IPv6 NS的地址操作。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ValAttempt</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			试探过的DNSSEC验证。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ValOk</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			成功的DNSSEC验证。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ValNegOk</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			在否定信息上成功的DNSSEC验证。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>ValFail</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			失败的DNSSEC验证。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>QryRTTnn</command></para>
		    </entry>
		    <entry colname="2">
		      <para><command/></para>
		    </entry>
		    <entry colname="3">
		      <para>
			请求往返时间（RTT）的频率表。
			每个<command>nn</command>指定相应的频率。
			在序列
			<command>nn_1</command>，
			<command>nn_2</command>，
			...，
			<command>nn_m</command>中，
			<command>nn_i</command>的值是其RTT在
			<command>nn_(i-1)</command>（含）和
			<command>nn_i</command>（不含）之间毫秒的
			请求的数目。
			为方便起见，我们将<command>nn_0</command>
			定义为0。
			最后的条目应该表示为<command>nn_m+</command>，
			它表示其RTT等于或大于
			<command>nn_m</command>毫秒的请求的数目。
		      </para>
		    </entry>
		  </row>
		</tbody>
              </tgroup>
            </informaltable>

	  </section>

	  <section xml:id="socket_stats"><info><title>套接字I/O统计计数器</title></info>

	    <para>
	      套接字I/O统计计数器是按每种套接字类型定义的，它们是
	      <command>UDP4</command> （UDP/IPv4），
	      <command>UDP6</command> （UDP/IPv6），
	      <command>TCP4</command> （TCP/IPv4），
	      <command>TCP6</command> （TCP/IPv6），
	      <command>Unix</command> （Unix Domain）和
	      <command>FDwatch</command> （朝套接字模块外打开的套接字）。
	      在下面的表中<command>&lt;TYPE&gt;</command>
	      表示一个套接字类型。
	      并非所有套接字都可以使用所有的计数器；
	      在描述字段会说明例外情况。
	    </para>

	    <informaltable colsep="0" rowsep="0">
              <tgroup cols="2" colsep="0" rowsep="0" tgroupstyle="4Level-table">
		<colspec colname="1" colnum="1" colsep="0" colwidth="1.750in"/>
		<!-- Since in chinese version, there are some overlap between
                colname1 and colname2, so the colwidth of colname1 was adjust
                from 1.150in to 1.75in -->
		<colspec colname="2" colnum="2" colsep="0" colwidth="3.350in"/>
		<tbody>
		  <row>
		    <entry colname="1">
                      <para>
			<emphasis>Symbol</emphasis>
                      </para>
		    </entry>
		    <entry colname="2">
                      <para>
			<emphasis>Description</emphasis>
                      </para>
		    </entry>
		  </row>

		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;Open</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			套接字成功打开。
			这个计数器不适用于
			<command>FDwatch</command>类型。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;OpenFail</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			套接字打开失败。
			这个计数器不适用于
			<command>FDwatch</command>类型。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;Close</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			套接字关闭。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;BindFail</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			绑定套接字失败。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;ConnFail</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			连接套接字失败。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;Conn</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			成功建立连接。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;AcceptFail</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			接受进入连接请求失败。
			这个计数器不适用于<command>UDP</command>和
			<command>FDwatch</command>类型。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;Accept</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			成功接受进入连接请求。
			这个计数器不适用于<command>UDP</command>和
			<command>FDwatch</command>类型。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;SendErr</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			套接字发送操作中的错误。
			这个计数器对应于<command>BIND</command> 8
			的<command>SErr</command>计数器。
		      </para>
		    </entry>
		  </row>
		  <row rowsep="0">
		    <entry colname="1">
		      <para><command>&lt;TYPE&gt;RecvErr</command></para>
		    </entry>
		    <entry colname="2">
		      <para>
			套接字接收操作中的错误。
			这包括在一个收到ICMP错误消息通知的已连接UDP
			套接字上发送操作的错误。
		      </para>
		    </entry>
		  </row>
		</tbody>
              </tgroup>
	    </informaltable>
	  </section>

	  <section xml:id="bind8_compatibility"><info><title>对<emphasis>BIND</emphasis> 8计数器的兼容性</title></info>

	    <para>
	      如以上的表格所示，大多数在<command>BIND</command> 8中
	      可用的统计计数器在<command>BIND</command> 9中也被支持。
	      这里有一些关于这些表格中没有的其它计数器的注意事项。
	    </para>

            <variablelist>
              <varlistentry>
		<term><command>RFwdR,SFwdR</command></term>
		<listitem>
		  <para>
		    这些计数器不被支持，因为<command>BIND</command> 9
		    没有采用<command>BIND</command> 8中所采用的
		    <emphasis>forwarding</emphasis>概念。
		  </para>
		</listitem>
	      </varlistentry>

              <varlistentry>
		<term><command>RAXFR</command></term>
		<listitem>
		  <para>
		    这个计数器在进入查询部份中是可访问的。
		  </para>
		</listitem>
	      </varlistentry>

              <varlistentry>
		<term><command>RIQ</command></term>
		<listitem>
		  <para>
		    这个计数器在进入请求部份中是可访问的。
		  </para>
		</listitem>
	      </varlistentry>

              <varlistentry>
		<term><command>ROpts</command></term>
		<listitem>
		  <para>
		    这个计数器已不再支持，因为
		    <command>BIND</command> 9不关心第一个位置的IP选项。
		  </para>
		</listitem>
	      </varlistentry>
	    </variablelist>
	  </section>
        </section>
      </section>

    </chapter>
    <chapter xml:id="Bv9ARM-gbk.ch06"><info><title><acronym>BIND</acronym> 9安全考虑</title></info>

      <section xml:id="Access_Control_Lists"><info><title>访问控制表</title></info>

        <para>
          访问控制表（Access Control Lists，ACL）是地址匹配表，你可以建立并
          命名，以备以后用于<command>allow-notify</command>，
          <command>allow-query</command>，<command>allow-query-on</command>，
          <command>allow-recursion</command>，
	  <command>blackhole</command>，<command>allow-transfer</command>，
	  <command>match-clients</command>
          等语句中。
        </para>
        <para>
          使用ACL允许你对谁能够访问你的名字服务器有一个良好的控制，而不会用巨大
          的IP地址表将你的配置文件搞混乱。
        </para>
        <para>
          使用ACL并控制对你的服务器的访问是一个<emphasis>好主意</emphasis>。限
          制外来者访问你的服务器可以帮助阻止对你的服务器的欺骗和拒绝服务（DoS）
          攻击。
        </para>
        <para>
          访问控制表根据三个特征来匹配客户端：
          1) 客户端的IP地址； 2) 用于签名请求的TSIG或SIG(0)密钥，如果
          有的话；和 3) 编码在一个EDNS客户端子网选项中的一个地址前缀，
          如果有的话。
        </para>
        <para>
	  这是一个基于客户端地址的ACL的例子：
        </para>

<programlisting>
// Set up an ACL named "bogusnets" that will block
// RFC1918 space and some reserved space, which is
// commonly used in spoofing attacks.
acl bogusnets {
        0.0.0.0/8;  192.0.2.0/24; 224.0.0.0/3;
        10.0.0.0/8; 172.16.0.0/12; 192.168.0.0/16;
};

// Set up an ACL called our-nets. Replace this with the
// real IP numbers.
acl our-nets { x.x.x.x/24; x.x.x.x/21; };
options {
  ...
  ...
  allow-query { our-nets; };
  allow-recursion { our-nets; };
  ...
  blackhole { bogusnets; };
  ...
};

zone "example.com" {
  type master;
  file "m/example.com";
  allow-query { any; };
};
</programlisting>

	<para>
	  这将允许来自任何地址对“example.com”的权威请求，但是只有指定
	  的网络“our-nets”才能进行递归请求，并且指定网络“bogusnets”中
	  的任何请求都被禁止。
	</para>
	<para>
	  除了网络地址和前缀，这些与DNS请求中的源地址比对，之外，ACL也可
	  包含<option>key</option>元素，这是指定一个TSIG或者SIG(0)
	  密钥的名字。
	</para>
	<para>
	  当<acronym>BIND</acronym> 9构建时带有GeoIP支持，ACL也可
	  用于地理访问限制。这是通过指定一个如下形式的ACL元素完成
	  的：
	  <command>geoip <optional>db <replaceable>database</replaceable></optional> <replaceable>field</replaceable> <replaceable>value</replaceable></command>
	</para>
	<para>
	  <replaceable>field</replaceable>指定在一个匹配中搜索
	  哪个字段。可用的字段是“country”，“region”，“city”，
	  “continent”，“postal”（邮政编码），“metro”（城区编码），
	  “area”（区域编码），“tz”（时区），“isp”，“asnum”
	  和“domain”。
	</para>
	<para>
	  <replaceable>value</replaceable>是要在数据库中搜索的值，
	  字符串需要用引号引上，如果其中包含空格或其它特殊字符。
	  一个对自治系统号的搜索“asnum”可以使用字符串“ASNNNN”或
	  整数 NNNN 来指定。
	  当“country”搜索由两个字符的字符串所指定时，它必须是
	  一个标准的 ISO-3166-1 两字符国家码；否则它被解释成
	  国家的全名。
          类似的，如果这是一个“region”搜索并且字符串是两个字符，
          它被当成一个州或者省的标准两字母；否则它被当成州或省
	  的全名。
	</para>
	<para>
	  <replaceable>database</replaceable>字段指定在一个匹配中
	  搜索哪个GeoIP数据库。大多数情况下，这不是必须的，因为大多数
	  搜索字段仅能在一个数据库中找到。
	  然而，对“continent”或“country”的搜索可以从
	  “city”或“country”数据库中得到回答，
          所以对于这些搜索类型，指定一个<replaceable>database</replaceable>
          将强制请求只从那个数据库，而不能是其它的数据库，得到回答。
	  如果未指定<replaceable>database</replaceable>，这些请求就将
	  按顺序从“city”数据库，或者从“country”
	  数据库得到回答，如果它们中一个或多个被安装了。
	  有效的数据库名字是“country”，“city”，“asnum”，“isp”和
	  “domain”。（如果使用旧的 GeoIP API，也可使用“netspeed”和
	  “org”数据库。）
	</para>
	<para>
	  一些GeoIP ACL的例子：
	</para>
	<programlisting>geoip country US;
geoip country JP;
geoip db country country Canada;
geoip region WA;
geoip city "San Francisco";
geoip region Oklahoma;
geoip postal 95062;
geoip tz "America/Los_Angeles";
geoip org "Internet Systems Consortium";
</programlisting>

	<para>
	  ACL使用一个“首先匹配”逻辑，而不是“最佳匹配”：
	  如果一个地址前缀与一个ACL元素匹配，则这个ACL就被认为匹配
	  成立，即使一个稍后的元素将会匹配得更准确。例如，ACL
	  <command> { 10/8; !10.0.0.1; }</command>实际将会匹配来自
	  10.0.0.1的请求，因为第一个元素表明请求应该被接受，
	  第二个元素就被忽略。
	</para>
	<para>
	  当使用“嵌套”ACL时（即，ACL包含或者被包含于其它ACL），一个
	  嵌套ACL的否定匹配将导致外部ACL继续查找以成功匹配。
	  这使得可以构造复杂的ACL，在其中，多个客户端特性可以被同时
	  检查。例如，要构造一个允许仅来自一个特定网络
	  <emphasis>并且</emphasis>仅当其被一个特定密钥签名的请求的
	  ACL，使用：
	</para>
	<programlisting>
allow-query { !{ !10/8; any; }; key example; };
</programlisting>
	<para>
	  在嵌套ACL中，任何<emphasis>不是</emphasis>在10/8网络前缀
	  中的地址都会被拒绝，这会终止ACL的处理过程。任何
	  <emphasis>在</emphasis> 10/8网络前缀中的地址会被接受，但是
	  这导致此嵌套ACL的一个否定匹配，所以外部ACL继续处理。
	  如果请求被密钥“example”签名，它将被接受，否则将被拒绝。
	  这样，这个ACL就会仅匹配，仅当<emphasis>两个</emphasis>条件
	  都为真时。
	</para>
      </section>

      <section xml:id="chroot_and_setuid"><info><title><command>Chroot</command>和<command>Setuid</command></title></info>

        <para>
          在UNIX服务器上，可以通过为<command>named</command>
	  设定<option>-t</option>选项
          <acronym>BIND</acronym>运行在<emphasis>chroot</emphasis>的环境中
          （使用<command>chroot()</command>函数）。这可以帮助增进系统的安全性，
          它通过将<acronym>BIND</acronym>放入一个“沙箱”，后者将在服务器遇到危
          险时把损坏限制在一个局部范围内。
        </para>
        <para>
          UNIX版本的<acronym>BIND</acronym>的另外一个能力是作为一个非特权用户
          （<option>-u</option> <replaceable>user</replaceable>）身份运行服务。
          我们建议在使用<command>chroot</command>特征时以一个非特权用户身份
          运行。
        </para>
        <para>
          这里是有个命令行的例子，即将<acronym>BIND</acronym>加载到一个
          <command>chroot</command>沙箱，<command>/var/named</command>，并且
          通过<command>setuid</command>以用户202的身份运行
          <command>named</command>：
        </para>
        <para>
          <userinput>/usr/local/sbin/named -u 202 -t /var/named</userinput>
        </para>

        <section xml:id="chroot"><info><title><command>chroot</command>环境</title></info>

          <para>
            为了让一个<command>chroot</command>环境在一个特定目录（例如，
            <filename>/var/named</filename>）中正常工作，你需要设置一个环境，使
            其包含<acronym>BIND</acronym>运行所需的所有东西。从
            <acronym>BIND</acronym>的视角，<filename>/var/named</filename>是文
            件系统的根。你需要通过调整像<command>directory</command>和
            <command>pid-file</command>这样的选项的值来满足这个需求。
          </para>
          <para>
            与BIND的早期版本不同，典型地，你<emphasis>不</emphasis>需要静态地编
            译<command>named</command>，也不需要在新的根下面安装共享库。然而，
            依赖于你的操作系统，你可能需要设置诸如这样的一些东西：
            <filename>/dev/zero</filename>，
            <filename>/dev/random</filename>，
            <filename>/dev/log</filename>以及
            <filename>/etc/localtime</filename>。
          </para>
        </section>

        <section xml:id="setuid"><info><title>使用<command>setuid</command>函数</title></info>

          <para>
            在运行<command>named</command>服务之前，在你想让
            <acronym>BIND</acronym>写的文件上使用<command>touch</command>应用程
            序（改变文件访问和修改时间）或者<command>chown</command>应用程序
            （设置用户id和/或 组id）。
          </para>
	  <note><simpara>
	    注意如果<command>named</command>后台进程是以一个非特权用户身份运行
	    的，如果服务器重新加载，它将不能够绑定到新的限制端口上。
	  </simpara></note>
        </section>
      </section>

      <section xml:id="dynamic_update_security"><info><title>动态更新的安全</title></info>

        <para>
          应该严格限制对动态更新设施的访问。在早期的<acronym>BIND</acronym>版本
          中，仅有的方法是基于请求进行动态更新的主机的IP地址，通过在
          <command>allow-update</command>区选项中列出一个IP地址或者网络前缀来实
          现。由于更新UDP包的源地址非常容易伪造，这个方法是不安全的。另外要注意
          的是，如果<command>allow-update</command>选项中所允许的地址包含一个可
          以执行转发动态更新的辅服务器的IP地址，主服务器将可能遭受琐碎的攻击，
          即通过发送更新到辅服务器，辅服务器使用自己的地址作源地址将其转发到主
          服务器，使主服务器毫无怀疑地接受。
        </para>

        <para>
          由于这些原因，我们强烈推荐通过事务签名（TSIG）来加密和认证所进行的更
          新。这就是说，<command>allow-update</command>选项仅应该列出TSIG
          密钥名，而不是IP地址或网络前缀。作为另外的选择，也可以使用新的
          <command>update-policy</command>选项。
        </para>

        <para>
          一些站点选择将所有的动态更新的DNS数据保存到一个子域并将子域授权到一个
          单独的区。在这种方法中，包含像公共web和邮件服务器的IP地址这样的关键数
          据的顶级区就完全不允许对其进行动态更新。
        </para>

      </section>
    </chapter>

    <chapter xml:id="Bv9ARM-gbk.ch07"><info><title>排除故障</title></info>

      <section xml:id="common_problems"><info><title>常见问题</title></info>

        <section><info><title>它不工作；我如何判定哪里出错了？</title></info>

          <para>
            解决安装和配置问题的最好方法是通过预先设置日志文件来采取预防性的措
            施。日志文件提供了暗示和信息的源头，后者用于判断哪里出现了错误以及
            如何来解决问题。
          </para>

        </section>

	<section><info><title>EDNS合规性问题</title></info>
	  <para>
	    EDNS（扩展DNS）一项最早在1999年指定的标准。
	    它是DNSSEC验证，DNS COOKIE选项以及其它特性的基础。
	    仍然有一些故障的或者过时的DNS服务器和防火墙在使用，它们
	    在收到带EDNS的请求时会产生错误的行为；例如，它们会丢弃EDNS
	    请求而不是回复FORMERR。
	    BIND和其它递归名字服务器在面对这个情况时，习惯上采用变通
	    的方法，以不同方式重试，最终回退到不带EDNS的普通DNS请求。
	  </para>
	  <para>
	    这样的变通方法导致不必要的解析延迟，增加代码复杂性，并
	    阻碍开发新的DNS特性。
	    截至2019年2月，所有主流的DNS软件开发商都同意去除这些
	    变通方法；参见
	    <link xmlns:xlink="http://www.w3.org/1999/xlink"
	      xlink:href="https://dnsflagday.net">https://dnsflagday.net</link>
            以获取更多细节。这个变化在BIND的9.14.0版本开始实现。
	  </para>
	  <para>
	    作为一种结果，在没有人工干预时，某些域名可能不能解析。
	    在这种情况下，可以针对有问题的服务器添加
	    <command>server</command>子句来恢复解析，指定
	    <command>edns no</command>或
	    <command>send-cookie no</command>，依赖于具体的不合规情况。
	  </para>
	  <para>
	    要决定使用哪个<command>server</command>子句，
	    运行下列命令发送请求给有问题域名的权威服务器：
	  </para>
  <literallayout>
	    dig soa &lt;zone&gt; @&lt;server&gt; +dnssec
	    dig soa &lt;zone&gt; @&lt;server&gt; +dnssec +nocookie
	    dig soa &lt;zone&gt; @&lt;server&gt; +noedns
  </literallayout>
	  <para>
	    如果第一条命令失败但是第二条成功，服务器很可能需要
	    <command>send-cookie no</command>。
	    如果头两条失败但是第三条成功，服务器需要通过
	    <command>edns no</command>将EDNS完全关闭。
	  </para>
	  <para>
	    请联系不合规域名的管理员，并鼓励他们升级他们的有问题的
	    DNS服务器。
	  </para>
	</section>
      </section>
      <section><info><title>增加和修改序列号</title></info>

	<para>
	  区的序列号只是数字 — 它们与日期没有联系。大多数人将它们设置成表示日期
	  的一个数，通常是YYYYMMDDRR的格式。偶尔地，他们会错误地将它们设置为一
	  个“未来的日期”然后试图通过将其设置为“当前的日期”来纠正错误。这就
	  产生了问题，因为序列号是用来指示一个区被更新了。如果一个辅服务器上的
	  序列号小于主服务器上的序列号，辅服务器将试图更新它的区拷贝。
	</para>

        <para>
          将主服务器的序列号设置成为一个比辅服务器上更小的数意味着辅服务器将不
          会执行对它的区拷贝的更新。
        </para>

        <para>
          解决方案是将数字增加2147483647（2^31-1），重新装载区并确保所有的辅服
          务器都更新为新的区序列号，然后重新设置数字为你想要的，再重新装载一次
          区。
        </para>

      </section>
      <section xml:id="more_help"><info><title>从哪里获得帮助？</title></info>

        <para>
          互联网系统集团（Internet Systems Consortium，<acronym>ISC</acronym>）
          对<acronym>BIND</acronym>和<acronym>DHCP</acronym>服务器提供广泛的支
          持和协议服务。可以提供四级费用的支持，每级包括对所有
          <acronym>ISC</acronym>的程序的支持，产品和培训上的大幅折扣，在故障解
          决上的认识优先和非盈利特性请求。另外，<acronym>ISC</acronym>提供标准
          的支持协议包，它包括的服务从故障解决通告到远程支持。它也包括对
          <acronym>BIND</acronym>和<acronym>DHCP</acronym>的培训。
        </para>

        <para>
          要讨论对支持的安排，请联系
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="mailto:info@isc.org">info@isc.org</link>
          或访问
          <acronym>ISC</acronym>的主页
          <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.isc.org/services/support/">http://www.isc.org/services/support/</link>
	  以了解更多信息。
        </para>
      </section>
    </chapter>

    <appendix xml:id="Bv9ARM-gbk.ch08"><info><title>发行注记</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="notes-utf8.xml"/>
    </appendix>

    <appendix id="Bv9ARM-gbk.ch09"><info><title><acronym>DNS</acronym>和<acronym>BIND</acronym>的简要历史</title></info>

      <para id="historical_dns_information">
            尽管域名系统的“官方的”开始是随着RFC 920的公布而发生在1984年，
            但这个新系统的核心是由RFC 882和883在1983年描述的。
            从1984年到1987年，ARPAnet（今天的互联网的前身）成为一个在
            快速扩展的、运转中的网络环境中开发新的命名/寻址机制的试验床。
            新的RFC于1987年被写作并出版，它们修改了原始的文档以合并进
            基于这个工作模式的进展。RFC 1034，
            “域名 – 概念和设施”，和RFC 1035，“域名 – 实现和规范”出版并成
            为所有<acronym>DNS</acronym>实现的标准。
          </para>

          <para>
            第一个可以工作的域名服务器，名叫“Jeeves”，由Paul Mockapetris于
            1983-84年在位于南加州大学信息科学研究所（USC-ISI）和SRI国际网络信息
            中心（SRI-NIC）上的DEC Tops-20机器上写成的。一个在Unix上的
            <acronym>DNS</acronym>，伯克利互联网名字域
            （Berkeley Internet Name Domain，<acronym>BIND</acronym>）包，
            是稍后由一组加州大学伯克利分校的研究生在
            美国国防部高级研究项目管理局（DARPA）的资助下完成的。
          </para>
          <para>
	    <acronym>BIND</acronym>版本直到4.8.3都是由在加州大学伯克利分校的
	    计算机研究组（CSRG）所维护。Douglas Terry，Mark Painter，David Riggle和
	    Songnian Zhou组成了最初的<acronym>BIND</acronym>项目组。之后，
	    Ralph Campbell在软件包上做了一些增加的工作。Kevin Dunlap，
	    一个数字设备公司（DEC）的雇员，作为赞助给CSRG的资源，
	    为<acronym>BIND</acronym>工作了2年，从1985年到1987年，在此期间还有
	    许多其他人也对<acronym>BIND</acronym>的开发作出了贡献：Doug Kingston，
	    Craig Partridge，Smoot Carl-Mitchell，Mike Muuss，Jim Bloom和
	    Mike Schwartz。<acronym>BIND</acronym>的维护随后被移交给了
	    Mike Karels和 &#216;ivind Kure。
          </para>
          <para>
            <acronym>BIND</acronym>版本4.9和4.9.1由数字设备公司发行
            （现在是Compaq计算机公司）。Paul Vixie，那时是DEC的一名雇员，
            成为了<acronym>BIND</acronym>的主要日常维护者。他的助手有
            Phil Almquist，Robert Elz，Alan Barrett，Paul Albitz，
            Bryan Beecher，Andrew Partan，Andy Cherenson，Tom Limoncelli，
            Berthold Paffrath，Fuat Baran，Anant Kumar，Art Harkin，
            Win Treese，Don Lewis，Christophe Wolfhugel及其他一些人。
          </para>
          <para>
            在1994年，<acronym>BIND</acronym>版本4.9.2由Vixie公司赞助。
            Paul Vixie成为<acronym>BIND</acronym>的首席架构师/程序员。
          </para>
          <para>
            <acronym>BIND</acronym>版本自4.9.3之后由互联网系统集团及其前身
            互联网软件集团进行开发和维护，并由ISC的赞助商提供支持。
          </para>
	  <para>
	    作为共同架构设计师和程序员，Bob Halley和Paul Vixie在1997年5月发布了
	    第一个<acronym>BIND</acronym>版本8的产品级版本。
          </para>
	  <para>
	    BIND版本9于2000年9月发布，它几乎重写了BIND体系结构的各个方面。
          </para>
          <para>
	    BIND版本4和8已经正式被废弃了。不再在BIND版本4或BIND版本8
	    上做进一步的开发了。
          </para>
          <para>
            今天，在几个公司的赞助下，并且经过许多人的不懈地努力工作，
            <acronym>BIND</acronym>开发工作才成为可能。
          </para>
      </appendix>

      <appendix xml:id="Bv9ARM-gbk.ch10"><info><title>通用<acronym>DNS</acronym>参考信息</title></info>

        <section xml:id="ipv6addresses"><info><title>IPv6地址（AAAA）</title></info>

          <para>
            IPv6地址是128位接口和接口集合的标识符，它被引入
            <acronym>DNS</acronym>以促进可扩展的互联网路由。有三种类型的地址：
            <emphasis>Unicast</emphasis>，标识单个接口；
            <emphasis>Anycast</emphasis>，标识一组接口；
            和<emphasis>Multicast</emphasis>，标识一组接口。在这里，我们描述
            全球Unicast（单播）地址机制。更多信息，
            参见RFC 3587，“全局单播地址格式”。
          </para>
          <para>
            IPv6单播地址由一个<emphasis>全局路由前缀</emphasis>，
            一个<emphasis>子网标识符</emphasis>，
            和一个<emphasis>接口标识符</emphasis>所组成。
          </para>
          <para>
            全局路由前缀有上层提供者或ISP提供，并且（大致地）与IPv4地址范围
            的<emphasis>网络</emphasis>部份相对应。子网标识符标识局域子网，
            就像在IPv4的/16网络中划分出/24的子网。接口标识符是一个给定网络上
            的单个地址；在IPv6中，地址属于接口而不属于主机。
          </para>
          <para>
            IPv6划分子网的能力比IPv6更灵活：子网划分可以在位边界，相当于无类
            域间路由（Classless InterDomain Routing，CIDR）的方式，
            并且DNS PTR表示（“半字节”格式）使反向区的设置更为简单。
          </para>
          <para>
            接口标识符必须在局部连接上是唯一的，并且通常由IPv6实现自动生成，
            虽然在需要时，通常可以覆盖缺省设置。一个典型的IPv6地址可能是
            这样的：
            <command>2001:db8:201:9:a00:20ff:fe81:2b32</command>
	  </para>
          <para>
            IPv6地址规范通常包含一大串0，所以架构师引入了指示这个的缩写方式。
            一对冒号（‘::’）指示可能出现的最长0串，其在地址中仅能出现一次。
          </para>
      </section>
      <section xml:id="bibliography"><info><title>参考书目（和建议读物）</title></info>

        <section xml:id="rfcs"><info><title>注释请求（RFC）</title></info>

          <para>
            包括<acronym>DNS</acronym>的互联网协议族的规范文档是作为注释请求
            （RFC）系列的技术备忘的一部份被出版的。标准本身是由互联网工程任务组
            （IETF）和互联网专家任务组（IESG）所定义。RFC可以通过 FTP 由以下
            地址获得：
	  </para>
	  <para>
            <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://www.isi.edu/in-notes/">
	      ftp://www.isi.edu/in-notes/RFC<replaceable>xxxx</replaceable>.txt
	    </link>
	  </para>
	  <para>
            （在这里<replaceable>xxxx</replaceable>是RFC的编号）。
            RFC也可以通过主页获得：
	  </para>
	  <para>
            <link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.ietf.org/rfc/">http://www.ietf.org/rfc/</link>.
          </para>
          <bibliography>
            <bibliodiv><info><title>标准</title></info>
              <!-- one of (BIBLIOENTRY BIBLIOMIXED) -->

              <biblioentry>
                <abbrev>RFC974</abbrev>
                <author><personname><surname>Partridge</surname><firstname>C.</firstname></personname></author>
                <citetitle>Mail Routing and the Domain System</citetitle>
                <pubdate>January 1986</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1034</abbrev>
                <author><personname><surname>Mockapetris</surname><firstname>P.V.</firstname></personname></author>
                <citetitle>Domain Names — Concepts and Facilities</citetitle>
                <pubdate>November 1987</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1035</abbrev>
                <author><personname><surname>Mockapetris</surname><firstname>P. V.</firstname></personname></author> <citetitle>Domain Names — Implementation and
                  Specification</citetitle>
                <pubdate>November 1987</pubdate>
              </biblioentry>
            </bibliodiv>
            <bibliodiv xml:id="proposed_standards" xreflabel="建议标准"><info><title>建议标准</title></info>

              <!-- one of (BIBLIOENTRY BIBLIOMIXED) -->
              <biblioentry>
                <abbrev>RFC2181</abbrev>
                <author><personname><surname>Elz</surname><firstname>R., R. Bush</firstname></personname></author>
                <citetitle>Clarifications to the <acronym>DNS</acronym>
                  Specification</citetitle>
                <pubdate>July 1997</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2308</abbrev>
                <author><personname><surname>Andrews</surname><firstname>M.</firstname></personname></author>
                <citetitle>Negative Caching of <acronym>DNS</acronym>
                  Queries</citetitle>
                <pubdate>March 1998</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1995</abbrev>
                <author><personname><surname>Ohta</surname><firstname>M.</firstname></personname></author>
                <citetitle>Incremental Zone Transfer in <acronym>DNS</acronym></citetitle>
                <pubdate>August 1996</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1996</abbrev>
                <author><personname><surname>Vixie</surname><firstname>P.</firstname></personname></author>
                <citetitle>A Mechanism for Prompt Notification of Zone Changes</citetitle>
                <pubdate>August 1996</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2136</abbrev>
                <authorgroup>
                  <author><personname><surname>Vixie</surname><firstname>P.</firstname></personname></author>
                  <author><personname><firstname>S.</firstname><surname>Thomson</surname></personname></author>
                  <author><personname><firstname>Y.</firstname><surname>Rekhter</surname></personname></author>
                  <author><personname><firstname>J.</firstname><surname>Bound</surname></personname></author>
                </authorgroup>
                <citetitle>Dynamic Updates in the Domain Name System</citetitle>
                <pubdate>April 1997</pubdate>
              </biblioentry>
	      <biblioentry>
                <abbrev>RFC2671</abbrev>
                <authorgroup>
                  <author><personname><firstname>P.</firstname><surname>Vixie</surname></personname></author>
                </authorgroup>
                <citetitle>Extension Mechanisms for DNS (EDNS0)</citetitle>
                <pubdate>August 1997</pubdate>
	      </biblioentry>
	      <biblioentry>
                <abbrev>RFC2672</abbrev>
                <authorgroup>
                  <author><personname><firstname>M.</firstname><surname>Crawford</surname></personname></author>
                </authorgroup>
                <citetitle>Non-Terminal DNS Name Redirection</citetitle>
                <pubdate>August 1999</pubdate>
	      </biblioentry>
              <biblioentry>
                <abbrev>RFC2845</abbrev>
                <authorgroup>
                  <author><personname><surname>Vixie</surname><firstname>P.</firstname></personname></author>
                  <author><personname><firstname>O.</firstname><surname>Gudmundsson</surname></personname></author>
                  <author><personname><firstname>D.</firstname><surname>Eastlake</surname><lineage>3rd</lineage></personname></author>
                  <author><personname><firstname>B.</firstname><surname>Wellington</surname></personname></author>
                </authorgroup>
                <citetitle>Secret Key Transaction Authentication for <acronym>DNS</acronym> (TSIG)</citetitle>
                <pubdate>May 2000</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2930</abbrev>
                <authorgroup>
                  <author><personname><firstname>D.</firstname><surname>Eastlake</surname><lineage>3rd</lineage></personname></author>
                </authorgroup>
                <citetitle>Secret Key Establishment for DNS (TKEY RR)</citetitle>
                <pubdate>September 2000</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2931</abbrev>
                <authorgroup>
                  <author><personname><firstname>D.</firstname><surname>Eastlake</surname><lineage>3rd</lineage></personname></author>
                </authorgroup>
                <citetitle>DNS Request and Transaction Signatures (SIG(0)s)</citetitle>
                <pubdate>September 2000</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3007</abbrev>
                <authorgroup>
                  <author><personname><firstname>B.</firstname><surname>Wellington</surname></personname></author>
                </authorgroup>
                <citetitle>Secure Domain Name System (DNS) Dynamic Update</citetitle>
                <pubdate>November 2000</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3645</abbrev>
                <authorgroup>
                  <author><personname><firstname>S.</firstname><surname>Kwan</surname></personname></author>
                  <author><personname><firstname>P.</firstname><surname>Garg</surname></personname></author>
                  <author><personname><firstname>J.</firstname><surname>Gilroy</surname></personname></author>
                  <author><personname><firstname>L.</firstname><surname>Esibov</surname></personname></author>
                  <author><personname><firstname>J.</firstname><surname>Westhead</surname></personname></author>
                  <author><personname><firstname>R.</firstname><surname>Hall</surname></personname></author>
                </authorgroup>
                <citetitle>Generic Security Service Algorithm for Secret
		       Key Transaction Authentication for DNS
		       (GSS-TSIG)</citetitle>
                <pubdate>October 2003</pubdate>
              </biblioentry>
            </bibliodiv>
	    <bibliodiv><info><title><acronym>DNS</acronym>安全建议标准</title></info>
	      <biblioentry>
		<abbrev>RFC3225</abbrev>
	 	<authorgroup>
                  <author><personname><firstname>D.</firstname><surname>Conrad</surname></personname></author>
	 	</authorgroup>
                <citetitle>Indicating Resolver Support of DNSSEC</citetitle>
		<pubdate>December 2001</pubdate>
	      </biblioentry>
	      <biblioentry>
	        <abbrev>RFC3833</abbrev>
	 	<authorgroup>
                  <author><personname><firstname>D.</firstname><surname>Atkins</surname></personname></author>
                  <author><personname><firstname>R.</firstname><surname>Austein</surname></personname></author>
		</authorgroup>
                <citetitle>域名系统(DNS)的威胁分析</citetitle>
		<pubdate>August 2004</pubdate>
	      </biblioentry>
	      <biblioentry>
	        <abbrev>RFC4033</abbrev>
	 	<authorgroup>
                  <author><personname><firstname>R.</firstname><surname>Arends</surname></personname></author>
                  <author><personname><firstname>R.</firstname><surname>Austein</surname></personname></author>
                  <author><personname><firstname>M.</firstname><surname>Larson</surname></personname></author>
                  <author><personname><firstname>D.</firstname><surname>Massey</surname></personname></author>
                  <author><personname><firstname>S.</firstname><surname>Rose</surname></personname></author>
		</authorgroup>
                <citetitle>DNS Security Introduction and Requirements</citetitle>
		<pubdate>March 2005</pubdate>
	      </biblioentry>
	      <biblioentry>
	        <abbrev>RFC4034</abbrev>
	 	<authorgroup>
                  <author><personname><firstname>R.</firstname><surname>Arends</surname></personname></author>
                  <author><personname><firstname>R.</firstname><surname>Austein</surname></personname></author>
                  <author><personname><firstname>M.</firstname><surname>Larson</surname></personname></author>
                  <author><personname><firstname>D.</firstname><surname>Massey</surname></personname></author>
                  <author><personname><firstname>S.</firstname><surname>Rose</surname></personname></author>
		</authorgroup>
                <citetitle>Resource Records for the DNS Security Extensions</citetitle>
		<pubdate>March 2005</pubdate>
	      </biblioentry>
	      <biblioentry>
	        <abbrev>RFC4035</abbrev>
	 	<authorgroup>
                  <author><personname><firstname>R.</firstname><surname>Arends</surname></personname></author>
                  <author><personname><firstname>R.</firstname><surname>Austein</surname></personname></author>
                  <author><personname><firstname>M.</firstname><surname>Larson</surname></personname></author>
                  <author><personname><firstname>D.</firstname><surname>Massey</surname></personname></author>
                  <author><personname><firstname>S.</firstname><surname>Rose</surname></personname></author>
		</authorgroup>
                <citetitle>Protocol Modifications for the DNS
                       Security Extensions</citetitle>
		<pubdate>March 2005</pubdate>
	      </biblioentry>
            </bibliodiv>
            <bibliodiv><info><title>其它关于<acronym>DNS</acronym>实现的重要RFC</title></info>

              <biblioentry>
                <abbrev>RFC1535</abbrev>
                <author><personname><surname>Gavron</surname><firstname>E.</firstname></personname></author>
                <citetitle>A Security Problem and Proposed Correction With Widely
                  Deployed <acronym>DNS</acronym> Software</citetitle>
                <pubdate>October 1993</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1536</abbrev>
                <authorgroup>
                  <author><personname><surname>Kumar</surname><firstname>A.</firstname></personname></author>
                  <author><personname><firstname>J.</firstname><surname>Postel</surname></personname></author>
                  <author><personname><firstname>C.</firstname><surname>Neuman</surname></personname></author>
                  <author><personname><firstname>P.</firstname><surname>Danzig</surname></personname></author>
                  <author><personname><firstname>S.</firstname><surname>Miller</surname></personname></author>
                </authorgroup>
                <citetitle>Common <acronym>DNS</acronym> Implementation
                  Errors and Suggested Fixes</citetitle>
                <pubdate>October 1993</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1982</abbrev>
                <authorgroup>
                  <author><personname><surname>Elz</surname><firstname>R.</firstname></personname></author>
                  <author><personname><firstname>R.</firstname><surname>Bush</surname></personname></author>
                </authorgroup>
                <citetitle>Serial Number Arithmetic</citetitle>
                <pubdate>August 1996</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC4074</abbrev>
                <authorgroup>
                  <author><personname><surname>Morishita</surname><firstname>Y.</firstname></personname></author>
                  <author><personname><firstname>T.</firstname><surname>Jinmei</surname></personname></author>
                </authorgroup>
                <citetitle>Common Misbehaviour Against <acronym>DNS</acronym>
                Queries for IPv6 Addresses</citetitle>
                <pubdate>May 2005</pubdate>
              </biblioentry>
            </bibliodiv>
            <bibliodiv><info><title>资源记录类型</title></info>

              <biblioentry>
                <abbrev>RFC1183</abbrev>
                <authorgroup>
                  <author><personname><surname>Everhart</surname><firstname>C.F.</firstname></personname></author>
                  <author><personname><firstname>L. A.</firstname><surname>Mamakos</surname></personname></author>
                  <author><personname><firstname>R.</firstname><surname>Ullmann</surname></personname></author>
                  <author><personname><firstname>P.</firstname><surname>Mockapetris</surname></personname></author>
                </authorgroup>
                <citetitle>New <acronym>DNS</acronym> RR Definitions</citetitle>
                <pubdate>October 1990</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1706</abbrev>
                <authorgroup>
                  <author><personname><surname>Manning</surname><firstname>B.</firstname></personname></author>
                  <author><personname><firstname>R.</firstname><surname>Colella</surname></personname></author>
                </authorgroup>
                <citetitle><acronym>DNS</acronym> NSAP Resource Records</citetitle>
                <pubdate>October 1994</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2168</abbrev>
                <authorgroup>
                  <author><personname><surname>Daniel</surname><firstname>R.</firstname></personname></author>
                  <author><personname><firstname>M.</firstname><surname>Mealling</surname></personname></author>
                </authorgroup>
                <citetitle>Resolution of Uniform Resource Identifiers using
                  the Domain Name System</citetitle>
                <pubdate>June 1997</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1876</abbrev>
                <authorgroup>
                  <author><personname><surname>Davis</surname><firstname>C.</firstname></personname></author>
                  <author><personname><firstname>P.</firstname><surname>Vixie</surname></personname></author>
                  <author><personname><firstname>T.</firstname><firstname>Goodwin</firstname></personname></author>
                  <author><personname><firstname>I.</firstname><surname>Dickinson</surname></personname></author>
                </authorgroup>
                <citetitle>A Means for Expressing Location Information in the
                  Domain
                  Name System</citetitle>
                <pubdate>January 1996</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2052</abbrev>
                <authorgroup>
                  <author><personname><surname>Gulbrandsen</surname><firstname>A.</firstname></personname></author>
                  <author><personname><firstname>P.</firstname><surname>Vixie</surname></personname></author>
                </authorgroup>
                <citetitle>A <acronym>DNS</acronym> RR for Specifying the
                  Location of
                  Services</citetitle>
                <pubdate>October 1996</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2163</abbrev>
                <author><personname><surname>Allocchio</surname><firstname>A.</firstname></personname></author>
                <citetitle>Using the Internet <acronym>DNS</acronym> to
                  Distribute MIXER
                  Conformant Global Address Mapping</citetitle>
                <pubdate>January 1998</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2230</abbrev>
                <author><personname><surname>Atkinson</surname><firstname>R.</firstname></personname></author>
                <citetitle>Key Exchange Delegation Record for the <acronym>DNS</acronym></citetitle>
                <pubdate>October 1997</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2536</abbrev>
                <author><personname><surname>Eastlake</surname><firstname>D.</firstname><lineage>3rd</lineage></personname></author>
                <citetitle>DSA KEYs and SIGs in the Domain Name System (DNS)</citetitle>
                <pubdate>March 1999</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2537</abbrev>
                <author><personname><surname>Eastlake</surname><firstname>D.</firstname><lineage>3rd</lineage></personname></author>
                <citetitle>RSA/MD5 KEYs and SIGs in the Domain Name System (DNS)</citetitle>
                <pubdate>March 1999</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2538</abbrev>
		<authorgroup>
                  <author><personname><surname>Eastlake</surname><firstname>D.</firstname><lineage>3rd</lineage></personname></author>
                  <author><personname><surname>Gudmundsson</surname><firstname>O.</firstname></personname></author>
                </authorgroup>
                <citetitle>Storing Certificates in the Domain Name System (DNS)</citetitle>
                <pubdate>March 1999</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2539</abbrev>
		<authorgroup>
                  <author><personname><surname>Eastlake</surname><firstname>D.</firstname><lineage>3rd</lineage></personname></author>
                </authorgroup>
                <citetitle>Storage of Diffie-Hellman Keys in the Domain Name System (DNS)</citetitle>
                <pubdate>March 1999</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2540</abbrev>
		<authorgroup>
                  <author><personname><surname>Eastlake</surname><firstname>D.</firstname><lineage>3rd</lineage></personname></author>
                </authorgroup>
                <citetitle>Detached Domain Name System (DNS) Information</citetitle>
                <pubdate>March 1999</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2782</abbrev>
                <author><personname><surname>Gulbrandsen</surname><firstname>A.</firstname></personname></author>
                <author><personname><surname>Vixie</surname><firstname>P.</firstname></personname></author>
                <author><personname><surname>Esibov</surname><firstname>L.</firstname></personname></author>
                <citetitle>A DNS RR for specifying the location of services (DNS SRV)</citetitle>
                <pubdate>February 2000</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2915</abbrev>
                <author><personname><surname>Mealling</surname><firstname>M.</firstname></personname></author>
                <author><personname><surname>Daniel</surname><firstname>R.</firstname></personname></author>
                <citetitle>The Naming Authority Pointer (NAPTR) DNS Resource Record</citetitle>
                <pubdate>September 2000</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3110</abbrev>
                <author><personname><surname>Eastlake</surname><firstname>D.</firstname><lineage>3rd</lineage></personname></author>
                <citetitle>RSA/SHA-1 SIGs and RSA KEYs in the Domain Name System (DNS)</citetitle>
                <pubdate>May 2001</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3123</abbrev>
                <author><personname><surname>Koch</surname><firstname>P.</firstname></personname></author>
                <citetitle>A DNS RR Type for Lists of Address Prefixes (APL RR)</citetitle>
                <pubdate>June 2001</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3596</abbrev>
                <authorgroup>
                  <author><personname><surname>Thomson</surname><firstname>S.</firstname></personname></author>
                  <author><personname><firstname>C.</firstname><surname>Huitema</surname></personname></author>
                  <author><personname><firstname>V.</firstname><surname>Ksinant</surname></personname></author>
                  <author><personname><firstname>M.</firstname><surname>Souissi</surname></personname></author>
                </authorgroup>
                <citetitle><acronym>DNS</acronym> Extensions to support IP
                  version 6</citetitle>
                <pubdate>October 2003</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3597</abbrev>
                <author><personname><surname>Gustafsson</surname><firstname>A.</firstname></personname></author>
                <citetitle>Handling of Unknown DNS Resource Record (RR) Types</citetitle>
                <pubdate>September 2003</pubdate>
              </biblioentry>
            </bibliodiv>
            <bibliodiv><info><title><acronym>DNS</acronym>和互联网</title></info>

              <biblioentry>
                <abbrev>RFC1101</abbrev>
                <author><personname><surname>Mockapetris</surname><firstname>P. V.</firstname></personname></author>
                <citetitle><acronym>DNS</acronym> Encoding of Network Names
                  and Other Types</citetitle>
                <pubdate>April 1989</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1123</abbrev>
                <author><personname><surname>Braden</surname><surname>R.</surname></personname></author>
                <citetitle>Requirements for Internet Hosts - Application and
                  Support</citetitle>
                <pubdate>October 1989</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1591</abbrev>
                <author><personname><surname>Postel</surname><firstname>J.</firstname></personname></author>
                <citetitle>Domain Name System Structure and Delegation</citetitle>
                <pubdate>March 1994</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2317</abbrev>
                <authorgroup>
                  <author><personname><surname>Eidnes</surname><firstname>H.</firstname></personname></author>
                  <author><personname><firstname>G.</firstname><surname>de Groot</surname></personname></author>
                  <author><personname><firstname>P.</firstname><surname>Vixie</surname></personname></author>
                </authorgroup>
                <citetitle>Classless IN-ADDR.ARPA Delegation</citetitle>
                <pubdate>March 1998</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2826</abbrev>
                <authorgroup>
                  <author><personname><surname>Internet Architecture Board</surname></personname></author>
                </authorgroup>
                <citetitle>IAB Technical Comment on the Unique DNS Root</citetitle>
                <pubdate>May 2000</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2929</abbrev>
                <authorgroup>
                  <author><personname><surname>Eastlake</surname><firstname>D.</firstname><lineage>3rd</lineage></personname></author>
                  <author><personname><surname>Brunner-Williams</surname><firstname>E.</firstname></personname></author>
                  <author><personname><surname>Manning</surname><firstname>B.</firstname></personname></author>
                </authorgroup>
                <citetitle>Domain Name System (DNS) IANA Considerations</citetitle>
                <pubdate>September 2000</pubdate>
              </biblioentry>
            </bibliodiv>
            <bibliodiv><info><title><acronym>DNS</acronym>运行</title></info>

              <biblioentry>
                <abbrev>RFC1033</abbrev>
                <author><personname><surname>Lottor</surname><firstname>M.</firstname></personname></author>
                <citetitle>Domain administrators operations guide</citetitle>
                <pubdate>November 1987</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1537</abbrev>
                <author><personname><surname>Beertema</surname><firstname>P.</firstname></personname></author>
                <citetitle>Common <acronym>DNS</acronym> Data File
                  Configuration Errors</citetitle>
                <pubdate>October 1993</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1912</abbrev>
                <author><personname><surname>Barr</surname><firstname>D.</firstname></personname></author>
                <citetitle>Common <acronym>DNS</acronym> Operational and
                  Configuration Errors</citetitle>
                <pubdate>February 1996</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2010</abbrev>
                <authorgroup>
                  <author><personname><surname>Manning</surname><firstname>B.</firstname></personname></author>
                  <author><personname><firstname>P.</firstname><surname>Vixie</surname></personname></author>
                </authorgroup>
                <citetitle>Operational Criteria for Root Name Servers</citetitle>
                <pubdate>October 1996</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2219</abbrev>
                <authorgroup>
                  <author><personname><surname>Hamilton</surname><firstname>M.</firstname></personname></author>
                  <author><personname><firstname>R.</firstname><surname>Wright</surname></personname></author>
                </authorgroup>
                <citetitle>Use of <acronym>DNS</acronym> Aliases for
                  Network Services</citetitle>
                <pubdate>October 1997</pubdate>
              </biblioentry>
            </bibliodiv>
	    <bibliodiv><info><title>国际化域名</title></info>
              <biblioentry>
                <abbrev>RFC2825</abbrev>
		<authorgroup>
                  <author><personname><surname>IAB</surname></personname></author>
                  <author><personname><surname>Daigle</surname><firstname>R.</firstname></personname></author>
                </authorgroup>
                <citetitle>A Tangled Web: Issues of I18N, Domain Names,
                       and the Other Internet protocols</citetitle>
                <pubdate>May 2000</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3490</abbrev>
		<authorgroup>
                  <author><personname><surname>Faltstrom</surname><firstname>P.</firstname></personname></author>
                  <author><personname><surname>Hoffman</surname><firstname>P.</firstname></personname></author>
                  <author><personname><surname>Costello</surname><firstname>A.</firstname></personname></author>
                </authorgroup>
                <citetitle>Internationalizing Domain Names in Applications (IDNA)</citetitle>
                <pubdate>March 2003</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3491</abbrev>
		<authorgroup>
                  <author><personname><surname>Hoffman</surname><firstname>P.</firstname></personname></author>
                  <author><personname><surname>Blanchet</surname><firstname>M.</firstname></personname></author>
                </authorgroup>
                <citetitle>Nameprep: A Stringprep Profile for Internationalized Domain Names</citetitle>
                <pubdate>March 2003</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3492</abbrev>
		<authorgroup>
                  <author><personname><surname>Costello</surname><firstname>A.</firstname></personname></author>
                </authorgroup>
                <citetitle>Punycode: A Bootstring encoding of Unicode
                       for Internationalized Domain Names in
                       Applications (IDNA)</citetitle>
                <pubdate>March 2003</pubdate>
              </biblioentry>
	    </bibliodiv>
            <bibliodiv><info><title>其它<acronym>DNS</acronym>相关的RFC</title></info>
              <note>
                <para>
                  注意：下列RFC，虽然是与<acronym>DNS</acronym>
                  相关，但是与实现的软件无关。
                </para>
              </note>
              <biblioentry>
                <abbrev>RFC1464</abbrev>
                <author><personname><surname>Rosenbaum</surname><firstname>R.</firstname></personname></author>
                <citetitle>Using the Domain Name System To Store Arbitrary String
                  Attributes</citetitle>
                <pubdate>May 1993</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1713</abbrev>
                <author><personname><surname>Romao</surname><firstname>A.</firstname></personname></author>
                <citetitle>Tools for <acronym>DNS</acronym> Debugging</citetitle>
                <pubdate>November 1994</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC1794</abbrev>
                <author><personname><surname>Brisco</surname><firstname>T.</firstname></personname></author>
                <citetitle><acronym>DNS</acronym> Support for Load
                  Balancing</citetitle>
                <pubdate>April 1995</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2240</abbrev>
                <author><personname><surname>Vaughan</surname><firstname>O.</firstname></personname></author>
                <citetitle>A Legal Basis for Domain Name Allocation</citetitle>
                <pubdate>November 1997</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2345</abbrev>
                <authorgroup>
                  <author><personname><surname>Klensin</surname><firstname>J.</firstname></personname></author>
                  <author><personname><firstname>T.</firstname><surname>Wolf</surname></personname></author>
                  <author><personname><firstname>G.</firstname><surname>Oglesby</surname></personname></author>
                </authorgroup>
                <citetitle>Domain Names and Company Name Retrieval</citetitle>
                <pubdate>May 1998</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2352</abbrev>
                <author><personname><surname>Vaughan</surname><firstname>O.</firstname></personname></author>
                <citetitle>A Convention For Using Legal Names as Domain Names</citetitle>
                <pubdate>May 1998</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3071</abbrev>
                <authorgroup>
                  <author><personname><surname>Klensin</surname><firstname>J.</firstname></personname></author>
                </authorgroup>
                <citetitle>Reflections on the DNS, RFC 1591, and Categories of Domains</citetitle>
                <pubdate>February 2001</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3258</abbrev>
                <authorgroup>
                  <author><personname><surname>Hardie</surname><firstname>T.</firstname></personname></author>
                </authorgroup>
                <citetitle>Distributing Authoritative Name Servers via
                       Shared Unicast Addresses</citetitle>
                <pubdate>April 2002</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3901</abbrev>
                <authorgroup>
                  <author><personname><surname>Durand</surname><firstname>A.</firstname></personname></author>
                  <author><personname><firstname>J.</firstname><surname>Ihren</surname></personname></author>
                </authorgroup>
                <citetitle>DNS IPv6 Transport Operational Guidelines</citetitle>
                <pubdate>September 2004</pubdate>
              </biblioentry>
            </bibliodiv>
            <bibliodiv><info><title>废弃和未实现的试验性RFC</title></info>

              <biblioentry>
                <abbrev>RFC1712</abbrev>
                <authorgroup>
                  <author><personname><surname>Farrell</surname><firstname>C.</firstname></personname></author>
                  <author><personname><firstname>M.</firstname><surname>Schulze</surname></personname></author>
                  <author><personname><firstname>S.</firstname><surname>Pleitner</surname></personname></author>
                  <author><personname><firstname>D.</firstname><surname>Baldoni</surname></personname></author>
                </authorgroup>
                <citetitle><acronym>DNS</acronym> Encoding of Geographical
                  Location</citetitle>
                <pubdate>November 1994</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2673</abbrev>
                <authorgroup>
                  <author><personname><surname>Crawford</surname><firstname>M.</firstname></personname></author>
                </authorgroup>
                <citetitle>Binary Labels in the Domain Name System</citetitle>
                <pubdate>August 1999</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2874</abbrev>
                <authorgroup>
                  <author><personname><surname>Crawford</surname><firstname>M.</firstname></personname></author>
                  <author><personname><surname>Huitema</surname><firstname>C.</firstname></personname></author>
                </authorgroup>
                <citetitle>DNS Extensions to Support IPv6 Address Aggregation
                       and Renumbering</citetitle>
                <pubdate>July 2000</pubdate>
              </biblioentry>
            </bibliodiv>
            <bibliodiv><info><title>废弃的DNS安全RFC</title></info>
	      <note>
		<para>
                  大多数这些RFC被RFC4033，RFC4034，RFC4035所整理，它们纠正了
                  关于DNSSECbis的描述。
		</para>
	      </note>
              <biblioentry>
                <abbrev>RFC2065</abbrev>
                <authorgroup>
                  <author><personname><surname>Eastlake</surname><lineage>3rd</lineage><firstname>D.</firstname></personname></author>
                  <author><personname><firstname>C.</firstname><surname>Kaufman</surname></personname></author>
                </authorgroup>
                <citetitle>Domain Name System Security Extensions</citetitle>
                <pubdate>January 1997</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2137</abbrev>
                <author><personname><surname>Eastlake</surname><lineage>3rd</lineage><firstname>D.</firstname></personname></author>
                <citetitle>Secure Domain Name System Dynamic Update</citetitle>
                <pubdate>April 1997</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC2535</abbrev>
                <authorgroup>
                  <author><personname><surname>Eastlake</surname><lineage>3rd</lineage><firstname>D.</firstname></personname></author>
                </authorgroup>
                <citetitle>Domain Name System Security Extensions</citetitle>
                <pubdate>March 1999</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3008</abbrev>
                <authorgroup>
                  <author><personname><surname>Wellington</surname><firstname>B.</firstname></personname></author>
                </authorgroup>
                <citetitle>Domain Name System Security (DNSSEC)
                       Signing Authority</citetitle>
                <pubdate>November 2000</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3090</abbrev>
                <authorgroup>
                  <author><personname><surname>Lewis</surname><firstname>E.</firstname></personname></author>
                </authorgroup>
                <citetitle>DNS Security Extension Clarification on Zone Status</citetitle>
                <pubdate>March 2001</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3445</abbrev>
                <authorgroup>
                  <author><personname><surname>Massey</surname><firstname>D.</firstname></personname></author>
                  <author><personname><surname>Rose</surname><firstname>S.</firstname></personname></author>
                </authorgroup>
                <citetitle>Limiting the Scope of the KEY Resource Record (RR)</citetitle>
                <pubdate>December 2002</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3655</abbrev>
                <authorgroup>
                  <author><personname><surname>Wellington</surname><firstname>B.</firstname></personname></author>
                  <author><personname><surname>Gudmundsson</surname><firstname>O.</firstname></personname></author>
                </authorgroup>
                <citetitle>Redefinition of DNS Authenticated Data (AD) bit</citetitle>
                <pubdate>November 2003</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3658</abbrev>
                <authorgroup>
                  <author><personname><surname>Gudmundsson</surname><firstname>O.</firstname></personname></author>
                </authorgroup>
                <citetitle>Delegation Signer (DS) Resource Record (RR)</citetitle>
                <pubdate>December 2003</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3755</abbrev>
                <authorgroup>
                  <author><personname><surname>Weiler</surname><firstname>S.</firstname></personname></author>
                </authorgroup>
                <citetitle>Legacy Resolver Compatibility for Delegation Signer (DS)</citetitle>
                <pubdate>May 2004</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3757</abbrev>
                <authorgroup>
                  <author><personname><surname>Kolkman</surname><firstname>O.</firstname></personname></author>
                  <author><personname><surname>Schlyter</surname><firstname>J.</firstname></personname></author>
                  <author><personname><surname>Lewis</surname><firstname>E.</firstname></personname></author>
                </authorgroup>
                <citetitle>Domain Name System KEY (DNSKEY) Resource Record
                      (RR) Secure Entry Point (SEP) Flag</citetitle>
                <pubdate>April 2004</pubdate>
              </biblioentry>
              <biblioentry>
                <abbrev>RFC3845</abbrev>
                <authorgroup>
                  <author><personname><surname>Schlyter</surname><firstname>J.</firstname></personname></author>
                </authorgroup>
                <citetitle>DNS Security (DNSSEC) NextSECure (NSEC) RDATA Format</citetitle>
                <pubdate>August 2004</pubdate>
              </biblioentry>
            </bibliodiv>
          </bibliography>
        </section>
        <section xml:id="internet_drafts"><info><title>互联网草案</title></info>
          <para>
            互联网草案（ID）是互联网工程任务组粗略草案的工作文档。它们本质上
            是RFC前期的开发阶段。实现者要小心不要将ID当成归档的标准，并且不要
            在正式文档中引用它们，除非附带有它们处于“工作进程中”的免责声明。
            ID具有六个月的生命，之后它们将被删除，除非被作者所更新。
          </para>
        </section>
        <section xml:id="more_about_bind"><info>><title>其它关于<acronym>BIND</acronym>的文档</title></info>

          <para/>
          <bibliography>
            <biblioentry>
              <authorgroup>
                <author><personname><surname>Albitz</surname><firstname>Paul</firstname></personname></author>
                <author><personname><firstname>Cricket</firstname><surname>Liu</surname></personname></author>
              </authorgroup>
              <citetitle><acronym>DNS</acronym> and <acronym>BIND</acronym></citetitle>
              <copyright>
                <year>1998</year>
                <holder>Sebastopol, CA: O'Reilly and Associates</holder>
              </copyright>
            </biblioentry>
          </bibliography>
        </section>
      </section>
    </appendix>

    <appendix xml:id="Bv9ARM-gbk.ch11"><info><title>BIND 9 DNS库支持</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="libdns-utf8.xml"/>
    </appendix>

    <reference xml:id="Bv9ARM-gbk.ch12"><info><title>手册页</title></info>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="arpaname-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="ddns-confgen-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="delv-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dig-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-cds-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-checkds-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-coverage-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-dsfromkey-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-importkey-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-keyfromlabel-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-keygen-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-keymgr-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-revoke-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-settime-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-signzone-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnssec-verify-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="dnstap-read-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="filter-aaaa-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="host-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="mdig-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="named-checkconf-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="named-checkzone-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="named-journalprint-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="named-nzd2nzf-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="named-rrchecker-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="named.conf-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="named-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="nsec3hash-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="nslookup-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="nsupdate-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="pkcs11-destroy-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="pkcs11-keygen-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="pkcs11-list-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="pkcs11-tokens-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="rndc-confgen-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="rndc.conf-utf8.docbook"/>
      <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="rndc-utf8.docbook"/>
    </reference>

  </book>
